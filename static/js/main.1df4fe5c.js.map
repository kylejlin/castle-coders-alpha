{"version":3,"file":"static/js/main.1df4fe5c.js","mappings":"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","sources":["../node_modules/@capacitor/core/build/platforms.js","../node_modules/@capacitor/core/build/util.js","../node_modules/@capacitor/core/build/runtime.js","../node_modules/@capacitor/core/build/global.js","../node_modules/@capacitor/core/build/web-plugin.js","../node_modules/@capacitor/core/build/core-plugins.js","../node_modules/howler/dist/howler.js","../node_modules/react-dom/cjs/react-dom.production.min.js","../node_modules/react-dom/client.js","../node_modules/react-dom/index.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/cjs/react.production.min.js","../node_modules/react/index.js","../node_modules/react/jsx-runtime.js","../node_modules/scheduler/cjs/scheduler.production.min.js","../node_modules/scheduler/index.js","../webpack/bootstrap","../webpack/runtime/define property getters","../webpack/runtime/ensure chunk","../webpack/runtime/get javascript chunk filename","../webpack/runtime/get mini-css chunk filename","../webpack/runtime/global","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/load script","../webpack/runtime/make namespace object","../webpack/runtime/publicPath","../webpack/runtime/jsonp chunk loading","../node_modules/pure-rand/lib/esm/generator/RandomGenerator.js","../node_modules/pure-rand/lib/esm/generator/LinearCongruential.js","../node_modules/pure-rand/lib/esm/generator/MersenneTwister.js","../node_modules/pure-rand/lib/esm/generator/XorShift.js","../node_modules/pure-rand/lib/esm/generator/XoroShiro.js","../node_modules/pure-rand/lib/esm/distribution/internals/ArrayInt.js","../node_modules/pure-rand/lib/esm/distribution/internals/UnsafeUniformIntDistributionInternal.js","../node_modules/pure-rand/lib/esm/distribution/internals/UnsafeUniformArrayIntDistributionInternal.js","../node_modules/pure-rand/lib/esm/distribution/UnsafeUniformArrayIntDistribution.js","../node_modules/pure-rand/lib/esm/distribution/UniformArrayIntDistribution.js","../node_modules/pure-rand/lib/esm/distribution/UnsafeUniformBigIntDistribution.js","../node_modules/pure-rand/lib/esm/distribution/UniformBigIntDistribution.js","../node_modules/pure-rand/lib/esm/distribution/UnsafeUniformIntDistribution.js","../node_modules/pure-rand/lib/esm/distribution/UniformIntDistribution.js","../node_modules/pure-rand/lib/esm/pure-rand-default.js","../node_modules/pure-rand/lib/esm/pure-rand.js","images/index.ts","fonts/index.ts","vec2.ts","icons/dropdownArrow.ts","icons/trash_can.ts","BlockEditor.tsx","paintCanvas.ts","GAME_VERSION.ts","language.ts","SETTINGS_VERSION.ts","../node_modules/capacitor-plugin-safe-area/src/index.ts","safeArea.ts","../node_modules/@capacitor/preferences/src/index.ts","../node_modules/@capacitor/splash-screen/src/index.ts","audio/index.ts","App.tsx","storage.ts","serviceWorkerRegistration.ts","reportWebVitals.ts","index.tsx"],"sourcesContent":["const createCapacitorPlatforms = (win) => {\n    const defaultPlatformMap = new Map();\n    defaultPlatformMap.set('web', { name: 'web' });\n    const capPlatforms = win.CapacitorPlatforms || {\n        currentPlatform: { name: 'web' },\n        platforms: defaultPlatformMap,\n    };\n    const addPlatform = (name, platform) => {\n        capPlatforms.platforms.set(name, platform);\n    };\n    const setPlatform = (name) => {\n        if (capPlatforms.platforms.has(name)) {\n            capPlatforms.currentPlatform = capPlatforms.platforms.get(name);\n        }\n    };\n    capPlatforms.addPlatform = addPlatform;\n    capPlatforms.setPlatform = setPlatform;\n    return capPlatforms;\n};\nconst initPlatforms = (win) => (win.CapacitorPlatforms = createCapacitorPlatforms(win));\n/**\n * @deprecated Set `CapacitorCustomPlatform` on the window object prior to runtime executing in the web app instead\n */\nexport const CapacitorPlatforms = /*#__PURE__*/ initPlatforms((typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof self !== 'undefined'\n        ? self\n        : typeof window !== 'undefined'\n            ? window\n            : typeof global !== 'undefined'\n                ? global\n                : {}));\n/**\n * @deprecated Set `CapacitorCustomPlatform` on the window object prior to runtime executing in the web app instead\n */\nexport const addPlatform = CapacitorPlatforms.addPlatform;\n/**\n * @deprecated Set `CapacitorCustomPlatform` on the window object prior to runtime executing in the web app instead\n */\nexport const setPlatform = CapacitorPlatforms.setPlatform;\n//# sourceMappingURL=platforms.js.map","export var ExceptionCode;\n(function (ExceptionCode) {\n    /**\n     * API is not implemented.\n     *\n     * This usually means the API can't be used because it is not implemented for\n     * the current platform.\n     */\n    ExceptionCode[\"Unimplemented\"] = \"UNIMPLEMENTED\";\n    /**\n     * API is not available.\n     *\n     * This means the API can't be used right now because:\n     *   - it is currently missing a prerequisite, such as network connectivity\n     *   - it requires a particular platform or browser version\n     */\n    ExceptionCode[\"Unavailable\"] = \"UNAVAILABLE\";\n})(ExceptionCode || (ExceptionCode = {}));\nexport class CapacitorException extends Error {\n    constructor(message, code, data) {\n        super(message);\n        this.message = message;\n        this.code = code;\n        this.data = data;\n    }\n}\nexport const getPlatformId = (win) => {\n    var _a, _b;\n    if (win === null || win === void 0 ? void 0 : win.androidBridge) {\n        return 'android';\n    }\n    else if ((_b = (_a = win === null || win === void 0 ? void 0 : win.webkit) === null || _a === void 0 ? void 0 : _a.messageHandlers) === null || _b === void 0 ? void 0 : _b.bridge) {\n        return 'ios';\n    }\n    else {\n        return 'web';\n    }\n};\n//# sourceMappingURL=util.js.map","import { CapacitorException, getPlatformId, ExceptionCode } from './util';\nexport const createCapacitor = (win) => {\n    var _a, _b, _c, _d, _e;\n    const capCustomPlatform = win.CapacitorCustomPlatform || null;\n    const cap = win.Capacitor || {};\n    const Plugins = (cap.Plugins = cap.Plugins || {});\n    /**\n     * @deprecated Use `capCustomPlatform` instead, default functions like registerPlugin will function with the new object.\n     */\n    const capPlatforms = win.CapacitorPlatforms;\n    const defaultGetPlatform = () => {\n        return capCustomPlatform !== null\n            ? capCustomPlatform.name\n            : getPlatformId(win);\n    };\n    const getPlatform = ((_a = capPlatforms === null || capPlatforms === void 0 ? void 0 : capPlatforms.currentPlatform) === null || _a === void 0 ? void 0 : _a.getPlatform) || defaultGetPlatform;\n    const defaultIsNativePlatform = () => getPlatform() !== 'web';\n    const isNativePlatform = ((_b = capPlatforms === null || capPlatforms === void 0 ? void 0 : capPlatforms.currentPlatform) === null || _b === void 0 ? void 0 : _b.isNativePlatform) || defaultIsNativePlatform;\n    const defaultIsPluginAvailable = (pluginName) => {\n        const plugin = registeredPlugins.get(pluginName);\n        if (plugin === null || plugin === void 0 ? void 0 : plugin.platforms.has(getPlatform())) {\n            // JS implementation available for the current platform.\n            return true;\n        }\n        if (getPluginHeader(pluginName)) {\n            // Native implementation available.\n            return true;\n        }\n        return false;\n    };\n    const isPluginAvailable = ((_c = capPlatforms === null || capPlatforms === void 0 ? void 0 : capPlatforms.currentPlatform) === null || _c === void 0 ? void 0 : _c.isPluginAvailable) ||\n        defaultIsPluginAvailable;\n    const defaultGetPluginHeader = (pluginName) => { var _a; return (_a = cap.PluginHeaders) === null || _a === void 0 ? void 0 : _a.find(h => h.name === pluginName); };\n    const getPluginHeader = ((_d = capPlatforms === null || capPlatforms === void 0 ? void 0 : capPlatforms.currentPlatform) === null || _d === void 0 ? void 0 : _d.getPluginHeader) || defaultGetPluginHeader;\n    const handleError = (err) => win.console.error(err);\n    const pluginMethodNoop = (_target, prop, pluginName) => {\n        return Promise.reject(`${pluginName} does not have an implementation of \"${prop}\".`);\n    };\n    const registeredPlugins = new Map();\n    const defaultRegisterPlugin = (pluginName, jsImplementations = {}) => {\n        const registeredPlugin = registeredPlugins.get(pluginName);\n        if (registeredPlugin) {\n            console.warn(`Capacitor plugin \"${pluginName}\" already registered. Cannot register plugins twice.`);\n            return registeredPlugin.proxy;\n        }\n        const platform = getPlatform();\n        const pluginHeader = getPluginHeader(pluginName);\n        let jsImplementation;\n        const loadPluginImplementation = async () => {\n            if (!jsImplementation && platform in jsImplementations) {\n                jsImplementation =\n                    typeof jsImplementations[platform] === 'function'\n                        ? (jsImplementation = await jsImplementations[platform]())\n                        : (jsImplementation = jsImplementations[platform]);\n            }\n            else if (capCustomPlatform !== null &&\n                !jsImplementation &&\n                'web' in jsImplementations) {\n                jsImplementation =\n                    typeof jsImplementations['web'] === 'function'\n                        ? (jsImplementation = await jsImplementations['web']())\n                        : (jsImplementation = jsImplementations['web']);\n            }\n            return jsImplementation;\n        };\n        const createPluginMethod = (impl, prop) => {\n            var _a, _b;\n            if (pluginHeader) {\n                const methodHeader = pluginHeader === null || pluginHeader === void 0 ? void 0 : pluginHeader.methods.find(m => prop === m.name);\n                if (methodHeader) {\n                    if (methodHeader.rtype === 'promise') {\n                        return (options) => cap.nativePromise(pluginName, prop.toString(), options);\n                    }\n                    else {\n                        return (options, callback) => cap.nativeCallback(pluginName, prop.toString(), options, callback);\n                    }\n                }\n                else if (impl) {\n                    return (_a = impl[prop]) === null || _a === void 0 ? void 0 : _a.bind(impl);\n                }\n            }\n            else if (impl) {\n                return (_b = impl[prop]) === null || _b === void 0 ? void 0 : _b.bind(impl);\n            }\n            else {\n                throw new CapacitorException(`\"${pluginName}\" plugin is not implemented on ${platform}`, ExceptionCode.Unimplemented);\n            }\n        };\n        const createPluginMethodWrapper = (prop) => {\n            let remove;\n            const wrapper = (...args) => {\n                const p = loadPluginImplementation().then(impl => {\n                    const fn = createPluginMethod(impl, prop);\n                    if (fn) {\n                        const p = fn(...args);\n                        remove = p === null || p === void 0 ? void 0 : p.remove;\n                        return p;\n                    }\n                    else {\n                        throw new CapacitorException(`\"${pluginName}.${prop}()\" is not implemented on ${platform}`, ExceptionCode.Unimplemented);\n                    }\n                });\n                if (prop === 'addListener') {\n                    p.remove = async () => remove();\n                }\n                return p;\n            };\n            // Some flair ✨\n            wrapper.toString = () => `${prop.toString()}() { [capacitor code] }`;\n            Object.defineProperty(wrapper, 'name', {\n                value: prop,\n                writable: false,\n                configurable: false,\n            });\n            return wrapper;\n        };\n        const addListener = createPluginMethodWrapper('addListener');\n        const removeListener = createPluginMethodWrapper('removeListener');\n        const addListenerNative = (eventName, callback) => {\n            const call = addListener({ eventName }, callback);\n            const remove = async () => {\n                const callbackId = await call;\n                removeListener({\n                    eventName,\n                    callbackId,\n                }, callback);\n            };\n            const p = new Promise(resolve => call.then(() => resolve({ remove })));\n            p.remove = async () => {\n                console.warn(`Using addListener() without 'await' is deprecated.`);\n                await remove();\n            };\n            return p;\n        };\n        const proxy = new Proxy({}, {\n            get(_, prop) {\n                switch (prop) {\n                    // https://github.com/facebook/react/issues/20030\n                    case '$$typeof':\n                        return undefined;\n                    case 'toJSON':\n                        return () => ({});\n                    case 'addListener':\n                        return pluginHeader ? addListenerNative : addListener;\n                    case 'removeListener':\n                        return removeListener;\n                    default:\n                        return createPluginMethodWrapper(prop);\n                }\n            },\n        });\n        Plugins[pluginName] = proxy;\n        registeredPlugins.set(pluginName, {\n            name: pluginName,\n            proxy,\n            platforms: new Set([\n                ...Object.keys(jsImplementations),\n                ...(pluginHeader ? [platform] : []),\n            ]),\n        });\n        return proxy;\n    };\n    const registerPlugin = ((_e = capPlatforms === null || capPlatforms === void 0 ? void 0 : capPlatforms.currentPlatform) === null || _e === void 0 ? void 0 : _e.registerPlugin) || defaultRegisterPlugin;\n    // Add in convertFileSrc for web, it will already be available in native context\n    if (!cap.convertFileSrc) {\n        cap.convertFileSrc = filePath => filePath;\n    }\n    cap.getPlatform = getPlatform;\n    cap.handleError = handleError;\n    cap.isNativePlatform = isNativePlatform;\n    cap.isPluginAvailable = isPluginAvailable;\n    cap.pluginMethodNoop = pluginMethodNoop;\n    cap.registerPlugin = registerPlugin;\n    cap.Exception = CapacitorException;\n    cap.DEBUG = !!cap.DEBUG;\n    cap.isLoggingEnabled = !!cap.isLoggingEnabled;\n    // Deprecated props\n    cap.platform = cap.getPlatform();\n    cap.isNative = cap.isNativePlatform();\n    return cap;\n};\nexport const initCapacitorGlobal = (win) => (win.Capacitor = createCapacitor(win));\n//# sourceMappingURL=runtime.js.map","import { legacyRegisterWebPlugin } from './legacy/legacy-web-plugin-merge';\nimport { initCapacitorGlobal } from './runtime';\nexport const Capacitor = /*#__PURE__*/ initCapacitorGlobal(typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof self !== 'undefined'\n        ? self\n        : typeof window !== 'undefined'\n            ? window\n            : typeof global !== 'undefined'\n                ? global\n                : {});\nexport const registerPlugin = Capacitor.registerPlugin;\n/**\n * @deprecated Provided for backwards compatibility for Capacitor v2 plugins.\n * Capacitor v3 plugins should import the plugin directly. This \"Plugins\"\n * export is deprecated in v3, and will be removed in v4.\n */\nexport const Plugins = Capacitor.Plugins;\n/**\n * Provided for backwards compatibility. Use the registerPlugin() API\n * instead, and provide the web plugin as the \"web\" implmenetation.\n * For example\n *\n * export const Example = registerPlugin('Example', {\n *   web: () => import('./web').then(m => new m.Example())\n * })\n *\n * @deprecated Deprecated in v3, will be removed from v4.\n */\nexport const registerWebPlugin = (plugin) => legacyRegisterWebPlugin(Capacitor, plugin);\n//# sourceMappingURL=global.js.map","import { Capacitor } from './global';\nimport { ExceptionCode } from './util';\n/**\n * Base class web plugins should extend.\n */\nexport class WebPlugin {\n    constructor(config) {\n        this.listeners = {};\n        this.retainedEventArguments = {};\n        this.windowListeners = {};\n        if (config) {\n            // TODO: add link to upgrade guide\n            console.warn(`Capacitor WebPlugin \"${config.name}\" config object was deprecated in v3 and will be removed in v4.`);\n            this.config = config;\n        }\n    }\n    addListener(eventName, listenerFunc) {\n        let firstListener = false;\n        const listeners = this.listeners[eventName];\n        if (!listeners) {\n            this.listeners[eventName] = [];\n            firstListener = true;\n        }\n        this.listeners[eventName].push(listenerFunc);\n        // If we haven't added a window listener for this event and it requires one,\n        // go ahead and add it\n        const windowListener = this.windowListeners[eventName];\n        if (windowListener && !windowListener.registered) {\n            this.addWindowListener(windowListener);\n        }\n        if (firstListener) {\n            this.sendRetainedArgumentsForEvent(eventName);\n        }\n        const remove = async () => this.removeListener(eventName, listenerFunc);\n        const p = Promise.resolve({ remove });\n        return p;\n    }\n    async removeAllListeners() {\n        this.listeners = {};\n        for (const listener in this.windowListeners) {\n            this.removeWindowListener(this.windowListeners[listener]);\n        }\n        this.windowListeners = {};\n    }\n    notifyListeners(eventName, data, retainUntilConsumed) {\n        const listeners = this.listeners[eventName];\n        if (!listeners) {\n            if (retainUntilConsumed) {\n                let args = this.retainedEventArguments[eventName];\n                if (!args) {\n                    args = [];\n                }\n                args.push(data);\n                this.retainedEventArguments[eventName] = args;\n            }\n            return;\n        }\n        listeners.forEach(listener => listener(data));\n    }\n    hasListeners(eventName) {\n        return !!this.listeners[eventName].length;\n    }\n    registerWindowListener(windowEventName, pluginEventName) {\n        this.windowListeners[pluginEventName] = {\n            registered: false,\n            windowEventName,\n            pluginEventName,\n            handler: event => {\n                this.notifyListeners(pluginEventName, event);\n            },\n        };\n    }\n    unimplemented(msg = 'not implemented') {\n        return new Capacitor.Exception(msg, ExceptionCode.Unimplemented);\n    }\n    unavailable(msg = 'not available') {\n        return new Capacitor.Exception(msg, ExceptionCode.Unavailable);\n    }\n    async removeListener(eventName, listenerFunc) {\n        const listeners = this.listeners[eventName];\n        if (!listeners) {\n            return;\n        }\n        const index = listeners.indexOf(listenerFunc);\n        this.listeners[eventName].splice(index, 1);\n        // If there are no more listeners for this type of event,\n        // remove the window listener\n        if (!this.listeners[eventName].length) {\n            this.removeWindowListener(this.windowListeners[eventName]);\n        }\n    }\n    addWindowListener(handle) {\n        window.addEventListener(handle.windowEventName, handle.handler);\n        handle.registered = true;\n    }\n    removeWindowListener(handle) {\n        if (!handle) {\n            return;\n        }\n        window.removeEventListener(handle.windowEventName, handle.handler);\n        handle.registered = false;\n    }\n    sendRetainedArgumentsForEvent(eventName) {\n        const args = this.retainedEventArguments[eventName];\n        if (!args) {\n            return;\n        }\n        delete this.retainedEventArguments[eventName];\n        args.forEach(arg => {\n            this.notifyListeners(eventName, arg);\n        });\n    }\n}\n//# sourceMappingURL=web-plugin.js.map","import { registerPlugin } from './global';\nimport { WebPlugin } from './web-plugin';\nexport const WebView = /*#__PURE__*/ registerPlugin('WebView');\n/******** END WEB VIEW PLUGIN ********/\n/******** COOKIES PLUGIN ********/\n/**\n * Safely web encode a string value (inspired by js-cookie)\n * @param str The string value to encode\n */\nconst encode = (str) => encodeURIComponent(str)\n    .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n    .replace(/[()]/g, escape);\n/**\n * Safely web decode a string value (inspired by js-cookie)\n * @param str The string value to decode\n */\nconst decode = (str) => str.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent);\nexport class CapacitorCookiesPluginWeb extends WebPlugin {\n    async getCookies() {\n        const cookies = document.cookie;\n        const cookieMap = {};\n        cookies.split(';').forEach(cookie => {\n            if (cookie.length <= 0)\n                return;\n            // Replace first \"=\" with CAP_COOKIE to prevent splitting on additional \"=\"\n            let [key, value] = cookie.replace(/=/, 'CAP_COOKIE').split('CAP_COOKIE');\n            key = decode(key).trim();\n            value = decode(value).trim();\n            cookieMap[key] = value;\n        });\n        return cookieMap;\n    }\n    async setCookie(options) {\n        try {\n            // Safely Encoded Key/Value\n            const encodedKey = encode(options.key);\n            const encodedValue = encode(options.value);\n            // Clean & sanitize options\n            const expires = `; expires=${(options.expires || '').replace('expires=', '')}`; // Default is \"; expires=\"\n            const path = (options.path || '/').replace('path=', ''); // Default is \"path=/\"\n            const domain = options.url != null && options.url.length > 0\n                ? `domain=${options.url}`\n                : '';\n            document.cookie = `${encodedKey}=${encodedValue || ''}${expires}; path=${path}; ${domain};`;\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n    }\n    async deleteCookie(options) {\n        try {\n            document.cookie = `${options.key}=; Max-Age=0`;\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n    }\n    async clearCookies() {\n        try {\n            const cookies = document.cookie.split(';') || [];\n            for (const cookie of cookies) {\n                document.cookie = cookie\n                    .replace(/^ +/, '')\n                    .replace(/=.*/, `=;expires=${new Date().toUTCString()};path=/`);\n            }\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n    }\n    async clearAllCookies() {\n        try {\n            await this.clearCookies();\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n    }\n}\nexport const CapacitorCookies = registerPlugin('CapacitorCookies', {\n    web: () => new CapacitorCookiesPluginWeb(),\n});\n// UTILITY FUNCTIONS\n/**\n * Read in a Blob value and return it as a base64 string\n * @param blob The blob value to convert to a base64 string\n */\nexport const readBlobAsBase64 = async (blob) => new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = () => {\n        const base64String = reader.result;\n        // remove prefix \"data:application/pdf;base64,\"\n        resolve(base64String.indexOf(',') >= 0\n            ? base64String.split(',')[1]\n            : base64String);\n    };\n    reader.onerror = (error) => reject(error);\n    reader.readAsDataURL(blob);\n});\n/**\n * Normalize an HttpHeaders map by lowercasing all of the values\n * @param headers The HttpHeaders object to normalize\n */\nconst normalizeHttpHeaders = (headers = {}) => {\n    const originalKeys = Object.keys(headers);\n    const loweredKeys = Object.keys(headers).map(k => k.toLocaleLowerCase());\n    const normalized = loweredKeys.reduce((acc, key, index) => {\n        acc[key] = headers[originalKeys[index]];\n        return acc;\n    }, {});\n    return normalized;\n};\n/**\n * Builds a string of url parameters that\n * @param params A map of url parameters\n * @param shouldEncode true if you should encodeURIComponent() the values (true by default)\n */\nconst buildUrlParams = (params, shouldEncode = true) => {\n    if (!params)\n        return null;\n    const output = Object.entries(params).reduce((accumulator, entry) => {\n        const [key, value] = entry;\n        let encodedValue;\n        let item;\n        if (Array.isArray(value)) {\n            item = '';\n            value.forEach(str => {\n                encodedValue = shouldEncode ? encodeURIComponent(str) : str;\n                item += `${key}=${encodedValue}&`;\n            });\n            // last character will always be \"&\" so slice it off\n            item.slice(0, -1);\n        }\n        else {\n            encodedValue = shouldEncode ? encodeURIComponent(value) : value;\n            item = `${key}=${encodedValue}`;\n        }\n        return `${accumulator}&${item}`;\n    }, '');\n    // Remove initial \"&\" from the reduce\n    return output.substr(1);\n};\n/**\n * Build the RequestInit object based on the options passed into the initial request\n * @param options The Http plugin options\n * @param extra Any extra RequestInit values\n */\nexport const buildRequestInit = (options, extra = {}) => {\n    const output = Object.assign({ method: options.method || 'GET', headers: options.headers }, extra);\n    // Get the content-type\n    const headers = normalizeHttpHeaders(options.headers);\n    const type = headers['content-type'] || '';\n    // If body is already a string, then pass it through as-is.\n    if (typeof options.data === 'string') {\n        output.body = options.data;\n    }\n    // Build request initializers based off of content-type\n    else if (type.includes('application/x-www-form-urlencoded')) {\n        const params = new URLSearchParams();\n        for (const [key, value] of Object.entries(options.data || {})) {\n            params.set(key, value);\n        }\n        output.body = params.toString();\n    }\n    else if (type.includes('multipart/form-data') ||\n        options.data instanceof FormData) {\n        const form = new FormData();\n        if (options.data instanceof FormData) {\n            options.data.forEach((value, key) => {\n                form.append(key, value);\n            });\n        }\n        else {\n            for (const key of Object.keys(options.data)) {\n                form.append(key, options.data[key]);\n            }\n        }\n        output.body = form;\n        const headers = new Headers(output.headers);\n        headers.delete('content-type'); // content-type will be set by `window.fetch` to includy boundary\n        output.headers = headers;\n    }\n    else if (type.includes('application/json') ||\n        typeof options.data === 'object') {\n        output.body = JSON.stringify(options.data);\n    }\n    return output;\n};\n// WEB IMPLEMENTATION\nexport class CapacitorHttpPluginWeb extends WebPlugin {\n    /**\n     * Perform an Http request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async request(options) {\n        const requestInit = buildRequestInit(options, options.webFetchExtra);\n        const urlParams = buildUrlParams(options.params, options.shouldEncodeUrlParams);\n        const url = urlParams ? `${options.url}?${urlParams}` : options.url;\n        const response = await fetch(url, requestInit);\n        const contentType = response.headers.get('content-type') || '';\n        // Default to 'text' responseType so no parsing happens\n        let { responseType = 'text' } = response.ok ? options : {};\n        // If the response content-type is json, force the response to be json\n        if (contentType.includes('application/json')) {\n            responseType = 'json';\n        }\n        let data;\n        let blob;\n        switch (responseType) {\n            case 'arraybuffer':\n            case 'blob':\n                blob = await response.blob();\n                data = await readBlobAsBase64(blob);\n                break;\n            case 'json':\n                data = await response.json();\n                break;\n            case 'document':\n            case 'text':\n            default:\n                data = await response.text();\n        }\n        // Convert fetch headers to Capacitor HttpHeaders\n        const headers = {};\n        response.headers.forEach((value, key) => {\n            headers[key] = value;\n        });\n        return {\n            data,\n            headers,\n            status: response.status,\n            url: response.url,\n        };\n    }\n    /**\n     * Perform an Http GET request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async get(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'GET' }));\n    }\n    /**\n     * Perform an Http POST request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async post(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'POST' }));\n    }\n    /**\n     * Perform an Http PUT request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async put(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'PUT' }));\n    }\n    /**\n     * Perform an Http PATCH request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async patch(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'PATCH' }));\n    }\n    /**\n     * Perform an Http DELETE request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async delete(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'DELETE' }));\n    }\n}\nexport const CapacitorHttp = registerPlugin('CapacitorHttp', {\n    web: () => new CapacitorHttpPluginWeb(),\n});\n/******** END HTTP PLUGIN ********/\n//# sourceMappingURL=core-plugins.js.map","/*!\n *  howler.js v2.2.4\n *  howlerjs.com\n *\n *  (c) 2013-2020, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\n\n(function() {\n\n  'use strict';\n\n  /** Global Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create the global controller. All contained methods and properties apply\n   * to all sounds that are currently playing or will be in the future.\n   */\n  var HowlerGlobal = function() {\n    this.init();\n  };\n  HowlerGlobal.prototype = {\n    /**\n     * Initialize the global Howler object.\n     * @return {Howler}\n     */\n    init: function() {\n      var self = this || Howler;\n\n      // Create a global ID counter.\n      self._counter = 1000;\n\n      // Pool of unlocked HTML5 Audio objects.\n      self._html5AudioPool = [];\n      self.html5PoolSize = 10;\n\n      // Internal properties.\n      self._codecs = {};\n      self._howls = [];\n      self._muted = false;\n      self._volume = 1;\n      self._canPlayEvent = 'canplaythrough';\n      self._navigator = (typeof window !== 'undefined' && window.navigator) ? window.navigator : null;\n\n      // Public properties.\n      self.masterGain = null;\n      self.noAudio = false;\n      self.usingWebAudio = true;\n      self.autoSuspend = true;\n      self.ctx = null;\n\n      // Set to false to disable the auto audio unlocker.\n      self.autoUnlock = true;\n\n      // Setup the various state values for global tracking.\n      self._setup();\n\n      return self;\n    },\n\n    /**\n     * Get/set the global volume for all sounds.\n     * @param  {Float} vol Volume from 0.0 to 1.0.\n     * @return {Howler/Float}     Returns self or current volume.\n     */\n    volume: function(vol) {\n      var self = this || Howler;\n      vol = parseFloat(vol);\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!self.ctx) {\n        setupAudioContext();\n      }\n\n      if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {\n        self._volume = vol;\n\n        // Don't update any of the nodes if we are muted.\n        if (self._muted) {\n          return self;\n        }\n\n        // When using Web Audio, we just need to adjust the master gain.\n        if (self.usingWebAudio) {\n          self.masterGain.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n        }\n\n        // Loop through and change volume for all HTML5 audio nodes.\n        for (var i=0; i<self._howls.length; i++) {\n          if (!self._howls[i]._webAudio) {\n            // Get all of the sounds in this Howl group.\n            var ids = self._howls[i]._getSoundIds();\n\n            // Loop through all sounds and change the volumes.\n            for (var j=0; j<ids.length; j++) {\n              var sound = self._howls[i]._soundById(ids[j]);\n\n              if (sound && sound._node) {\n                sound._node.volume = sound._volume * vol;\n              }\n            }\n          }\n        }\n\n        return self;\n      }\n\n      return self._volume;\n    },\n\n    /**\n     * Handle muting and unmuting globally.\n     * @param  {Boolean} muted Is muted or not.\n     */\n    mute: function(muted) {\n      var self = this || Howler;\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!self.ctx) {\n        setupAudioContext();\n      }\n\n      self._muted = muted;\n\n      // With Web Audio, we just need to mute the master gain.\n      if (self.usingWebAudio) {\n        self.masterGain.gain.setValueAtTime(muted ? 0 : self._volume, Howler.ctx.currentTime);\n      }\n\n      // Loop through and mute all HTML5 Audio nodes.\n      for (var i=0; i<self._howls.length; i++) {\n        if (!self._howls[i]._webAudio) {\n          // Get all of the sounds in this Howl group.\n          var ids = self._howls[i]._getSoundIds();\n\n          // Loop through all sounds and mark the audio node as muted.\n          for (var j=0; j<ids.length; j++) {\n            var sound = self._howls[i]._soundById(ids[j]);\n\n            if (sound && sound._node) {\n              sound._node.muted = (muted) ? true : sound._muted;\n            }\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Handle stopping all sounds globally.\n     */\n    stop: function() {\n      var self = this || Howler;\n\n      // Loop through all Howls and stop them.\n      for (var i=0; i<self._howls.length; i++) {\n        self._howls[i].stop();\n      }\n\n      return self;\n    },\n\n    /**\n     * Unload and destroy all currently loaded Howl objects.\n     * @return {Howler}\n     */\n    unload: function() {\n      var self = this || Howler;\n\n      for (var i=self._howls.length-1; i>=0; i--) {\n        self._howls[i].unload();\n      }\n\n      // Create a new AudioContext to make sure it is fully reset.\n      if (self.usingWebAudio && self.ctx && typeof self.ctx.close !== 'undefined') {\n        self.ctx.close();\n        self.ctx = null;\n        setupAudioContext();\n      }\n\n      return self;\n    },\n\n    /**\n     * Check for codec support of specific extension.\n     * @param  {String} ext Audio file extention.\n     * @return {Boolean}\n     */\n    codecs: function(ext) {\n      return (this || Howler)._codecs[ext.replace(/^x-/, '')];\n    },\n\n    /**\n     * Setup various state values for global tracking.\n     * @return {Howler}\n     */\n    _setup: function() {\n      var self = this || Howler;\n\n      // Keeps track of the suspend/resume state of the AudioContext.\n      self.state = self.ctx ? self.ctx.state || 'suspended' : 'suspended';\n\n      // Automatically begin the 30-second suspend process\n      self._autoSuspend();\n\n      // Check if audio is available.\n      if (!self.usingWebAudio) {\n        // No audio is available on this system if noAudio is set to true.\n        if (typeof Audio !== 'undefined') {\n          try {\n            var test = new Audio();\n\n            // Check if the canplaythrough event is available.\n            if (typeof test.oncanplaythrough === 'undefined') {\n              self._canPlayEvent = 'canplay';\n            }\n          } catch(e) {\n            self.noAudio = true;\n          }\n        } else {\n          self.noAudio = true;\n        }\n      }\n\n      // Test to make sure audio isn't disabled in Internet Explorer.\n      try {\n        var test = new Audio();\n        if (test.muted) {\n          self.noAudio = true;\n        }\n      } catch (e) {}\n\n      // Check for supported codecs.\n      if (!self.noAudio) {\n        self._setupCodecs();\n      }\n\n      return self;\n    },\n\n    /**\n     * Check for browser support for various codecs and cache the results.\n     * @return {Howler}\n     */\n    _setupCodecs: function() {\n      var self = this || Howler;\n      var audioTest = null;\n\n      // Must wrap in a try/catch because IE11 in server mode throws an error.\n      try {\n        audioTest = (typeof Audio !== 'undefined') ? new Audio() : null;\n      } catch (err) {\n        return self;\n      }\n\n      if (!audioTest || typeof audioTest.canPlayType !== 'function') {\n        return self;\n      }\n\n      var mpegTest = audioTest.canPlayType('audio/mpeg;').replace(/^no$/, '');\n\n      // Opera version <33 has mixed MP3 support, so we need to check for and block it.\n      var ua = self._navigator ? self._navigator.userAgent : '';\n      var checkOpera = ua.match(/OPR\\/(\\d+)/g);\n      var isOldOpera = (checkOpera && parseInt(checkOpera[0].split('/')[1], 10) < 33);\n      var checkSafari = ua.indexOf('Safari') !== -1 && ua.indexOf('Chrome') === -1;\n      var safariVersion = ua.match(/Version\\/(.*?) /);\n      var isOldSafari = (checkSafari && safariVersion && parseInt(safariVersion[1], 10) < 15);\n\n      self._codecs = {\n        mp3: !!(!isOldOpera && (mpegTest || audioTest.canPlayType('audio/mp3;').replace(/^no$/, ''))),\n        mpeg: !!mpegTest,\n        opus: !!audioTest.canPlayType('audio/ogg; codecs=\"opus\"').replace(/^no$/, ''),\n        ogg: !!audioTest.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, ''),\n        oga: !!audioTest.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, ''),\n        wav: !!(audioTest.canPlayType('audio/wav; codecs=\"1\"') || audioTest.canPlayType('audio/wav')).replace(/^no$/, ''),\n        aac: !!audioTest.canPlayType('audio/aac;').replace(/^no$/, ''),\n        caf: !!audioTest.canPlayType('audio/x-caf;').replace(/^no$/, ''),\n        m4a: !!(audioTest.canPlayType('audio/x-m4a;') || audioTest.canPlayType('audio/m4a;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        m4b: !!(audioTest.canPlayType('audio/x-m4b;') || audioTest.canPlayType('audio/m4b;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        mp4: !!(audioTest.canPlayType('audio/x-mp4;') || audioTest.canPlayType('audio/mp4;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        weba: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, '')),\n        webm: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, '')),\n        dolby: !!audioTest.canPlayType('audio/mp4; codecs=\"ec-3\"').replace(/^no$/, ''),\n        flac: !!(audioTest.canPlayType('audio/x-flac;') || audioTest.canPlayType('audio/flac;')).replace(/^no$/, '')\n      };\n\n      return self;\n    },\n\n    /**\n     * Some browsers/devices will only allow audio to be played after a user interaction.\n     * Attempt to automatically unlock audio on the first user interaction.\n     * Concept from: http://paulbakaus.com/tutorials/html5/web-audio-on-ios/\n     * @return {Howler}\n     */\n    _unlockAudio: function() {\n      var self = this || Howler;\n\n      // Only run this if Web Audio is supported and it hasn't already been unlocked.\n      if (self._audioUnlocked || !self.ctx) {\n        return;\n      }\n\n      self._audioUnlocked = false;\n      self.autoUnlock = false;\n\n      // Some mobile devices/platforms have distortion issues when opening/closing tabs and/or web views.\n      // Bugs in the browser (especially Mobile Safari) can cause the sampleRate to change from 44100 to 48000.\n      // By calling Howler.unload(), we create a new AudioContext with the correct sampleRate.\n      if (!self._mobileUnloaded && self.ctx.sampleRate !== 44100) {\n        self._mobileUnloaded = true;\n        self.unload();\n      }\n\n      // Scratch buffer for enabling iOS to dispose of web audio buffers correctly, as per:\n      // http://stackoverflow.com/questions/24119684\n      self._scratchBuffer = self.ctx.createBuffer(1, 1, 22050);\n\n      // Call this method on touch start to create and play a buffer,\n      // then check if the audio actually played to determine if\n      // audio has now been unlocked on iOS, Android, etc.\n      var unlock = function(e) {\n        // Create a pool of unlocked HTML5 Audio objects that can\n        // be used for playing sounds without user interaction. HTML5\n        // Audio objects must be individually unlocked, as opposed\n        // to the WebAudio API which only needs a single activation.\n        // This must occur before WebAudio setup or the source.onended\n        // event will not fire.\n        while (self._html5AudioPool.length < self.html5PoolSize) {\n          try {\n            var audioNode = new Audio();\n\n            // Mark this Audio object as unlocked to ensure it can get returned\n            // to the unlocked pool when released.\n            audioNode._unlocked = true;\n\n            // Add the audio node to the pool.\n            self._releaseHtml5Audio(audioNode);\n          } catch (e) {\n            self.noAudio = true;\n            break;\n          }\n        }\n\n        // Loop through any assigned audio nodes and unlock them.\n        for (var i=0; i<self._howls.length; i++) {\n          if (!self._howls[i]._webAudio) {\n            // Get all of the sounds in this Howl group.\n            var ids = self._howls[i]._getSoundIds();\n\n            // Loop through all sounds and unlock the audio nodes.\n            for (var j=0; j<ids.length; j++) {\n              var sound = self._howls[i]._soundById(ids[j]);\n\n              if (sound && sound._node && !sound._node._unlocked) {\n                sound._node._unlocked = true;\n                sound._node.load();\n              }\n            }\n          }\n        }\n\n        // Fix Android can not play in suspend state.\n        self._autoResume();\n\n        // Create an empty buffer.\n        var source = self.ctx.createBufferSource();\n        source.buffer = self._scratchBuffer;\n        source.connect(self.ctx.destination);\n\n        // Play the empty buffer.\n        if (typeof source.start === 'undefined') {\n          source.noteOn(0);\n        } else {\n          source.start(0);\n        }\n\n        // Calling resume() on a stack initiated by user gesture is what actually unlocks the audio on Android Chrome >= 55.\n        if (typeof self.ctx.resume === 'function') {\n          self.ctx.resume();\n        }\n\n        // Setup a timeout to check that we are unlocked on the next event loop.\n        source.onended = function() {\n          source.disconnect(0);\n\n          // Update the unlocked state and prevent this check from happening again.\n          self._audioUnlocked = true;\n\n          // Remove the touch start listener.\n          document.removeEventListener('touchstart', unlock, true);\n          document.removeEventListener('touchend', unlock, true);\n          document.removeEventListener('click', unlock, true);\n          document.removeEventListener('keydown', unlock, true);\n\n          // Let all sounds know that audio has been unlocked.\n          for (var i=0; i<self._howls.length; i++) {\n            self._howls[i]._emit('unlock');\n          }\n        };\n      };\n\n      // Setup a touch start listener to attempt an unlock in.\n      document.addEventListener('touchstart', unlock, true);\n      document.addEventListener('touchend', unlock, true);\n      document.addEventListener('click', unlock, true);\n      document.addEventListener('keydown', unlock, true);\n\n      return self;\n    },\n\n    /**\n     * Get an unlocked HTML5 Audio object from the pool. If none are left,\n     * return a new Audio object and throw a warning.\n     * @return {Audio} HTML5 Audio object.\n     */\n    _obtainHtml5Audio: function() {\n      var self = this || Howler;\n\n      // Return the next object from the pool if one exists.\n      if (self._html5AudioPool.length) {\n        return self._html5AudioPool.pop();\n      }\n\n      //.Check if the audio is locked and throw a warning.\n      var testPlay = new Audio().play();\n      if (testPlay && typeof Promise !== 'undefined' && (testPlay instanceof Promise || typeof testPlay.then === 'function')) {\n        testPlay.catch(function() {\n          console.warn('HTML5 Audio pool exhausted, returning potentially locked audio object.');\n        });\n      }\n\n      return new Audio();\n    },\n\n    /**\n     * Return an activated HTML5 Audio object to the pool.\n     * @return {Howler}\n     */\n    _releaseHtml5Audio: function(audio) {\n      var self = this || Howler;\n\n      // Don't add audio to the pool if we don't know if it has been unlocked.\n      if (audio._unlocked) {\n        self._html5AudioPool.push(audio);\n      }\n\n      return self;\n    },\n\n    /**\n     * Automatically suspend the Web Audio AudioContext after no sound has played for 30 seconds.\n     * This saves processing/energy and fixes various browser-specific bugs with audio getting stuck.\n     * @return {Howler}\n     */\n    _autoSuspend: function() {\n      var self = this;\n\n      if (!self.autoSuspend || !self.ctx || typeof self.ctx.suspend === 'undefined' || !Howler.usingWebAudio) {\n        return;\n      }\n\n      // Check if any sounds are playing.\n      for (var i=0; i<self._howls.length; i++) {\n        if (self._howls[i]._webAudio) {\n          for (var j=0; j<self._howls[i]._sounds.length; j++) {\n            if (!self._howls[i]._sounds[j]._paused) {\n              return self;\n            }\n          }\n        }\n      }\n\n      if (self._suspendTimer) {\n        clearTimeout(self._suspendTimer);\n      }\n\n      // If no sound has played after 30 seconds, suspend the context.\n      self._suspendTimer = setTimeout(function() {\n        if (!self.autoSuspend) {\n          return;\n        }\n\n        self._suspendTimer = null;\n        self.state = 'suspending';\n\n        // Handle updating the state of the audio context after suspending.\n        var handleSuspension = function() {\n          self.state = 'suspended';\n\n          if (self._resumeAfterSuspend) {\n            delete self._resumeAfterSuspend;\n            self._autoResume();\n          }\n        };\n\n        // Either the state gets suspended or it is interrupted.\n        // Either way, we need to update the state to suspended.\n        self.ctx.suspend().then(handleSuspension, handleSuspension);\n      }, 30000);\n\n      return self;\n    },\n\n    /**\n     * Automatically resume the Web Audio AudioContext when a new sound is played.\n     * @return {Howler}\n     */\n    _autoResume: function() {\n      var self = this;\n\n      if (!self.ctx || typeof self.ctx.resume === 'undefined' || !Howler.usingWebAudio) {\n        return;\n      }\n\n      if (self.state === 'running' && self.ctx.state !== 'interrupted' && self._suspendTimer) {\n        clearTimeout(self._suspendTimer);\n        self._suspendTimer = null;\n      } else if (self.state === 'suspended' || self.state === 'running' && self.ctx.state === 'interrupted') {\n        self.ctx.resume().then(function() {\n          self.state = 'running';\n\n          // Emit to all Howls that the audio has resumed.\n          for (var i=0; i<self._howls.length; i++) {\n            self._howls[i]._emit('resume');\n          }\n        });\n\n        if (self._suspendTimer) {\n          clearTimeout(self._suspendTimer);\n          self._suspendTimer = null;\n        }\n      } else if (self.state === 'suspending') {\n        self._resumeAfterSuspend = true;\n      }\n\n      return self;\n    }\n  };\n\n  // Setup the global audio controller.\n  var Howler = new HowlerGlobal();\n\n  /** Group Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create an audio group controller.\n   * @param {Object} o Passed in properties for this group.\n   */\n  var Howl = function(o) {\n    var self = this;\n\n    // Throw an error if no source is provided.\n    if (!o.src || o.src.length === 0) {\n      console.error('An array of source files must be passed with any new Howl.');\n      return;\n    }\n\n    self.init(o);\n  };\n  Howl.prototype = {\n    /**\n     * Initialize a new Howl group object.\n     * @param  {Object} o Passed in properties for this group.\n     * @return {Howl}\n     */\n    init: function(o) {\n      var self = this;\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!Howler.ctx) {\n        setupAudioContext();\n      }\n\n      // Setup user-defined default properties.\n      self._autoplay = o.autoplay || false;\n      self._format = (typeof o.format !== 'string') ? o.format : [o.format];\n      self._html5 = o.html5 || false;\n      self._muted = o.mute || false;\n      self._loop = o.loop || false;\n      self._pool = o.pool || 5;\n      self._preload = (typeof o.preload === 'boolean' || o.preload === 'metadata') ? o.preload : true;\n      self._rate = o.rate || 1;\n      self._sprite = o.sprite || {};\n      self._src = (typeof o.src !== 'string') ? o.src : [o.src];\n      self._volume = o.volume !== undefined ? o.volume : 1;\n      self._xhr = {\n        method: o.xhr && o.xhr.method ? o.xhr.method : 'GET',\n        headers: o.xhr && o.xhr.headers ? o.xhr.headers : null,\n        withCredentials: o.xhr && o.xhr.withCredentials ? o.xhr.withCredentials : false,\n      };\n\n      // Setup all other default properties.\n      self._duration = 0;\n      self._state = 'unloaded';\n      self._sounds = [];\n      self._endTimers = {};\n      self._queue = [];\n      self._playLock = false;\n\n      // Setup event listeners.\n      self._onend = o.onend ? [{fn: o.onend}] : [];\n      self._onfade = o.onfade ? [{fn: o.onfade}] : [];\n      self._onload = o.onload ? [{fn: o.onload}] : [];\n      self._onloaderror = o.onloaderror ? [{fn: o.onloaderror}] : [];\n      self._onplayerror = o.onplayerror ? [{fn: o.onplayerror}] : [];\n      self._onpause = o.onpause ? [{fn: o.onpause}] : [];\n      self._onplay = o.onplay ? [{fn: o.onplay}] : [];\n      self._onstop = o.onstop ? [{fn: o.onstop}] : [];\n      self._onmute = o.onmute ? [{fn: o.onmute}] : [];\n      self._onvolume = o.onvolume ? [{fn: o.onvolume}] : [];\n      self._onrate = o.onrate ? [{fn: o.onrate}] : [];\n      self._onseek = o.onseek ? [{fn: o.onseek}] : [];\n      self._onunlock = o.onunlock ? [{fn: o.onunlock}] : [];\n      self._onresume = [];\n\n      // Web Audio or HTML5 Audio?\n      self._webAudio = Howler.usingWebAudio && !self._html5;\n\n      // Automatically try to enable audio.\n      if (typeof Howler.ctx !== 'undefined' && Howler.ctx && Howler.autoUnlock) {\n        Howler._unlockAudio();\n      }\n\n      // Keep track of this Howl group in the global controller.\n      Howler._howls.push(self);\n\n      // If they selected autoplay, add a play event to the load queue.\n      if (self._autoplay) {\n        self._queue.push({\n          event: 'play',\n          action: function() {\n            self.play();\n          }\n        });\n      }\n\n      // Load the source file unless otherwise specified.\n      if (self._preload && self._preload !== 'none') {\n        self.load();\n      }\n\n      return self;\n    },\n\n    /**\n     * Load the audio file.\n     * @return {Howler}\n     */\n    load: function() {\n      var self = this;\n      var url = null;\n\n      // If no audio is available, quit immediately.\n      if (Howler.noAudio) {\n        self._emit('loaderror', null, 'No audio support.');\n        return;\n      }\n\n      // Make sure our source is in an array.\n      if (typeof self._src === 'string') {\n        self._src = [self._src];\n      }\n\n      // Loop through the sources and pick the first one that is compatible.\n      for (var i=0; i<self._src.length; i++) {\n        var ext, str;\n\n        if (self._format && self._format[i]) {\n          // If an extension was specified, use that instead.\n          ext = self._format[i];\n        } else {\n          // Make sure the source is a string.\n          str = self._src[i];\n          if (typeof str !== 'string') {\n            self._emit('loaderror', null, 'Non-string found in selected audio sources - ignoring.');\n            continue;\n          }\n\n          // Extract the file extension from the URL or base64 data URI.\n          ext = /^data:audio\\/([^;,]+);/i.exec(str);\n          if (!ext) {\n            ext = /\\.([^.]+)$/.exec(str.split('?', 1)[0]);\n          }\n\n          if (ext) {\n            ext = ext[1].toLowerCase();\n          }\n        }\n\n        // Log a warning if no extension was found.\n        if (!ext) {\n          console.warn('No file extension was found. Consider using the \"format\" property or specify an extension.');\n        }\n\n        // Check if this extension is available.\n        if (ext && Howler.codecs(ext)) {\n          url = self._src[i];\n          break;\n        }\n      }\n\n      if (!url) {\n        self._emit('loaderror', null, 'No codec support for selected audio sources.');\n        return;\n      }\n\n      self._src = url;\n      self._state = 'loading';\n\n      // If the hosting page is HTTPS and the source isn't,\n      // drop down to HTML5 Audio to avoid Mixed Content errors.\n      if (window.location.protocol === 'https:' && url.slice(0, 5) === 'http:') {\n        self._html5 = true;\n        self._webAudio = false;\n      }\n\n      // Create a new sound object and add it to the pool.\n      new Sound(self);\n\n      // Load and decode the audio data for playback.\n      if (self._webAudio) {\n        loadBuffer(self);\n      }\n\n      return self;\n    },\n\n    /**\n     * Play a sound or resume previous playback.\n     * @param  {String/Number} sprite   Sprite name for sprite playback or sound id to continue previous.\n     * @param  {Boolean} internal Internal Use: true prevents event firing.\n     * @return {Number}          Sound ID.\n     */\n    play: function(sprite, internal) {\n      var self = this;\n      var id = null;\n\n      // Determine if a sprite, sound id or nothing was passed\n      if (typeof sprite === 'number') {\n        id = sprite;\n        sprite = null;\n      } else if (typeof sprite === 'string' && self._state === 'loaded' && !self._sprite[sprite]) {\n        // If the passed sprite doesn't exist, do nothing.\n        return null;\n      } else if (typeof sprite === 'undefined') {\n        // Use the default sound sprite (plays the full audio length).\n        sprite = '__default';\n\n        // Check if there is a single paused sound that isn't ended.\n        // If there is, play that sound. If not, continue as usual.\n        if (!self._playLock) {\n          var num = 0;\n          for (var i=0; i<self._sounds.length; i++) {\n            if (self._sounds[i]._paused && !self._sounds[i]._ended) {\n              num++;\n              id = self._sounds[i]._id;\n            }\n          }\n\n          if (num === 1) {\n            sprite = null;\n          } else {\n            id = null;\n          }\n        }\n      }\n\n      // Get the selected node, or get one from the pool.\n      var sound = id ? self._soundById(id) : self._inactiveSound();\n\n      // If the sound doesn't exist, do nothing.\n      if (!sound) {\n        return null;\n      }\n\n      // Select the sprite definition.\n      if (id && !sprite) {\n        sprite = sound._sprite || '__default';\n      }\n\n      // If the sound hasn't loaded, we must wait to get the audio's duration.\n      // We also need to wait to make sure we don't run into race conditions with\n      // the order of function calls.\n      if (self._state !== 'loaded') {\n        // Set the sprite value on this sound.\n        sound._sprite = sprite;\n\n        // Mark this sound as not ended in case another sound is played before this one loads.\n        sound._ended = false;\n\n        // Add the sound to the queue to be played on load.\n        var soundId = sound._id;\n        self._queue.push({\n          event: 'play',\n          action: function() {\n            self.play(soundId);\n          }\n        });\n\n        return soundId;\n      }\n\n      // Don't play the sound if an id was passed and it is already playing.\n      if (id && !sound._paused) {\n        // Trigger the play event, in order to keep iterating through queue.\n        if (!internal) {\n          self._loadQueue('play');\n        }\n\n        return sound._id;\n      }\n\n      // Make sure the AudioContext isn't suspended, and resume it if it is.\n      if (self._webAudio) {\n        Howler._autoResume();\n      }\n\n      // Determine how long to play for and where to start playing.\n      var seek = Math.max(0, sound._seek > 0 ? sound._seek : self._sprite[sprite][0] / 1000);\n      var duration = Math.max(0, ((self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000) - seek);\n      var timeout = (duration * 1000) / Math.abs(sound._rate);\n      var start = self._sprite[sprite][0] / 1000;\n      var stop = (self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000;\n      sound._sprite = sprite;\n\n      // Mark the sound as ended instantly so that this async playback\n      // doesn't get grabbed by another call to play while this one waits to start.\n      sound._ended = false;\n\n      // Update the parameters of the sound.\n      var setParams = function() {\n        sound._paused = false;\n        sound._seek = seek;\n        sound._start = start;\n        sound._stop = stop;\n        sound._loop = !!(sound._loop || self._sprite[sprite][2]);\n      };\n\n      // End the sound instantly if seek is at the end.\n      if (seek >= stop) {\n        self._ended(sound);\n        return;\n      }\n\n      // Begin the actual playback.\n      var node = sound._node;\n      if (self._webAudio) {\n        // Fire this when the sound is ready to play to begin Web Audio playback.\n        var playWebAudio = function() {\n          self._playLock = false;\n          setParams();\n          self._refreshBuffer(sound);\n\n          // Setup the playback params.\n          var vol = (sound._muted || self._muted) ? 0 : sound._volume;\n          node.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n          sound._playStart = Howler.ctx.currentTime;\n\n          // Play the sound using the supported method.\n          if (typeof node.bufferSource.start === 'undefined') {\n            sound._loop ? node.bufferSource.noteGrainOn(0, seek, 86400) : node.bufferSource.noteGrainOn(0, seek, duration);\n          } else {\n            sound._loop ? node.bufferSource.start(0, seek, 86400) : node.bufferSource.start(0, seek, duration);\n          }\n\n          // Start a new timer if none is present.\n          if (timeout !== Infinity) {\n            self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n          }\n\n          if (!internal) {\n            setTimeout(function() {\n              self._emit('play', sound._id);\n              self._loadQueue();\n            }, 0);\n          }\n        };\n\n        if (Howler.state === 'running' && Howler.ctx.state !== 'interrupted') {\n          playWebAudio();\n        } else {\n          self._playLock = true;\n\n          // Wait for the audio context to resume before playing.\n          self.once('resume', playWebAudio);\n\n          // Cancel the end timer.\n          self._clearTimer(sound._id);\n        }\n      } else {\n        // Fire this when the sound is ready to play to begin HTML5 Audio playback.\n        var playHtml5 = function() {\n          node.currentTime = seek;\n          node.muted = sound._muted || self._muted || Howler._muted || node.muted;\n          node.volume = sound._volume * Howler.volume();\n          node.playbackRate = sound._rate;\n\n          // Some browsers will throw an error if this is called without user interaction.\n          try {\n            var play = node.play();\n\n            // Support older browsers that don't support promises, and thus don't have this issue.\n            if (play && typeof Promise !== 'undefined' && (play instanceof Promise || typeof play.then === 'function')) {\n              // Implements a lock to prevent DOMException: The play() request was interrupted by a call to pause().\n              self._playLock = true;\n\n              // Set param values immediately.\n              setParams();\n\n              // Releases the lock and executes queued actions.\n              play\n                .then(function() {\n                  self._playLock = false;\n                  node._unlocked = true;\n                  if (!internal) {\n                    self._emit('play', sound._id);\n                  } else {\n                    self._loadQueue();\n                  }\n                })\n                .catch(function() {\n                  self._playLock = false;\n                  self._emit('playerror', sound._id, 'Playback was unable to start. This is most commonly an issue ' +\n                    'on mobile devices and Chrome where playback was not within a user interaction.');\n\n                  // Reset the ended and paused values.\n                  sound._ended = true;\n                  sound._paused = true;\n                });\n            } else if (!internal) {\n              self._playLock = false;\n              setParams();\n              self._emit('play', sound._id);\n            }\n\n            // Setting rate before playing won't work in IE, so we set it again here.\n            node.playbackRate = sound._rate;\n\n            // If the node is still paused, then we can assume there was a playback issue.\n            if (node.paused) {\n              self._emit('playerror', sound._id, 'Playback was unable to start. This is most commonly an issue ' +\n                'on mobile devices and Chrome where playback was not within a user interaction.');\n              return;\n            }\n\n            // Setup the end timer on sprites or listen for the ended event.\n            if (sprite !== '__default' || sound._loop) {\n              self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n            } else {\n              self._endTimers[sound._id] = function() {\n                // Fire ended on this audio node.\n                self._ended(sound);\n\n                // Clear this listener.\n                node.removeEventListener('ended', self._endTimers[sound._id], false);\n              };\n              node.addEventListener('ended', self._endTimers[sound._id], false);\n            }\n          } catch (err) {\n            self._emit('playerror', sound._id, err);\n          }\n        };\n\n        // If this is streaming audio, make sure the src is set and load again.\n        if (node.src === 'data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA') {\n          node.src = self._src;\n          node.load();\n        }\n\n        // Play immediately if ready, or wait for the 'canplaythrough'e vent.\n        var loadedNoReadyState = (window && window.ejecta) || (!node.readyState && Howler._navigator.isCocoonJS);\n        if (node.readyState >= 3 || loadedNoReadyState) {\n          playHtml5();\n        } else {\n          self._playLock = true;\n          self._state = 'loading';\n\n          var listener = function() {\n            self._state = 'loaded';\n            \n            // Begin playback.\n            playHtml5();\n\n            // Clear this listener.\n            node.removeEventListener(Howler._canPlayEvent, listener, false);\n          };\n          node.addEventListener(Howler._canPlayEvent, listener, false);\n\n          // Cancel the end timer.\n          self._clearTimer(sound._id);\n        }\n      }\n\n      return sound._id;\n    },\n\n    /**\n     * Pause playback and save current position.\n     * @param  {Number} id The sound ID (empty to pause all in group).\n     * @return {Howl}\n     */\n    pause: function(id) {\n      var self = this;\n\n      // If the sound hasn't loaded or a play() promise is pending, add it to the load queue to pause when capable.\n      if (self._state !== 'loaded' || self._playLock) {\n        self._queue.push({\n          event: 'pause',\n          action: function() {\n            self.pause(id);\n          }\n        });\n\n        return self;\n      }\n\n      // If no id is passed, get all ID's to be paused.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Clear the end timer.\n        self._clearTimer(ids[i]);\n\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound && !sound._paused) {\n          // Reset the seek position.\n          sound._seek = self.seek(ids[i]);\n          sound._rateSeek = 0;\n          sound._paused = true;\n\n          // Stop currently running fades.\n          self._stopFade(ids[i]);\n\n          if (sound._node) {\n            if (self._webAudio) {\n              // Make sure the sound has been created.\n              if (!sound._node.bufferSource) {\n                continue;\n              }\n\n              if (typeof sound._node.bufferSource.stop === 'undefined') {\n                sound._node.bufferSource.noteOff(0);\n              } else {\n                sound._node.bufferSource.stop(0);\n              }\n\n              // Clean up the buffer source.\n              self._cleanBuffer(sound._node);\n            } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {\n              sound._node.pause();\n            }\n          }\n        }\n\n        // Fire the pause event, unless `true` is passed as the 2nd argument.\n        if (!arguments[1]) {\n          self._emit('pause', sound ? sound._id : null);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Stop playback and reset to start.\n     * @param  {Number} id The sound ID (empty to stop all in group).\n     * @param  {Boolean} internal Internal Use: true prevents event firing.\n     * @return {Howl}\n     */\n    stop: function(id, internal) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to stop when capable.\n      if (self._state !== 'loaded' || self._playLock) {\n        self._queue.push({\n          event: 'stop',\n          action: function() {\n            self.stop(id);\n          }\n        });\n\n        return self;\n      }\n\n      // If no id is passed, get all ID's to be stopped.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Clear the end timer.\n        self._clearTimer(ids[i]);\n\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound) {\n          // Reset the seek position.\n          sound._seek = sound._start || 0;\n          sound._rateSeek = 0;\n          sound._paused = true;\n          sound._ended = true;\n\n          // Stop currently running fades.\n          self._stopFade(ids[i]);\n\n          if (sound._node) {\n            if (self._webAudio) {\n              // Make sure the sound's AudioBufferSourceNode has been created.\n              if (sound._node.bufferSource) {\n                if (typeof sound._node.bufferSource.stop === 'undefined') {\n                  sound._node.bufferSource.noteOff(0);\n                } else {\n                  sound._node.bufferSource.stop(0);\n                }\n\n                // Clean up the buffer source.\n                self._cleanBuffer(sound._node);\n              }\n            } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {\n              sound._node.currentTime = sound._start || 0;\n              sound._node.pause();\n\n              // If this is a live stream, stop download once the audio is stopped.\n              if (sound._node.duration === Infinity) {\n                self._clearSound(sound._node);\n              }\n            }\n          }\n\n          if (!internal) {\n            self._emit('stop', sound._id);\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Mute/unmute a single sound or all sounds in this Howl group.\n     * @param  {Boolean} muted Set to true to mute and false to unmute.\n     * @param  {Number} id    The sound ID to update (omit to mute/unmute all).\n     * @return {Howl}\n     */\n    mute: function(muted, id) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to mute when capable.\n      if (self._state !== 'loaded'|| self._playLock) {\n        self._queue.push({\n          event: 'mute',\n          action: function() {\n            self.mute(muted, id);\n          }\n        });\n\n        return self;\n      }\n\n      // If applying mute/unmute to all sounds, update the group's value.\n      if (typeof id === 'undefined') {\n        if (typeof muted === 'boolean') {\n          self._muted = muted;\n        } else {\n          return self._muted;\n        }\n      }\n\n      // If no id is passed, get all ID's to be muted.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound) {\n          sound._muted = muted;\n\n          // Cancel active fade and set the volume to the end value.\n          if (sound._interval) {\n            self._stopFade(sound._id);\n          }\n\n          if (self._webAudio && sound._node) {\n            sound._node.gain.setValueAtTime(muted ? 0 : sound._volume, Howler.ctx.currentTime);\n          } else if (sound._node) {\n            sound._node.muted = Howler._muted ? true : muted;\n          }\n\n          self._emit('mute', sound._id);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the volume of this sound or of the Howl group. This method can optionally take 0, 1 or 2 arguments.\n     *   volume() -> Returns the group's volume value.\n     *   volume(id) -> Returns the sound id's current volume.\n     *   volume(vol) -> Sets the volume of all sounds in this Howl group.\n     *   volume(vol, id) -> Sets the volume of passed sound id.\n     * @return {Howl/Number} Returns self or current volume.\n     */\n    volume: function() {\n      var self = this;\n      var args = arguments;\n      var vol, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // Return the value of the groups' volume.\n        return self._volume;\n      } else if (args.length === 1 || args.length === 2 && typeof args[1] === 'undefined') {\n        // First check if this is an ID, and if not, assume it is a new volume.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          vol = parseFloat(args[0]);\n        }\n      } else if (args.length >= 2) {\n        vol = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // Update the volume or return the current volume.\n      var sound;\n      if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {\n        // If the sound hasn't loaded, add it to the load queue to change volume when capable.\n        if (self._state !== 'loaded'|| self._playLock) {\n          self._queue.push({\n            event: 'volume',\n            action: function() {\n              self.volume.apply(self, args);\n            }\n          });\n\n          return self;\n        }\n\n        // Set the group volume.\n        if (typeof id === 'undefined') {\n          self._volume = vol;\n        }\n\n        // Update one or all volumes.\n        id = self._getSoundIds(id);\n        for (var i=0; i<id.length; i++) {\n          // Get the sound.\n          sound = self._soundById(id[i]);\n\n          if (sound) {\n            sound._volume = vol;\n\n            // Stop currently running fades.\n            if (!args[2]) {\n              self._stopFade(id[i]);\n            }\n\n            if (self._webAudio && sound._node && !sound._muted) {\n              sound._node.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n            } else if (sound._node && !sound._muted) {\n              sound._node.volume = vol * Howler.volume();\n            }\n\n            self._emit('volume', sound._id);\n          }\n        }\n      } else {\n        sound = id ? self._soundById(id) : self._sounds[0];\n        return sound ? sound._volume : 0;\n      }\n\n      return self;\n    },\n\n    /**\n     * Fade a currently playing sound between two volumes (if no id is passed, all sounds will fade).\n     * @param  {Number} from The value to fade from (0.0 to 1.0).\n     * @param  {Number} to   The volume to fade to (0.0 to 1.0).\n     * @param  {Number} len  Time in milliseconds to fade.\n     * @param  {Number} id   The sound id (omit to fade all sounds).\n     * @return {Howl}\n     */\n    fade: function(from, to, len, id) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to fade when capable.\n      if (self._state !== 'loaded' || self._playLock) {\n        self._queue.push({\n          event: 'fade',\n          action: function() {\n            self.fade(from, to, len, id);\n          }\n        });\n\n        return self;\n      }\n\n      // Make sure the to/from/len values are numbers.\n      from = Math.min(Math.max(0, parseFloat(from)), 1);\n      to = Math.min(Math.max(0, parseFloat(to)), 1);\n      len = parseFloat(len);\n\n      // Set the volume to the start position.\n      self.volume(from, id);\n\n      // Fade the volume of one or all sounds.\n      var ids = self._getSoundIds(id);\n      for (var i=0; i<ids.length; i++) {\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        // Create a linear fade or fall back to timeouts with HTML5 Audio.\n        if (sound) {\n          // Stop the previous fade if no sprite is being used (otherwise, volume handles this).\n          if (!id) {\n            self._stopFade(ids[i]);\n          }\n\n          // If we are using Web Audio, let the native methods do the actual fade.\n          if (self._webAudio && !sound._muted) {\n            var currentTime = Howler.ctx.currentTime;\n            var end = currentTime + (len / 1000);\n            sound._volume = from;\n            sound._node.gain.setValueAtTime(from, currentTime);\n            sound._node.gain.linearRampToValueAtTime(to, end);\n          }\n\n          self._startFadeInterval(sound, from, to, len, ids[i], typeof id === 'undefined');\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Starts the internal interval to fade a sound.\n     * @param  {Object} sound Reference to sound to fade.\n     * @param  {Number} from The value to fade from (0.0 to 1.0).\n     * @param  {Number} to   The volume to fade to (0.0 to 1.0).\n     * @param  {Number} len  Time in milliseconds to fade.\n     * @param  {Number} id   The sound id to fade.\n     * @param  {Boolean} isGroup   If true, set the volume on the group.\n     */\n    _startFadeInterval: function(sound, from, to, len, id, isGroup) {\n      var self = this;\n      var vol = from;\n      var diff = to - from;\n      var steps = Math.abs(diff / 0.01);\n      var stepLen = Math.max(4, (steps > 0) ? len / steps : len);\n      var lastTick = Date.now();\n\n      // Store the value being faded to.\n      sound._fadeTo = to;\n\n      // Update the volume value on each interval tick.\n      sound._interval = setInterval(function() {\n        // Update the volume based on the time since the last tick.\n        var tick = (Date.now() - lastTick) / len;\n        lastTick = Date.now();\n        vol += diff * tick;\n\n        // Round to within 2 decimal points.\n        vol = Math.round(vol * 100) / 100;\n\n        // Make sure the volume is in the right bounds.\n        if (diff < 0) {\n          vol = Math.max(to, vol);\n        } else {\n          vol = Math.min(to, vol);\n        }\n\n        // Change the volume.\n        if (self._webAudio) {\n          sound._volume = vol;\n        } else {\n          self.volume(vol, sound._id, true);\n        }\n\n        // Set the group's volume.\n        if (isGroup) {\n          self._volume = vol;\n        }\n\n        // When the fade is complete, stop it and fire event.\n        if ((to < from && vol <= to) || (to > from && vol >= to)) {\n          clearInterval(sound._interval);\n          sound._interval = null;\n          sound._fadeTo = null;\n          self.volume(to, sound._id);\n          self._emit('fade', sound._id);\n        }\n      }, stepLen);\n    },\n\n    /**\n     * Internal method that stops the currently playing fade when\n     * a new fade starts, volume is changed or the sound is stopped.\n     * @param  {Number} id The sound id.\n     * @return {Howl}\n     */\n    _stopFade: function(id) {\n      var self = this;\n      var sound = self._soundById(id);\n\n      if (sound && sound._interval) {\n        if (self._webAudio) {\n          sound._node.gain.cancelScheduledValues(Howler.ctx.currentTime);\n        }\n\n        clearInterval(sound._interval);\n        sound._interval = null;\n        self.volume(sound._fadeTo, id);\n        sound._fadeTo = null;\n        self._emit('fade', id);\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the loop parameter on a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   loop() -> Returns the group's loop value.\n     *   loop(id) -> Returns the sound id's loop value.\n     *   loop(loop) -> Sets the loop value for all sounds in this Howl group.\n     *   loop(loop, id) -> Sets the loop value of passed sound id.\n     * @return {Howl/Boolean} Returns self or current loop value.\n     */\n    loop: function() {\n      var self = this;\n      var args = arguments;\n      var loop, id, sound;\n\n      // Determine the values for loop and id.\n      if (args.length === 0) {\n        // Return the grou's loop value.\n        return self._loop;\n      } else if (args.length === 1) {\n        if (typeof args[0] === 'boolean') {\n          loop = args[0];\n          self._loop = loop;\n        } else {\n          // Return this sound's loop value.\n          sound = self._soundById(parseInt(args[0], 10));\n          return sound ? sound._loop : false;\n        }\n      } else if (args.length === 2) {\n        loop = args[0];\n        id = parseInt(args[1], 10);\n      }\n\n      // If no id is passed, get all ID's to be looped.\n      var ids = self._getSoundIds(id);\n      for (var i=0; i<ids.length; i++) {\n        sound = self._soundById(ids[i]);\n\n        if (sound) {\n          sound._loop = loop;\n          if (self._webAudio && sound._node && sound._node.bufferSource) {\n            sound._node.bufferSource.loop = loop;\n            if (loop) {\n              sound._node.bufferSource.loopStart = sound._start || 0;\n              sound._node.bufferSource.loopEnd = sound._stop;\n\n              // If playing, restart playback to ensure looping updates.\n              if (self.playing(ids[i])) {\n                self.pause(ids[i], true);\n                self.play(ids[i], true);\n              }\n            }\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the playback rate of a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   rate() -> Returns the first sound node's current playback rate.\n     *   rate(id) -> Returns the sound id's current playback rate.\n     *   rate(rate) -> Sets the playback rate of all sounds in this Howl group.\n     *   rate(rate, id) -> Sets the playback rate of passed sound id.\n     * @return {Howl/Number} Returns self or the current playback rate.\n     */\n    rate: function() {\n      var self = this;\n      var args = arguments;\n      var rate, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // We will simply return the current rate of the first node.\n        id = self._sounds[0]._id;\n      } else if (args.length === 1) {\n        // First check if this is an ID, and if not, assume it is a new rate value.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          rate = parseFloat(args[0]);\n        }\n      } else if (args.length === 2) {\n        rate = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // Update the playback rate or return the current value.\n      var sound;\n      if (typeof rate === 'number') {\n        // If the sound hasn't loaded, add it to the load queue to change playback rate when capable.\n        if (self._state !== 'loaded' || self._playLock) {\n          self._queue.push({\n            event: 'rate',\n            action: function() {\n              self.rate.apply(self, args);\n            }\n          });\n\n          return self;\n        }\n\n        // Set the group rate.\n        if (typeof id === 'undefined') {\n          self._rate = rate;\n        }\n\n        // Update one or all volumes.\n        id = self._getSoundIds(id);\n        for (var i=0; i<id.length; i++) {\n          // Get the sound.\n          sound = self._soundById(id[i]);\n\n          if (sound) {\n            // Keep track of our position when the rate changed and update the playback\n            // start position so we can properly adjust the seek position for time elapsed.\n            if (self.playing(id[i])) {\n              sound._rateSeek = self.seek(id[i]);\n              sound._playStart = self._webAudio ? Howler.ctx.currentTime : sound._playStart;\n            }\n            sound._rate = rate;\n\n            // Change the playback rate.\n            if (self._webAudio && sound._node && sound._node.bufferSource) {\n              sound._node.bufferSource.playbackRate.setValueAtTime(rate, Howler.ctx.currentTime);\n            } else if (sound._node) {\n              sound._node.playbackRate = rate;\n            }\n\n            // Reset the timers.\n            var seek = self.seek(id[i]);\n            var duration = ((self._sprite[sound._sprite][0] + self._sprite[sound._sprite][1]) / 1000) - seek;\n            var timeout = (duration * 1000) / Math.abs(sound._rate);\n\n            // Start a new end timer if sound is already playing.\n            if (self._endTimers[id[i]] || !sound._paused) {\n              self._clearTimer(id[i]);\n              self._endTimers[id[i]] = setTimeout(self._ended.bind(self, sound), timeout);\n            }\n\n            self._emit('rate', sound._id);\n          }\n        }\n      } else {\n        sound = self._soundById(id);\n        return sound ? sound._rate : self._rate;\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the seek position of a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   seek() -> Returns the first sound node's current seek position.\n     *   seek(id) -> Returns the sound id's current seek position.\n     *   seek(seek) -> Sets the seek position of the first sound node.\n     *   seek(seek, id) -> Sets the seek position of passed sound id.\n     * @return {Howl/Number} Returns self or the current seek position.\n     */\n    seek: function() {\n      var self = this;\n      var args = arguments;\n      var seek, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // We will simply return the current position of the first node.\n        if (self._sounds.length) {\n          id = self._sounds[0]._id;\n        }\n      } else if (args.length === 1) {\n        // First check if this is an ID, and if not, assume it is a new seek position.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else if (self._sounds.length) {\n          id = self._sounds[0]._id;\n          seek = parseFloat(args[0]);\n        }\n      } else if (args.length === 2) {\n        seek = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // If there is no ID, bail out.\n      if (typeof id === 'undefined') {\n        return 0;\n      }\n\n      // If the sound hasn't loaded, add it to the load queue to seek when capable.\n      if (typeof seek === 'number' && (self._state !== 'loaded' || self._playLock)) {\n        self._queue.push({\n          event: 'seek',\n          action: function() {\n            self.seek.apply(self, args);\n          }\n        });\n\n        return self;\n      }\n\n      // Get the sound.\n      var sound = self._soundById(id);\n\n      if (sound) {\n        if (typeof seek === 'number' && seek >= 0) {\n          // Pause the sound and update position for restarting playback.\n          var playing = self.playing(id);\n          if (playing) {\n            self.pause(id, true);\n          }\n\n          // Move the position of the track and cancel timer.\n          sound._seek = seek;\n          sound._ended = false;\n          self._clearTimer(id);\n\n          // Update the seek position for HTML5 Audio.\n          if (!self._webAudio && sound._node && !isNaN(sound._node.duration)) {\n            sound._node.currentTime = seek;\n          }\n\n          // Seek and emit when ready.\n          var seekAndEmit = function() {\n            // Restart the playback if the sound was playing.\n            if (playing) {\n              self.play(id, true);\n            }\n\n            self._emit('seek', id);\n          };\n\n          // Wait for the play lock to be unset before emitting (HTML5 Audio).\n          if (playing && !self._webAudio) {\n            var emitSeek = function() {\n              if (!self._playLock) {\n                seekAndEmit();\n              } else {\n                setTimeout(emitSeek, 0);\n              }\n            };\n            setTimeout(emitSeek, 0);\n          } else {\n            seekAndEmit();\n          }\n        } else {\n          if (self._webAudio) {\n            var realTime = self.playing(id) ? Howler.ctx.currentTime - sound._playStart : 0;\n            var rateSeek = sound._rateSeek ? sound._rateSeek - sound._seek : 0;\n            return sound._seek + (rateSeek + realTime * Math.abs(sound._rate));\n          } else {\n            return sound._node.currentTime;\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Check if a specific sound is currently playing or not (if id is provided), or check if at least one of the sounds in the group is playing or not.\n     * @param  {Number}  id The sound id to check. If none is passed, the whole sound group is checked.\n     * @return {Boolean} True if playing and false if not.\n     */\n    playing: function(id) {\n      var self = this;\n\n      // Check the passed sound ID (if any).\n      if (typeof id === 'number') {\n        var sound = self._soundById(id);\n        return sound ? !sound._paused : false;\n      }\n\n      // Otherwise, loop through all sounds and check if any are playing.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (!self._sounds[i]._paused) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * Get the duration of this sound. Passing a sound id will return the sprite duration.\n     * @param  {Number} id The sound id to check. If none is passed, return full source duration.\n     * @return {Number} Audio duration in seconds.\n     */\n    duration: function(id) {\n      var self = this;\n      var duration = self._duration;\n\n      // If we pass an ID, get the sound and return the sprite length.\n      var sound = self._soundById(id);\n      if (sound) {\n        duration = self._sprite[sound._sprite][1] / 1000;\n      }\n\n      return duration;\n    },\n\n    /**\n     * Returns the current loaded state of this Howl.\n     * @return {String} 'unloaded', 'loading', 'loaded'\n     */\n    state: function() {\n      return this._state;\n    },\n\n    /**\n     * Unload and destroy the current Howl object.\n     * This will immediately stop all sound instances attached to this group.\n     */\n    unload: function() {\n      var self = this;\n\n      // Stop playing any active sounds.\n      var sounds = self._sounds;\n      for (var i=0; i<sounds.length; i++) {\n        // Stop the sound if it is currently playing.\n        if (!sounds[i]._paused) {\n          self.stop(sounds[i]._id);\n        }\n\n        // Remove the source or disconnect.\n        if (!self._webAudio) {\n          // Set the source to 0-second silence to stop any downloading (except in IE).\n          self._clearSound(sounds[i]._node);\n\n          // Remove any event listeners.\n          sounds[i]._node.removeEventListener('error', sounds[i]._errorFn, false);\n          sounds[i]._node.removeEventListener(Howler._canPlayEvent, sounds[i]._loadFn, false);\n          sounds[i]._node.removeEventListener('ended', sounds[i]._endFn, false);\n\n          // Release the Audio object back to the pool.\n          Howler._releaseHtml5Audio(sounds[i]._node);\n        }\n\n        // Empty out all of the nodes.\n        delete sounds[i]._node;\n\n        // Make sure all timers are cleared out.\n        self._clearTimer(sounds[i]._id);\n      }\n\n      // Remove the references in the global Howler object.\n      var index = Howler._howls.indexOf(self);\n      if (index >= 0) {\n        Howler._howls.splice(index, 1);\n      }\n\n      // Delete this sound from the cache (if no other Howl is using it).\n      var remCache = true;\n      for (i=0; i<Howler._howls.length; i++) {\n        if (Howler._howls[i]._src === self._src || self._src.indexOf(Howler._howls[i]._src) >= 0) {\n          remCache = false;\n          break;\n        }\n      }\n\n      if (cache && remCache) {\n        delete cache[self._src];\n      }\n\n      // Clear global errors.\n      Howler.noAudio = false;\n\n      // Clear out `self`.\n      self._state = 'unloaded';\n      self._sounds = [];\n      self = null;\n\n      return null;\n    },\n\n    /**\n     * Listen to a custom event.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to call.\n     * @param  {Number}   id    (optional) Only listen to events for this sound.\n     * @param  {Number}   once  (INTERNAL) Marks event to fire only once.\n     * @return {Howl}\n     */\n    on: function(event, fn, id, once) {\n      var self = this;\n      var events = self['_on' + event];\n\n      if (typeof fn === 'function') {\n        events.push(once ? {id: id, fn: fn, once: once} : {id: id, fn: fn});\n      }\n\n      return self;\n    },\n\n    /**\n     * Remove a custom event. Call without parameters to remove all events.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to remove. Leave empty to remove all.\n     * @param  {Number}   id    (optional) Only remove events for this sound.\n     * @return {Howl}\n     */\n    off: function(event, fn, id) {\n      var self = this;\n      var events = self['_on' + event];\n      var i = 0;\n\n      // Allow passing just an event and ID.\n      if (typeof fn === 'number') {\n        id = fn;\n        fn = null;\n      }\n\n      if (fn || id) {\n        // Loop through event store and remove the passed function.\n        for (i=0; i<events.length; i++) {\n          var isId = (id === events[i].id);\n          if (fn === events[i].fn && isId || !fn && isId) {\n            events.splice(i, 1);\n            break;\n          }\n        }\n      } else if (event) {\n        // Clear out all events of this type.\n        self['_on' + event] = [];\n      } else {\n        // Clear out all events of every type.\n        var keys = Object.keys(self);\n        for (i=0; i<keys.length; i++) {\n          if ((keys[i].indexOf('_on') === 0) && Array.isArray(self[keys[i]])) {\n            self[keys[i]] = [];\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Listen to a custom event and remove it once fired.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to call.\n     * @param  {Number}   id    (optional) Only listen to events for this sound.\n     * @return {Howl}\n     */\n    once: function(event, fn, id) {\n      var self = this;\n\n      // Setup the event listener.\n      self.on(event, fn, id, 1);\n\n      return self;\n    },\n\n    /**\n     * Emit all events of a specific type and pass the sound id.\n     * @param  {String} event Event name.\n     * @param  {Number} id    Sound ID.\n     * @param  {Number} msg   Message to go with event.\n     * @return {Howl}\n     */\n    _emit: function(event, id, msg) {\n      var self = this;\n      var events = self['_on' + event];\n\n      // Loop through event store and fire all functions.\n      for (var i=events.length-1; i>=0; i--) {\n        // Only fire the listener if the correct ID is used.\n        if (!events[i].id || events[i].id === id || event === 'load') {\n          setTimeout(function(fn) {\n            fn.call(this, id, msg);\n          }.bind(self, events[i].fn), 0);\n\n          // If this event was setup with `once`, remove it.\n          if (events[i].once) {\n            self.off(event, events[i].fn, events[i].id);\n          }\n        }\n      }\n\n      // Pass the event type into load queue so that it can continue stepping.\n      self._loadQueue(event);\n\n      return self;\n    },\n\n    /**\n     * Queue of actions initiated before the sound has loaded.\n     * These will be called in sequence, with the next only firing\n     * after the previous has finished executing (even if async like play).\n     * @return {Howl}\n     */\n    _loadQueue: function(event) {\n      var self = this;\n\n      if (self._queue.length > 0) {\n        var task = self._queue[0];\n\n        // Remove this task if a matching event was passed.\n        if (task.event === event) {\n          self._queue.shift();\n          self._loadQueue();\n        }\n\n        // Run the task if no event type is passed.\n        if (!event) {\n          task.action();\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Fired when playback ends at the end of the duration.\n     * @param  {Sound} sound The sound object to work with.\n     * @return {Howl}\n     */\n    _ended: function(sound) {\n      var self = this;\n      var sprite = sound._sprite;\n\n      // If we are using IE and there was network latency we may be clipping\n      // audio before it completes playing. Lets check the node to make sure it\n      // believes it has completed, before ending the playback.\n      if (!self._webAudio && sound._node && !sound._node.paused && !sound._node.ended && sound._node.currentTime < sound._stop) {\n        setTimeout(self._ended.bind(self, sound), 100);\n        return self;\n      }\n\n      // Should this sound loop?\n      var loop = !!(sound._loop || self._sprite[sprite][2]);\n\n      // Fire the ended event.\n      self._emit('end', sound._id);\n\n      // Restart the playback for HTML5 Audio loop.\n      if (!self._webAudio && loop) {\n        self.stop(sound._id, true).play(sound._id);\n      }\n\n      // Restart this timer if on a Web Audio loop.\n      if (self._webAudio && loop) {\n        self._emit('play', sound._id);\n        sound._seek = sound._start || 0;\n        sound._rateSeek = 0;\n        sound._playStart = Howler.ctx.currentTime;\n\n        var timeout = ((sound._stop - sound._start) * 1000) / Math.abs(sound._rate);\n        self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n      }\n\n      // Mark the node as paused.\n      if (self._webAudio && !loop) {\n        sound._paused = true;\n        sound._ended = true;\n        sound._seek = sound._start || 0;\n        sound._rateSeek = 0;\n        self._clearTimer(sound._id);\n\n        // Clean up the buffer source.\n        self._cleanBuffer(sound._node);\n\n        // Attempt to auto-suspend AudioContext if no sounds are still playing.\n        Howler._autoSuspend();\n      }\n\n      // When using a sprite, end the track.\n      if (!self._webAudio && !loop) {\n        self.stop(sound._id, true);\n      }\n\n      return self;\n    },\n\n    /**\n     * Clear the end timer for a sound playback.\n     * @param  {Number} id The sound ID.\n     * @return {Howl}\n     */\n    _clearTimer: function(id) {\n      var self = this;\n\n      if (self._endTimers[id]) {\n        // Clear the timeout or remove the ended listener.\n        if (typeof self._endTimers[id] !== 'function') {\n          clearTimeout(self._endTimers[id]);\n        } else {\n          var sound = self._soundById(id);\n          if (sound && sound._node) {\n            sound._node.removeEventListener('ended', self._endTimers[id], false);\n          }\n        }\n\n        delete self._endTimers[id];\n      }\n\n      return self;\n    },\n\n    /**\n     * Return the sound identified by this ID, or return null.\n     * @param  {Number} id Sound ID\n     * @return {Object}    Sound object or null.\n     */\n    _soundById: function(id) {\n      var self = this;\n\n      // Loop through all sounds and find the one with this ID.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (id === self._sounds[i]._id) {\n          return self._sounds[i];\n        }\n      }\n\n      return null;\n    },\n\n    /**\n     * Return an inactive sound from the pool or create a new one.\n     * @return {Sound} Sound playback object.\n     */\n    _inactiveSound: function() {\n      var self = this;\n\n      self._drain();\n\n      // Find the first inactive node to recycle.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (self._sounds[i]._ended) {\n          return self._sounds[i].reset();\n        }\n      }\n\n      // If no inactive node was found, create a new one.\n      return new Sound(self);\n    },\n\n    /**\n     * Drain excess inactive sounds from the pool.\n     */\n    _drain: function() {\n      var self = this;\n      var limit = self._pool;\n      var cnt = 0;\n      var i = 0;\n\n      // If there are less sounds than the max pool size, we are done.\n      if (self._sounds.length < limit) {\n        return;\n      }\n\n      // Count the number of inactive sounds.\n      for (i=0; i<self._sounds.length; i++) {\n        if (self._sounds[i]._ended) {\n          cnt++;\n        }\n      }\n\n      // Remove excess inactive sounds, going in reverse order.\n      for (i=self._sounds.length - 1; i>=0; i--) {\n        if (cnt <= limit) {\n          return;\n        }\n\n        if (self._sounds[i]._ended) {\n          // Disconnect the audio source when using Web Audio.\n          if (self._webAudio && self._sounds[i]._node) {\n            self._sounds[i]._node.disconnect(0);\n          }\n\n          // Remove sounds until we have the pool size.\n          self._sounds.splice(i, 1);\n          cnt--;\n        }\n      }\n    },\n\n    /**\n     * Get all ID's from the sounds pool.\n     * @param  {Number} id Only return one ID if one is passed.\n     * @return {Array}    Array of IDs.\n     */\n    _getSoundIds: function(id) {\n      var self = this;\n\n      if (typeof id === 'undefined') {\n        var ids = [];\n        for (var i=0; i<self._sounds.length; i++) {\n          ids.push(self._sounds[i]._id);\n        }\n\n        return ids;\n      } else {\n        return [id];\n      }\n    },\n\n    /**\n     * Load the sound back into the buffer source.\n     * @param  {Sound} sound The sound object to work with.\n     * @return {Howl}\n     */\n    _refreshBuffer: function(sound) {\n      var self = this;\n\n      // Setup the buffer source for playback.\n      sound._node.bufferSource = Howler.ctx.createBufferSource();\n      sound._node.bufferSource.buffer = cache[self._src];\n\n      // Connect to the correct node.\n      if (sound._panner) {\n        sound._node.bufferSource.connect(sound._panner);\n      } else {\n        sound._node.bufferSource.connect(sound._node);\n      }\n\n      // Setup looping and playback rate.\n      sound._node.bufferSource.loop = sound._loop;\n      if (sound._loop) {\n        sound._node.bufferSource.loopStart = sound._start || 0;\n        sound._node.bufferSource.loopEnd = sound._stop || 0;\n      }\n      sound._node.bufferSource.playbackRate.setValueAtTime(sound._rate, Howler.ctx.currentTime);\n\n      return self;\n    },\n\n    /**\n     * Prevent memory leaks by cleaning up the buffer source after playback.\n     * @param  {Object} node Sound's audio node containing the buffer source.\n     * @return {Howl}\n     */\n    _cleanBuffer: function(node) {\n      var self = this;\n      var isIOS = Howler._navigator && Howler._navigator.vendor.indexOf('Apple') >= 0;\n\n      if (!node.bufferSource) {\n        return self;\n      }\n\n      if (Howler._scratchBuffer && node.bufferSource) {\n        node.bufferSource.onended = null;\n        node.bufferSource.disconnect(0);\n        if (isIOS) {\n          try { node.bufferSource.buffer = Howler._scratchBuffer; } catch(e) {}\n        }\n      }\n      node.bufferSource = null;\n\n      return self;\n    },\n\n    /**\n     * Set the source to a 0-second silence to stop any downloading (except in IE).\n     * @param  {Object} node Audio node to clear.\n     */\n    _clearSound: function(node) {\n      var checkIE = /MSIE |Trident\\//.test(Howler._navigator && Howler._navigator.userAgent);\n      if (!checkIE) {\n        node.src = 'data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA';\n      }\n    }\n  };\n\n  /** Single Sound Methods **/\n  /***************************************************************************/\n\n  /**\n   * Setup the sound object, which each node attached to a Howl group is contained in.\n   * @param {Object} howl The Howl parent group.\n   */\n  var Sound = function(howl) {\n    this._parent = howl;\n    this.init();\n  };\n  Sound.prototype = {\n    /**\n     * Initialize a new Sound object.\n     * @return {Sound}\n     */\n    init: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Setup the default parameters.\n      self._muted = parent._muted;\n      self._loop = parent._loop;\n      self._volume = parent._volume;\n      self._rate = parent._rate;\n      self._seek = 0;\n      self._paused = true;\n      self._ended = true;\n      self._sprite = '__default';\n\n      // Generate a unique ID for this sound.\n      self._id = ++Howler._counter;\n\n      // Add itself to the parent's pool.\n      parent._sounds.push(self);\n\n      // Create the new node.\n      self.create();\n\n      return self;\n    },\n\n    /**\n     * Create and setup a new sound object, whether HTML5 Audio or Web Audio.\n     * @return {Sound}\n     */\n    create: function() {\n      var self = this;\n      var parent = self._parent;\n      var volume = (Howler._muted || self._muted || self._parent._muted) ? 0 : self._volume;\n\n      if (parent._webAudio) {\n        // Create the gain node for controlling volume (the source will connect to this).\n        self._node = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();\n        self._node.gain.setValueAtTime(volume, Howler.ctx.currentTime);\n        self._node.paused = true;\n        self._node.connect(Howler.masterGain);\n      } else if (!Howler.noAudio) {\n        // Get an unlocked Audio object from the pool.\n        self._node = Howler._obtainHtml5Audio();\n\n        // Listen for errors (http://dev.w3.org/html5/spec-author-view/spec.html#mediaerror).\n        self._errorFn = self._errorListener.bind(self);\n        self._node.addEventListener('error', self._errorFn, false);\n\n        // Listen for 'canplaythrough' event to let us know the sound is ready.\n        self._loadFn = self._loadListener.bind(self);\n        self._node.addEventListener(Howler._canPlayEvent, self._loadFn, false);\n\n        // Listen for the 'ended' event on the sound to account for edge-case where\n        // a finite sound has a duration of Infinity.\n        self._endFn = self._endListener.bind(self);\n        self._node.addEventListener('ended', self._endFn, false);\n\n        // Setup the new audio node.\n        self._node.src = parent._src;\n        self._node.preload = parent._preload === true ? 'auto' : parent._preload;\n        self._node.volume = volume * Howler.volume();\n\n        // Begin loading the source.\n        self._node.load();\n      }\n\n      return self;\n    },\n\n    /**\n     * Reset the parameters of this sound to the original state (for recycle).\n     * @return {Sound}\n     */\n    reset: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Reset all of the parameters of this sound.\n      self._muted = parent._muted;\n      self._loop = parent._loop;\n      self._volume = parent._volume;\n      self._rate = parent._rate;\n      self._seek = 0;\n      self._rateSeek = 0;\n      self._paused = true;\n      self._ended = true;\n      self._sprite = '__default';\n\n      // Generate a new ID so that it isn't confused with the previous sound.\n      self._id = ++Howler._counter;\n\n      return self;\n    },\n\n    /**\n     * HTML5 Audio error listener callback.\n     */\n    _errorListener: function() {\n      var self = this;\n\n      // Fire an error event and pass back the code.\n      self._parent._emit('loaderror', self._id, self._node.error ? self._node.error.code : 0);\n\n      // Clear the event listener.\n      self._node.removeEventListener('error', self._errorFn, false);\n    },\n\n    /**\n     * HTML5 Audio canplaythrough listener callback.\n     */\n    _loadListener: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Round up the duration to account for the lower precision in HTML5 Audio.\n      parent._duration = Math.ceil(self._node.duration * 10) / 10;\n\n      // Setup a sprite if none is defined.\n      if (Object.keys(parent._sprite).length === 0) {\n        parent._sprite = {__default: [0, parent._duration * 1000]};\n      }\n\n      if (parent._state !== 'loaded') {\n        parent._state = 'loaded';\n        parent._emit('load');\n        parent._loadQueue();\n      }\n\n      // Clear the event listener.\n      self._node.removeEventListener(Howler._canPlayEvent, self._loadFn, false);\n    },\n\n    /**\n     * HTML5 Audio ended listener callback.\n     */\n    _endListener: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Only handle the `ended`` event if the duration is Infinity.\n      if (parent._duration === Infinity) {\n        // Update the parent duration to match the real audio duration.\n        // Round up the duration to account for the lower precision in HTML5 Audio.\n        parent._duration = Math.ceil(self._node.duration * 10) / 10;\n\n        // Update the sprite that corresponds to the real duration.\n        if (parent._sprite.__default[1] === Infinity) {\n          parent._sprite.__default[1] = parent._duration * 1000;\n        }\n\n        // Run the regular ended method.\n        parent._ended(self);\n      }\n\n      // Clear the event listener since the duration is now correct.\n      self._node.removeEventListener('ended', self._endFn, false);\n    }\n  };\n\n  /** Helper Methods **/\n  /***************************************************************************/\n\n  var cache = {};\n\n  /**\n   * Buffer a sound from URL, Data URI or cache and decode to audio source (Web Audio API).\n   * @param  {Howl} self\n   */\n  var loadBuffer = function(self) {\n    var url = self._src;\n\n    // Check if the buffer has already been cached and use it instead.\n    if (cache[url]) {\n      // Set the duration from the cache.\n      self._duration = cache[url].duration;\n\n      // Load the sound into this Howl.\n      loadSound(self);\n\n      return;\n    }\n\n    if (/^data:[^;]+;base64,/.test(url)) {\n      // Decode the base64 data URI without XHR, since some browsers don't support it.\n      var data = atob(url.split(',')[1]);\n      var dataView = new Uint8Array(data.length);\n      for (var i=0; i<data.length; ++i) {\n        dataView[i] = data.charCodeAt(i);\n      }\n\n      decodeAudioData(dataView.buffer, self);\n    } else {\n      // Load the buffer from the URL.\n      var xhr = new XMLHttpRequest();\n      xhr.open(self._xhr.method, url, true);\n      xhr.withCredentials = self._xhr.withCredentials;\n      xhr.responseType = 'arraybuffer';\n\n      // Apply any custom headers to the request.\n      if (self._xhr.headers) {\n        Object.keys(self._xhr.headers).forEach(function(key) {\n          xhr.setRequestHeader(key, self._xhr.headers[key]);\n        });\n      }\n\n      xhr.onload = function() {\n        // Make sure we get a successful response back.\n        var code = (xhr.status + '')[0];\n        if (code !== '0' && code !== '2' && code !== '3') {\n          self._emit('loaderror', null, 'Failed loading audio file with status: ' + xhr.status + '.');\n          return;\n        }\n\n        decodeAudioData(xhr.response, self);\n      };\n      xhr.onerror = function() {\n        // If there is an error, switch to HTML5 Audio.\n        if (self._webAudio) {\n          self._html5 = true;\n          self._webAudio = false;\n          self._sounds = [];\n          delete cache[url];\n          self.load();\n        }\n      };\n      safeXhrSend(xhr);\n    }\n  };\n\n  /**\n   * Send the XHR request wrapped in a try/catch.\n   * @param  {Object} xhr XHR to send.\n   */\n  var safeXhrSend = function(xhr) {\n    try {\n      xhr.send();\n    } catch (e) {\n      xhr.onerror();\n    }\n  };\n\n  /**\n   * Decode audio data from an array buffer.\n   * @param  {ArrayBuffer} arraybuffer The audio data.\n   * @param  {Howl}        self\n   */\n  var decodeAudioData = function(arraybuffer, self) {\n    // Fire a load error if something broke.\n    var error = function() {\n      self._emit('loaderror', null, 'Decoding audio data failed.');\n    };\n\n    // Load the sound on success.\n    var success = function(buffer) {\n      if (buffer && self._sounds.length > 0) {\n        cache[self._src] = buffer;\n        loadSound(self, buffer);\n      } else {\n        error();\n      }\n    };\n\n    // Decode the buffer into an audio source.\n    if (typeof Promise !== 'undefined' && Howler.ctx.decodeAudioData.length === 1) {\n      Howler.ctx.decodeAudioData(arraybuffer).then(success).catch(error);\n    } else {\n      Howler.ctx.decodeAudioData(arraybuffer, success, error);\n    }\n  }\n\n  /**\n   * Sound is now loaded, so finish setting everything up and fire the loaded event.\n   * @param  {Howl} self\n   * @param  {Object} buffer The decoded buffer sound source.\n   */\n  var loadSound = function(self, buffer) {\n    // Set the duration.\n    if (buffer && !self._duration) {\n      self._duration = buffer.duration;\n    }\n\n    // Setup a sprite if none is defined.\n    if (Object.keys(self._sprite).length === 0) {\n      self._sprite = {__default: [0, self._duration * 1000]};\n    }\n\n    // Fire the loaded event.\n    if (self._state !== 'loaded') {\n      self._state = 'loaded';\n      self._emit('load');\n      self._loadQueue();\n    }\n  };\n\n  /**\n   * Setup the audio context when available, or switch to HTML5 Audio mode.\n   */\n  var setupAudioContext = function() {\n    // If we have already detected that Web Audio isn't supported, don't run this step again.\n    if (!Howler.usingWebAudio) {\n      return;\n    }\n\n    // Check if we are using Web Audio and setup the AudioContext if we are.\n    try {\n      if (typeof AudioContext !== 'undefined') {\n        Howler.ctx = new AudioContext();\n      } else if (typeof webkitAudioContext !== 'undefined') {\n        Howler.ctx = new webkitAudioContext();\n      } else {\n        Howler.usingWebAudio = false;\n      }\n    } catch(e) {\n      Howler.usingWebAudio = false;\n    }\n\n    // If the audio context creation still failed, set using web audio to false.\n    if (!Howler.ctx) {\n      Howler.usingWebAudio = false;\n    }\n\n    // Check if a webview is being used on iOS8 or earlier (rather than the browser).\n    // If it is, disable Web Audio as it causes crashing.\n    var iOS = (/iP(hone|od|ad)/.test(Howler._navigator && Howler._navigator.platform));\n    var appVersion = Howler._navigator && Howler._navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n    var version = appVersion ? parseInt(appVersion[1], 10) : null;\n    if (iOS && version && version < 9) {\n      var safari = /safari/.test(Howler._navigator && Howler._navigator.userAgent.toLowerCase());\n      if (Howler._navigator && !safari) {\n        Howler.usingWebAudio = false;\n      }\n    }\n\n    // Create and expose the master GainNode when using Web Audio (useful for plugins or advanced usage).\n    if (Howler.usingWebAudio) {\n      Howler.masterGain = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();\n      Howler.masterGain.gain.setValueAtTime(Howler._muted ? 0 : Howler._volume, Howler.ctx.currentTime);\n      Howler.masterGain.connect(Howler.ctx.destination);\n    }\n\n    // Re-run the setup on Howler.\n    Howler._setup();\n  };\n\n  // Add support for AMD (Asynchronous Module Definition) libraries such as require.js.\n  if (typeof define === 'function' && define.amd) {\n    define([], function() {\n      return {\n        Howler: Howler,\n        Howl: Howl\n      };\n    });\n  }\n\n  // Add support for CommonJS libraries such as browserify.\n  if (typeof exports !== 'undefined') {\n    exports.Howler = Howler;\n    exports.Howl = Howl;\n  }\n\n  // Add to global in Node.js (for testing, etc).\n  if (typeof global !== 'undefined') {\n    global.HowlerGlobal = HowlerGlobal;\n    global.Howler = Howler;\n    global.Howl = Howl;\n    global.Sound = Sound;\n  } else if (typeof window !== 'undefined') {  // Define globally in case AMD is not available or unused.\n    window.HowlerGlobal = HowlerGlobal;\n    window.Howler = Howler;\n    window.Howl = Howl;\n    window.Sound = Sound;\n  }\n})();\n\n\n/*!\n *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.\n *  \n *  howler.js v2.2.4\n *  howlerjs.com\n *\n *  (c) 2013-2020, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\n\n(function() {\n\n  'use strict';\n\n  // Setup default properties.\n  HowlerGlobal.prototype._pos = [0, 0, 0];\n  HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0];\n\n  /** Global Methods **/\n  /***************************************************************************/\n\n  /**\n   * Helper method to update the stereo panning position of all current Howls.\n   * Future Howls will not use this value unless explicitly set.\n   * @param  {Number} pan A value of -1.0 is all the way left and 1.0 is all the way right.\n   * @return {Howler/Number}     Self or current stereo panning value.\n   */\n  HowlerGlobal.prototype.stereo = function(pan) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Loop through all Howls and update their stereo panning.\n    for (var i=self._howls.length-1; i>=0; i--) {\n      self._howls[i].stereo(pan);\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the position of the listener in 3D cartesian space. Sounds using\n   * 3D position will be relative to the listener's position.\n   * @param  {Number} x The x-position of the listener.\n   * @param  {Number} y The y-position of the listener.\n   * @param  {Number} z The z-position of the listener.\n   * @return {Howler/Array}   Self or current listener position.\n   */\n  HowlerGlobal.prototype.pos = function(x, y, z) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? self._pos[1] : y;\n    z = (typeof z !== 'number') ? self._pos[2] : z;\n\n    if (typeof x === 'number') {\n      self._pos = [x, y, z];\n\n      if (typeof self.ctx.listener.positionX !== 'undefined') {\n        self.ctx.listener.positionX.setTargetAtTime(self._pos[0], Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.positionY.setTargetAtTime(self._pos[1], Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.positionZ.setTargetAtTime(self._pos[2], Howler.ctx.currentTime, 0.1);\n      } else {\n        self.ctx.listener.setPosition(self._pos[0], self._pos[1], self._pos[2]);\n      }\n    } else {\n      return self._pos;\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the direction the listener is pointing in the 3D cartesian space.\n   * A front and up vector must be provided. The front is the direction the\n   * face of the listener is pointing, and up is the direction the top of the\n   * listener is pointing. Thus, these values are expected to be at right angles\n   * from each other.\n   * @param  {Number} x   The x-orientation of the listener.\n   * @param  {Number} y   The y-orientation of the listener.\n   * @param  {Number} z   The z-orientation of the listener.\n   * @param  {Number} xUp The x-orientation of the top of the listener.\n   * @param  {Number} yUp The y-orientation of the top of the listener.\n   * @param  {Number} zUp The z-orientation of the top of the listener.\n   * @return {Howler/Array}     Returns self or the current orientation vectors.\n   */\n  HowlerGlobal.prototype.orientation = function(x, y, z, xUp, yUp, zUp) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    var or = self._orientation;\n    y = (typeof y !== 'number') ? or[1] : y;\n    z = (typeof z !== 'number') ? or[2] : z;\n    xUp = (typeof xUp !== 'number') ? or[3] : xUp;\n    yUp = (typeof yUp !== 'number') ? or[4] : yUp;\n    zUp = (typeof zUp !== 'number') ? or[5] : zUp;\n\n    if (typeof x === 'number') {\n      self._orientation = [x, y, z, xUp, yUp, zUp];\n\n      if (typeof self.ctx.listener.forwardX !== 'undefined') {\n        self.ctx.listener.forwardX.setTargetAtTime(x, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.forwardY.setTargetAtTime(y, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.forwardZ.setTargetAtTime(z, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.upX.setTargetAtTime(xUp, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.upY.setTargetAtTime(yUp, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.upZ.setTargetAtTime(zUp, Howler.ctx.currentTime, 0.1);\n      } else {\n        self.ctx.listener.setOrientation(x, y, z, xUp, yUp, zUp);\n      }\n    } else {\n      return or;\n    }\n\n    return self;\n  };\n\n  /** Group Methods **/\n  /***************************************************************************/\n\n  /**\n   * Add new properties to the core init.\n   * @param  {Function} _super Core init method.\n   * @return {Howl}\n   */\n  Howl.prototype.init = (function(_super) {\n    return function(o) {\n      var self = this;\n\n      // Setup user-defined default properties.\n      self._orientation = o.orientation || [1, 0, 0];\n      self._stereo = o.stereo || null;\n      self._pos = o.pos || null;\n      self._pannerAttr = {\n        coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : 360,\n        coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : 360,\n        coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : 0,\n        distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : 'inverse',\n        maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : 10000,\n        panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : 'HRTF',\n        refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : 1,\n        rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : 1\n      };\n\n      // Setup event listeners.\n      self._onstereo = o.onstereo ? [{fn: o.onstereo}] : [];\n      self._onpos = o.onpos ? [{fn: o.onpos}] : [];\n      self._onorientation = o.onorientation ? [{fn: o.onorientation}] : [];\n\n      // Complete initilization with howler.js core's init function.\n      return _super.call(this, o);\n    };\n  })(Howl.prototype.init);\n\n  /**\n   * Get/set the stereo panning of the audio source for this sound or all in the group.\n   * @param  {Number} pan  A value of -1.0 is all the way left and 1.0 is all the way right.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Number}    Returns self or the current stereo panning value.\n   */\n  Howl.prototype.stereo = function(pan, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change stereo pan when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'stereo',\n        action: function() {\n          self.stereo(pan, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Check for PannerStereoNode support and fallback to PannerNode if it doesn't exist.\n    var pannerType = (typeof Howler.ctx.createStereoPanner === 'undefined') ? 'spatial' : 'stereo';\n\n    // Setup the group's stereo panning if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's stereo panning if no parameters are passed.\n      if (typeof pan === 'number') {\n        self._stereo = pan;\n        self._pos = [pan, 0, 0];\n      } else {\n        return self._stereo;\n      }\n    }\n\n    // Change the streo panning of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof pan === 'number') {\n          sound._stereo = pan;\n          sound._pos = [pan, 0, 0];\n\n          if (sound._node) {\n            // If we are falling back, make sure the panningModel is equalpower.\n            sound._pannerAttr.panningModel = 'equalpower';\n\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner || !sound._panner.pan) {\n              setupPanner(sound, pannerType);\n            }\n\n            if (pannerType === 'spatial') {\n              if (typeof sound._panner.positionX !== 'undefined') {\n                sound._panner.positionX.setValueAtTime(pan, Howler.ctx.currentTime);\n                sound._panner.positionY.setValueAtTime(0, Howler.ctx.currentTime);\n                sound._panner.positionZ.setValueAtTime(0, Howler.ctx.currentTime);\n              } else {\n                sound._panner.setPosition(pan, 0, 0);\n              }\n            } else {\n              sound._panner.pan.setValueAtTime(pan, Howler.ctx.currentTime);\n            }\n          }\n\n          self._emit('stereo', sound._id);\n        } else {\n          return sound._stereo;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the 3D spatial position of the audio source for this sound or group relative to the global listener.\n   * @param  {Number} x  The x-position of the audio source.\n   * @param  {Number} y  The y-position of the audio source.\n   * @param  {Number} z  The z-position of the audio source.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Array}    Returns self or the current 3D spatial position: [x, y, z].\n   */\n  Howl.prototype.pos = function(x, y, z, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change position when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'pos',\n        action: function() {\n          self.pos(x, y, z, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? 0 : y;\n    z = (typeof z !== 'number') ? -0.5 : z;\n\n    // Setup the group's spatial position if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's spatial position if no parameters are passed.\n      if (typeof x === 'number') {\n        self._pos = [x, y, z];\n      } else {\n        return self._pos;\n      }\n    }\n\n    // Change the spatial position of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof x === 'number') {\n          sound._pos = [x, y, z];\n\n          if (sound._node) {\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner || sound._panner.pan) {\n              setupPanner(sound, 'spatial');\n            }\n\n            if (typeof sound._panner.positionX !== 'undefined') {\n              sound._panner.positionX.setValueAtTime(x, Howler.ctx.currentTime);\n              sound._panner.positionY.setValueAtTime(y, Howler.ctx.currentTime);\n              sound._panner.positionZ.setValueAtTime(z, Howler.ctx.currentTime);\n            } else {\n              sound._panner.setPosition(x, y, z);\n            }\n          }\n\n          self._emit('pos', sound._id);\n        } else {\n          return sound._pos;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the direction the audio source is pointing in the 3D cartesian coordinate\n   * space. Depending on how direction the sound is, based on the `cone` attributes,\n   * a sound pointing away from the listener can be quiet or silent.\n   * @param  {Number} x  The x-orientation of the source.\n   * @param  {Number} y  The y-orientation of the source.\n   * @param  {Number} z  The z-orientation of the source.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Array}    Returns self or the current 3D spatial orientation: [x, y, z].\n   */\n  Howl.prototype.orientation = function(x, y, z, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change orientation when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'orientation',\n        action: function() {\n          self.orientation(x, y, z, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? self._orientation[1] : y;\n    z = (typeof z !== 'number') ? self._orientation[2] : z;\n\n    // Setup the group's spatial orientation if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's spatial orientation if no parameters are passed.\n      if (typeof x === 'number') {\n        self._orientation = [x, y, z];\n      } else {\n        return self._orientation;\n      }\n    }\n\n    // Change the spatial orientation of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof x === 'number') {\n          sound._orientation = [x, y, z];\n\n          if (sound._node) {\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner) {\n              // Make sure we have a position to setup the node with.\n              if (!sound._pos) {\n                sound._pos = self._pos || [0, 0, -0.5];\n              }\n\n              setupPanner(sound, 'spatial');\n            }\n\n            if (typeof sound._panner.orientationX !== 'undefined') {\n              sound._panner.orientationX.setValueAtTime(x, Howler.ctx.currentTime);\n              sound._panner.orientationY.setValueAtTime(y, Howler.ctx.currentTime);\n              sound._panner.orientationZ.setValueAtTime(z, Howler.ctx.currentTime);\n            } else {\n              sound._panner.setOrientation(x, y, z);\n            }\n          }\n\n          self._emit('orientation', sound._id);\n        } else {\n          return sound._orientation;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the panner node's attributes for a sound or group of sounds.\n   * This method can optionall take 0, 1 or 2 arguments.\n   *   pannerAttr() -> Returns the group's values.\n   *   pannerAttr(id) -> Returns the sound id's values.\n   *   pannerAttr(o) -> Set's the values of all sounds in this Howl group.\n   *   pannerAttr(o, id) -> Set's the values of passed sound id.\n   *\n   *   Attributes:\n   *     coneInnerAngle - (360 by default) A parameter for directional audio sources, this is an angle, in degrees,\n   *                      inside of which there will be no volume reduction.\n   *     coneOuterAngle - (360 by default) A parameter for directional audio sources, this is an angle, in degrees,\n   *                      outside of which the volume will be reduced to a constant value of `coneOuterGain`.\n   *     coneOuterGain - (0 by default) A parameter for directional audio sources, this is the gain outside of the\n   *                     `coneOuterAngle`. It is a linear value in the range `[0, 1]`.\n   *     distanceModel - ('inverse' by default) Determines algorithm used to reduce volume as audio moves away from\n   *                     listener. Can be `linear`, `inverse` or `exponential.\n   *     maxDistance - (10000 by default) The maximum distance between source and listener, after which the volume\n   *                   will not be reduced any further.\n   *     refDistance - (1 by default) A reference distance for reducing volume as source moves further from the listener.\n   *                   This is simply a variable of the distance model and has a different effect depending on which model\n   *                   is used and the scale of your coordinates. Generally, volume will be equal to 1 at this distance.\n   *     rolloffFactor - (1 by default) How quickly the volume reduces as source moves from listener. This is simply a\n   *                     variable of the distance model and can be in the range of `[0, 1]` with `linear` and `[0, ∞]`\n   *                     with `inverse` and `exponential`.\n   *     panningModel - ('HRTF' by default) Determines which spatialization algorithm is used to position audio.\n   *                     Can be `HRTF` or `equalpower`.\n   *\n   * @return {Howl/Object} Returns self or current panner attributes.\n   */\n  Howl.prototype.pannerAttr = function() {\n    var self = this;\n    var args = arguments;\n    var o, id, sound;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // Determine the values based on arguments.\n    if (args.length === 0) {\n      // Return the group's panner attribute values.\n      return self._pannerAttr;\n    } else if (args.length === 1) {\n      if (typeof args[0] === 'object') {\n        o = args[0];\n\n        // Set the grou's panner attribute values.\n        if (typeof id === 'undefined') {\n          if (!o.pannerAttr) {\n            o.pannerAttr = {\n              coneInnerAngle: o.coneInnerAngle,\n              coneOuterAngle: o.coneOuterAngle,\n              coneOuterGain: o.coneOuterGain,\n              distanceModel: o.distanceModel,\n              maxDistance: o.maxDistance,\n              refDistance: o.refDistance,\n              rolloffFactor: o.rolloffFactor,\n              panningModel: o.panningModel\n            };\n          }\n\n          self._pannerAttr = {\n            coneInnerAngle: typeof o.pannerAttr.coneInnerAngle !== 'undefined' ? o.pannerAttr.coneInnerAngle : self._coneInnerAngle,\n            coneOuterAngle: typeof o.pannerAttr.coneOuterAngle !== 'undefined' ? o.pannerAttr.coneOuterAngle : self._coneOuterAngle,\n            coneOuterGain: typeof o.pannerAttr.coneOuterGain !== 'undefined' ? o.pannerAttr.coneOuterGain : self._coneOuterGain,\n            distanceModel: typeof o.pannerAttr.distanceModel !== 'undefined' ? o.pannerAttr.distanceModel : self._distanceModel,\n            maxDistance: typeof o.pannerAttr.maxDistance !== 'undefined' ? o.pannerAttr.maxDistance : self._maxDistance,\n            refDistance: typeof o.pannerAttr.refDistance !== 'undefined' ? o.pannerAttr.refDistance : self._refDistance,\n            rolloffFactor: typeof o.pannerAttr.rolloffFactor !== 'undefined' ? o.pannerAttr.rolloffFactor : self._rolloffFactor,\n            panningModel: typeof o.pannerAttr.panningModel !== 'undefined' ? o.pannerAttr.panningModel : self._panningModel\n          };\n        }\n      } else {\n        // Return this sound's panner attribute values.\n        sound = self._soundById(parseInt(args[0], 10));\n        return sound ? sound._pannerAttr : self._pannerAttr;\n      }\n    } else if (args.length === 2) {\n      o = args[0];\n      id = parseInt(args[1], 10);\n    }\n\n    // Update the values of the specified sounds.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      sound = self._soundById(ids[i]);\n\n      if (sound) {\n        // Merge the new values into the sound.\n        var pa = sound._pannerAttr;\n        pa = {\n          coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : pa.coneInnerAngle,\n          coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : pa.coneOuterAngle,\n          coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : pa.coneOuterGain,\n          distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : pa.distanceModel,\n          maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : pa.maxDistance,\n          refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : pa.refDistance,\n          rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : pa.rolloffFactor,\n          panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : pa.panningModel\n        };\n\n        // Create a new panner node if one doesn't already exist.\n        var panner = sound._panner;\n        if (!panner) {\n          // Make sure we have a position to setup the node with.\n          if (!sound._pos) {\n            sound._pos = self._pos || [0, 0, -0.5];\n          }\n\n          // Create a new panner node.\n          setupPanner(sound, 'spatial');\n          panner = sound._panner\n        }\n\n        // Update the panner values or create a new panner if none exists.\n        panner.coneInnerAngle = pa.coneInnerAngle;\n        panner.coneOuterAngle = pa.coneOuterAngle;\n        panner.coneOuterGain = pa.coneOuterGain;\n        panner.distanceModel = pa.distanceModel;\n        panner.maxDistance = pa.maxDistance;\n        panner.refDistance = pa.refDistance;\n        panner.rolloffFactor = pa.rolloffFactor;\n        panner.panningModel = pa.panningModel;\n      }\n    }\n\n    return self;\n  };\n\n  /** Single Sound Methods **/\n  /***************************************************************************/\n\n  /**\n   * Add new properties to the core Sound init.\n   * @param  {Function} _super Core Sound init method.\n   * @return {Sound}\n   */\n  Sound.prototype.init = (function(_super) {\n    return function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Setup user-defined default properties.\n      self._orientation = parent._orientation;\n      self._stereo = parent._stereo;\n      self._pos = parent._pos;\n      self._pannerAttr = parent._pannerAttr;\n\n      // Complete initilization with howler.js core Sound's init function.\n      _super.call(this);\n\n      // If a stereo or position was specified, set it up.\n      if (self._stereo) {\n        parent.stereo(self._stereo);\n      } else if (self._pos) {\n        parent.pos(self._pos[0], self._pos[1], self._pos[2], self._id);\n      }\n    };\n  })(Sound.prototype.init);\n\n  /**\n   * Override the Sound.reset method to clean up properties from the spatial plugin.\n   * @param  {Function} _super Sound reset method.\n   * @return {Sound}\n   */\n  Sound.prototype.reset = (function(_super) {\n    return function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Reset all spatial plugin properties on this sound.\n      self._orientation = parent._orientation;\n      self._stereo = parent._stereo;\n      self._pos = parent._pos;\n      self._pannerAttr = parent._pannerAttr;\n\n      // If a stereo or position was specified, set it up.\n      if (self._stereo) {\n        parent.stereo(self._stereo);\n      } else if (self._pos) {\n        parent.pos(self._pos[0], self._pos[1], self._pos[2], self._id);\n      } else if (self._panner) {\n        // Disconnect the panner.\n        self._panner.disconnect(0);\n        self._panner = undefined;\n        parent._refreshBuffer(self);\n      }\n\n      // Complete resetting of the sound.\n      return _super.call(this);\n    };\n  })(Sound.prototype.reset);\n\n  /** Helper Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create a new panner node and save it on the sound.\n   * @param  {Sound} sound Specific sound to setup panning on.\n   * @param {String} type Type of panner to create: 'stereo' or 'spatial'.\n   */\n  var setupPanner = function(sound, type) {\n    type = type || 'spatial';\n\n    // Create the new panner node.\n    if (type === 'spatial') {\n      sound._panner = Howler.ctx.createPanner();\n      sound._panner.coneInnerAngle = sound._pannerAttr.coneInnerAngle;\n      sound._panner.coneOuterAngle = sound._pannerAttr.coneOuterAngle;\n      sound._panner.coneOuterGain = sound._pannerAttr.coneOuterGain;\n      sound._panner.distanceModel = sound._pannerAttr.distanceModel;\n      sound._panner.maxDistance = sound._pannerAttr.maxDistance;\n      sound._panner.refDistance = sound._pannerAttr.refDistance;\n      sound._panner.rolloffFactor = sound._pannerAttr.rolloffFactor;\n      sound._panner.panningModel = sound._pannerAttr.panningModel;\n\n      if (typeof sound._panner.positionX !== 'undefined') {\n        sound._panner.positionX.setValueAtTime(sound._pos[0], Howler.ctx.currentTime);\n        sound._panner.positionY.setValueAtTime(sound._pos[1], Howler.ctx.currentTime);\n        sound._panner.positionZ.setValueAtTime(sound._pos[2], Howler.ctx.currentTime);\n      } else {\n        sound._panner.setPosition(sound._pos[0], sound._pos[1], sound._pos[2]);\n      }\n\n      if (typeof sound._panner.orientationX !== 'undefined') {\n        sound._panner.orientationX.setValueAtTime(sound._orientation[0], Howler.ctx.currentTime);\n        sound._panner.orientationY.setValueAtTime(sound._orientation[1], Howler.ctx.currentTime);\n        sound._panner.orientationZ.setValueAtTime(sound._orientation[2], Howler.ctx.currentTime);\n      } else {\n        sound._panner.setOrientation(sound._orientation[0], sound._orientation[1], sound._orientation[2]);\n      }\n    } else {\n      sound._panner = Howler.ctx.createStereoPanner();\n      sound._panner.pan.setValueAtTime(sound._stereo, Howler.ctx.currentTime);\n    }\n\n    sound._panner.connect(sound._node);\n\n    // Update the connections.\n    if (!sound._paused) {\n      sound._parent.pause(sound._id, true).play(sound._id, true);\n    }\n  };\n})();\n","/**\n * @license React\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),ca=require(\"scheduler\");function p(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var da=new Set,ea={};function fa(a,b){ha(a,b);ha(a+\"Capture\",b)}\nfunction ha(a,b){ea[a]=b;for(a=0;a<b.length;a++)da.add(b[a])}\nvar ia=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,la=\n{},ma={};function oa(a){if(ja.call(ma,a))return!0;if(ja.call(la,a))return!1;if(ka.test(a))return ma[a]=!0;la[a]=!0;return!1}function pa(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction qa(a,b,c,d){if(null===b||\"undefined\"===typeof b||pa(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function v(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var z={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){z[a]=new v(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];z[b]=new v(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){z[a]=new v(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){z[a]=new v(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){z[a]=new v(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){z[a]=new v(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){z[a]=new v(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){z[a]=new v(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){z[a]=new v(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra=/[\\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(ra,\nsa);z[b]=new v(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!1,!1)});\nz.xlinkHref=new v(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!0,!0)});\nfunction ta(a,b,c,d){var e=z.hasOwnProperty(b)?z[b]:null;if(null!==e?0!==e.type:d||!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1])qa(b,c,e,d)&&(c=null),d||null===e?oa(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c)))}\nvar ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for(\"react.element\"),wa=Symbol.for(\"react.portal\"),ya=Symbol.for(\"react.fragment\"),za=Symbol.for(\"react.strict_mode\"),Aa=Symbol.for(\"react.profiler\"),Ba=Symbol.for(\"react.provider\"),Ca=Symbol.for(\"react.context\"),Da=Symbol.for(\"react.forward_ref\"),Ea=Symbol.for(\"react.suspense\"),Fa=Symbol.for(\"react.suspense_list\"),Ga=Symbol.for(\"react.memo\"),Ha=Symbol.for(\"react.lazy\");Symbol.for(\"react.scope\");Symbol.for(\"react.debug_trace_mode\");\nvar Ia=Symbol.for(\"react.offscreen\");Symbol.for(\"react.legacy_hidden\");Symbol.for(\"react.cache\");Symbol.for(\"react.tracing_marker\");var Ja=Symbol.iterator;function Ka(a){if(null===a||\"object\"!==typeof a)return null;a=Ja&&a[Ja]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var A=Object.assign,La;function Ma(a){if(void 0===La)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);La=b&&b[1]||\"\"}return\"\\n\"+La+a}var Na=!1;\nfunction Oa(a,b){if(!a||Na)return\"\";Na=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(l){var d=l}Reflect.construct(a,[],b)}else{try{b.call()}catch(l){d=l}a.call(b.prototype)}else{try{throw Error();}catch(l){d=l}a()}}catch(l){if(l&&d&&\"string\"===typeof l.stack){for(var e=l.stack.split(\"\\n\"),\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h]){var k=\"\\n\"+e[g].replace(\" at new \",\" at \");a.displayName&&k.includes(\"<anonymous>\")&&(k=k.replace(\"<anonymous>\",a.displayName));return k}while(1<=g&&0<=h)}break}}}finally{Na=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Ma(a):\"\"}\nfunction Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma(\"Lazy\");case 13:return Ma(\"Suspense\");case 19:return Ma(\"SuspenseList\");case 0:case 2:case 15:return a=Oa(a.type,!1),a;case 11:return a=Oa(a.type.render,!1),a;case 1:return a=Oa(a.type,!0),a;default:return\"\"}}\nfunction Qa(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ya:return\"Fragment\";case wa:return\"Portal\";case Aa:return\"Profiler\";case za:return\"StrictMode\";case Ea:return\"Suspense\";case Fa:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case Ca:return(a.displayName||\"Context\")+\".Consumer\";case Ba:return(a._context.displayName||\"Context\")+\".Provider\";case Da:var b=a.render;a=a.displayName;a||(a=b.displayName||\nb.name||\"\",a=\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");return a;case Ga:return b=a.displayName||null,null!==b?b:Qa(a.type)||\"Memo\";case Ha:b=a._payload;a=a._init;try{return Qa(a(b))}catch(c){}}return null}\nfunction Ra(a){var b=a.type;switch(a.tag){case 24:return\"Cache\";case 9:return(b.displayName||\"Context\")+\".Consumer\";case 10:return(b._context.displayName||\"Context\")+\".Provider\";case 18:return\"DehydratedFragment\";case 11:return a=b.render,a=a.displayName||a.name||\"\",b.displayName||(\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");case 7:return\"Fragment\";case 5:return b;case 4:return\"Portal\";case 3:return\"Root\";case 6:return\"Text\";case 16:return Qa(b);case 8:return b===za?\"StrictMode\":\"Mode\";case 22:return\"Offscreen\";\ncase 12:return\"Profiler\";case 21:return\"Scope\";case 13:return\"Suspense\";case 19:return\"SuspenseList\";case 25:return\"TracingMarker\";case 1:case 0:case 17:case 2:case 14:case 15:if(\"function\"===typeof b)return b.displayName||b.name||null;if(\"string\"===typeof b)return b}return null}function Sa(a){switch(typeof a){case \"boolean\":case \"number\":case \"string\":case \"undefined\":return a;case \"object\":return a;default:return\"\"}}\nfunction Ta(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ua(a){var b=Ta(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Ta(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}\nfunction Ya(a,b){var c=b.checked;return A({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function ab(a,b){b=b.checked;null!=b&&ta(a,\"checked\",b,!1)}\nfunction bb(a,b){ab(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?cb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&cb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction db(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction cb(a,b,c){if(\"number\"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}var eb=Array.isArray;\nfunction fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(p(91));return A({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(p(92));if(eb(c)){if(1<c.length)throw Error(p(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:Sa(c)}}\nfunction ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}function kb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}\nfunction lb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?kb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar mb,nb=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(\"http://www.w3.org/2000/svg\"!==a.namespaceURI||\"innerHTML\"in a)a.innerHTML=b;else{mb=mb||document.createElement(\"div\");mb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction ob(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,\nzoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(pb).forEach(function(a){qb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);pb[b]=pb[a]})});function rb(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||pb.hasOwnProperty(a)&&pb[a]?(\"\"+b).trim():b+\"px\"}\nfunction sb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=rb(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction ub(a,b){if(b){if(tb[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(p(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(p(60));if(\"object\"!==typeof b.dangerouslySetInnerHTML||!(\"__html\"in b.dangerouslySetInnerHTML))throw Error(p(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(p(62));}}\nfunction vb(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}var wb=null;function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;\nfunction Bb(a){if(a=Cb(a)){if(\"function\"!==typeof yb)throw Error(p(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(){}var Ib=!1;function Jb(a,b,c){if(Ib)return a(b,c);Ib=!0;try{return Gb(a,b,c)}finally{if(Ib=!1,null!==zb||null!==Ab)Hb(),Fb()}}\nfunction Kb(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==\ntypeof c)throw Error(p(231,b,typeof c));return c}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,\"passive\",{get:function(){Lb=!0}});window.addEventListener(\"test\",Mb,Mb);window.removeEventListener(\"test\",Mb,Mb)}catch(a){Lb=!1}function Nb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(m){this.onError(m)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(a){Ob=!0;Pb=a}};function Tb(a,b,c,d,e,f,g,h,k){Ob=!1;Pb=null;Nb.apply(Sb,arguments)}\nfunction Ub(a,b,c,d,e,f,g,h,k){Tb.apply(this,arguments);if(Ob){if(Ob){var l=Pb;Ob=!1;Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=l)}}function Vb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&4098)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function Wb(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p(188));}\nfunction Yb(a){var b=a.alternate;if(!b){b=Vb(a);if(null===b)throw Error(p(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return Xb(e),a;if(f===d)return Xb(e),b;f=f.sibling}throw Error(p(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(p(189));}}if(c.alternate!==d)throw Error(p(190));}if(3!==c.tag)throw Error(p(188));return c.stateNode.current===c?a:b}function Zb(a){a=Yb(a);return null!==a?$b(a):null}function $b(a){if(5===a.tag||6===a.tag)return a;for(a=a.child;null!==a;){var b=$b(a);if(null!==b)return b;a=a.sibling}return null}\nvar ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&\"function\"===typeof lc.onCommitFiberRoot)try{lc.onCommitFiberRoot(kc,a,void 0,128===(a.current.flags&128))}catch(b){}}\nvar oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){a>>>=0;return 0===a?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;\nfunction tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;\ndefault:return a}}function uc(a,b){var c=a.pendingLanes;if(0===c)return 0;var d=0,e=a.suspendedLanes,f=a.pingedLanes,g=c&268435455;if(0!==g){var h=g&~e;0!==h?d=tc(h):(f&=g,0!==f&&(d=tc(f)))}else g=c&~e,0!==g?d=tc(g):0!==f&&(d=tc(f));if(0===d)return 0;if(0!==b&&b!==d&&0===(b&e)&&(e=d&-d,f=b&-b,e>=f||16===e&&0!==(f&4194240)))return b;0!==(d&4)&&(d|=c&16);b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-oc(b),e=1<<c,d|=a[c],b&=~e;return d}\nfunction vc(a,b){switch(a){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}\nfunction wc(a,b){for(var c=a.suspendedLanes,d=a.pingedLanes,e=a.expirationTimes,f=a.pendingLanes;0<f;){var g=31-oc(f),h=1<<g,k=e[g];if(-1===k){if(0===(h&c)||0!==(h&d))e[g]=vc(h,b)}else k<=b&&(a.expiredLanes|=h);f&=~h}}function xc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function yc(){var a=rc;rc<<=1;0===(rc&4194240)&&(rc=64);return a}function zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\nfunction Ac(a,b,c){a.pendingLanes|=b;536870912!==b&&(a.suspendedLanes=0,a.pingedLanes=0);a=a.eventTimes;b=31-oc(b);a[b]=c}function Bc(a,b){var c=a.pendingLanes&~b;a.pendingLanes=b;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=b;a.mutableReadLanes&=b;a.entangledLanes&=b;b=a.entanglements;var d=a.eventTimes;for(a=a.expirationTimes;0<c;){var e=31-oc(c),f=1<<e;b[e]=0;d[e]=-1;a[e]=-1;c&=~f}}\nfunction Cc(a,b){var c=a.entangledLanes|=b;for(a=a.entanglements;c;){var d=31-oc(c),e=1<<d;e&b|a[d]&b&&(a[d]|=b);c&=~e}}var C=0;function Dc(a){a&=-a;return 1<a?4<a?0!==(a&268435455)?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");\nfunction Sc(a,b){switch(a){case \"focusin\":case \"focusout\":Lc=null;break;case \"dragenter\":case \"dragleave\":Mc=null;break;case \"mouseover\":case \"mouseout\":Nc=null;break;case \"pointerover\":case \"pointerout\":Oc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":Pc.delete(b.pointerId)}}\nfunction Tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a={blockedOn:b,domEventName:c,eventSystemFlags:d,nativeEvent:f,targetContainers:[e]},null!==b&&(b=Cb(b),null!==b&&Fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}\nfunction Uc(a,b,c,d,e){switch(b){case \"focusin\":return Lc=Tc(Lc,a,b,c,d,e),!0;case \"dragenter\":return Mc=Tc(Mc,a,b,c,d,e),!0;case \"mouseover\":return Nc=Tc(Nc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;Oc.set(f,Tc(Oc.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,Pc.set(f,Tc(Pc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction Vc(a){var b=Wc(a.target);if(null!==b){var c=Vb(b);if(null!==c)if(b=c.tag,13===b){if(b=Wb(c),null!==b){a.blockedOn=b;Ic(a.priority,function(){Gc(c)});return}}else if(3===b&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}\nfunction Xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=Yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null===c){c=a.nativeEvent;var d=new c.constructor(c.type,c);wb=d;c.target.dispatchEvent(d);wb=null}else return b=Cb(c),null!==b&&Fc(b),a.blockedOn=c,!1;b.shift()}return!0}function Zc(a,b,c){Xc(a)&&c.delete(b)}function $c(){Jc=!1;null!==Lc&&Xc(Lc)&&(Lc=null);null!==Mc&&Xc(Mc)&&(Mc=null);null!==Nc&&Xc(Nc)&&(Nc=null);Oc.forEach(Zc);Pc.forEach(Zc)}\nfunction ad(a,b){a.blockedOn===b&&(a.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}\nfunction bd(a){function b(b){return ad(b,a)}if(0<Kc.length){ad(Kc[0],a);for(var c=1;c<Kc.length;c++){var d=Kc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==Lc&&ad(Lc,a);null!==Mc&&ad(Mc,a);null!==Nc&&ad(Nc,a);Oc.forEach(b);Pc.forEach(b);for(c=0;c<Qc.length;c++)d=Qc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<Qc.length&&(c=Qc[0],null===c.blockedOn);)Vc(c),null===c.blockedOn&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;\nfunction ed(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=1,fd(a,b,c,d)}finally{C=e,cd.transition=f}}function gd(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=4,fd(a,b,c,d)}finally{C=e,cd.transition=f}}\nfunction fd(a,b,c,d){if(dd){var e=Yc(a,b,c,d);if(null===e)hd(a,b,d,id,c),Sc(a,d);else if(Uc(e,a,b,c,d))d.stopPropagation();else if(Sc(a,d),b&4&&-1<Rc.indexOf(a)){for(;null!==e;){var f=Cb(e);null!==f&&Ec(f);f=Yc(a,b,c,d);null===f&&hd(a,b,d,id,c);if(f===e)break;e=f}null!==e&&d.stopPropagation()}else hd(a,b,d,null,c)}}var id=null;\nfunction Yc(a,b,c,d){id=null;a=xb(d);a=Wc(a);if(null!==a)if(b=Vb(a),null===b)a=null;else if(c=b.tag,13===c){a=Wb(b);if(null!==a)return a;a=null}else if(3===c){if(b.stateNode.current.memoizedState.isDehydrated)return 3===b.tag?b.stateNode.containerInfo:null;a=null}else b!==a&&(a=null);id=a;return null}\nfunction jd(a){switch(a){case \"cancel\":case \"click\":case \"close\":case \"contextmenu\":case \"copy\":case \"cut\":case \"auxclick\":case \"dblclick\":case \"dragend\":case \"dragstart\":case \"drop\":case \"focusin\":case \"focusout\":case \"input\":case \"invalid\":case \"keydown\":case \"keypress\":case \"keyup\":case \"mousedown\":case \"mouseup\":case \"paste\":case \"pause\":case \"play\":case \"pointercancel\":case \"pointerdown\":case \"pointerup\":case \"ratechange\":case \"reset\":case \"resize\":case \"seeked\":case \"submit\":case \"touchcancel\":case \"touchend\":case \"touchstart\":case \"volumechange\":case \"change\":case \"selectionchange\":case \"textInput\":case \"compositionstart\":case \"compositionend\":case \"compositionupdate\":case \"beforeblur\":case \"afterblur\":case \"beforeinput\":case \"blur\":case \"fullscreenchange\":case \"focus\":case \"hashchange\":case \"popstate\":case \"select\":case \"selectstart\":return 1;case \"drag\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"mousemove\":case \"mouseout\":case \"mouseover\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"scroll\":case \"toggle\":case \"touchmove\":case \"wheel\":case \"mouseenter\":case \"mouseleave\":case \"pointerenter\":case \"pointerleave\":return 4;\ncase \"message\":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,b=ld,c=b.length,d,e=\"value\"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}\nfunction od(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}\nfunction rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}A(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\n(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}\nvar sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in\na)return a.movementX;a!==yd&&(yd&&\"mousemove\"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return\"movementY\"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:\"Escape\",\nSpacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",\n119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Od={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}\nvar Qd=A({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=od(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?Nd[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return\"keypress\"===a.type?od(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?od(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},\ndeltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&\"CompositionEvent\"in window,be=null;ia&&\"documentMode\"in document&&(be=document.documentMode);var ce=ia&&\"TextEvent\"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;\nfunction ge(a,b){switch(a){case \"keyup\":return-1!==$d.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"focusout\":return!0;default:return!1}}function he(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case \"compositionend\":return he(b);case \"keypress\":if(32!==b.which)return null;fe=!0;return ee;case \"textInput\":return a=b.data,a===ee&&fe?null:a;default:return null}}\nfunction ke(a,b){if(ie)return\"compositionend\"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return de&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar le={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!le[a.type]:\"textarea\"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,\"onChange\");0<b.length&&(c=new td(\"onChange\",\"change\",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}\nfunction ve(a,b){if(\"change\"===a)return b}var we=!1;if(ia){var xe;if(ia){var ye=\"oninput\"in document;if(!ye){var ze=document.createElement(\"div\");ze.setAttribute(\"oninput\",\"return;\");ye=\"function\"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent(\"onpropertychange\",Be),qe=pe=null)}function Be(a){if(\"value\"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));Jb(re,b)}}\nfunction Ce(a,b,c){\"focusin\"===a?(Ae(),pe=b,qe=c,pe.attachEvent(\"onpropertychange\",Be)):\"focusout\"===a&&Ae()}function De(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return te(qe)}function Ee(a,b){if(\"click\"===a)return te(b)}function Fe(a,b){if(\"input\"===a||\"change\"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He=\"function\"===typeof Object.is?Object.is:Ge;\nfunction Ie(a,b){if(He(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var e=c[d];if(!ja.call(b,e)||!He(a[e],b[e]))return!1}return!0}function Je(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Ke(a,b){var c=Je(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Je(c)}}function Le(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Le(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Me(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Ne(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nfunction Oe(a){var b=Me(),c=a.focusedElem,d=a.selectionRange;if(b!==c&&c&&c.ownerDocument&&Le(c.ownerDocument.documentElement,c)){if(null!==d&&Ne(c))if(b=d.start,a=d.end,void 0===a&&(a=b),\"selectionStart\"in c)c.selectionStart=b,c.selectionEnd=Math.min(a,c.value.length);else if(a=(b=c.ownerDocument||document)&&b.defaultView||window,a.getSelection){a=a.getSelection();var e=c.textContent.length,f=Math.min(d.start,e);d=void 0===d.end?f:Math.min(d.end,e);!a.extend&&f>d&&(e=d,d=f,f=e);e=Ke(c,f);var g=Ke(c,\nd);e&&g&&(1!==a.rangeCount||a.anchorNode!==e.node||a.anchorOffset!==e.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(b=b.createRange(),b.setStart(e.node,e.offset),a.removeAllRanges(),f>d?(a.addRange(b),a.extend(g.node,g.offset)):(b.setEnd(g.node,g.offset),a.addRange(b)))}b=[];for(a=c;a=a.parentNode;)1===a.nodeType&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});\"function\"===typeof c.focus&&c.focus();for(c=0;c<b.length;c++)a=b[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}\nvar Pe=ia&&\"documentMode\"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;\nfunction Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,\"selectionStart\"in d&&Ne(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Ie(Se,d)||(Se=d,d=oe(Re,\"onSelect\"),0<d.length&&(b=new td(\"onSelect\",\"select\",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}\nfunction Ve(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var We={animationend:Ve(\"Animation\",\"AnimationEnd\"),animationiteration:Ve(\"Animation\",\"AnimationIteration\"),animationstart:Ve(\"Animation\",\"AnimationStart\"),transitionend:Ve(\"Transition\",\"TransitionEnd\")},Xe={},Ye={};\nia&&(Ye=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),\"TransitionEvent\"in window||delete We.transitionend.transition);function Ze(a){if(Xe[a])return Xe[a];if(!We[a])return a;var b=We[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Ye)return Xe[a]=b[c];return a}var $e=Ze(\"animationend\"),af=Ze(\"animationiteration\"),bf=Ze(\"animationstart\"),cf=Ze(\"transitionend\"),df=new Map,ef=\"abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\" \");\nfunction ff(a,b){df.set(a,b);fa(b,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,\"on\"+kf)}ff($e,\"onAnimationEnd\");ff(af,\"onAnimationIteration\");ff(bf,\"onAnimationStart\");ff(\"dblclick\",\"onDoubleClick\");ff(\"focusin\",\"onFocus\");ff(\"focusout\",\"onBlur\");ff(cf,\"onTransitionEnd\");ha(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);ha(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ha(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);\nha(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);fa(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));fa(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));fa(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);fa(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));fa(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));\nfa(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var lf=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),mf=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(lf));\nfunction nf(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=c;Ub(d,b,void 0,a);a.currentTarget=null}\nfunction se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}}}if(Qb)throw a=Rb,Qb=!1,Rb=null,a;}\nfunction D(a,b){var c=b[of];void 0===c&&(c=b[of]=new Set);var d=a+\"__bubble\";c.has(d)||(pf(b,a,2,!1),c.add(d))}function qf(a,b,c){var d=0;b&&(d|=4);pf(c,a,d,b)}var rf=\"_reactListening\"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0;da.forEach(function(b){\"selectionchange\"!==b&&(mf.has(b)||qf(b,!1,a),qf(b,!0,a))});var b=9===a.nodeType?a:a.ownerDocument;null===b||b[rf]||(b[rf]=!0,qf(\"selectionchange\",!1,b))}}\nfunction pf(a,b,c,d){switch(jd(b)){case 1:var e=ed;break;case 4:e=gd;break;default:e=fd}c=e.bind(null,b,c,a);e=void 0;!Lb||\"touchstart\"!==b&&\"touchmove\"!==b&&\"wheel\"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}\nfunction hd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=Wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Jb(function(){var d=f,e=xb(c),g=[];\na:{var h=df.get(a);if(void 0!==h){var k=td,n=a;switch(a){case \"keypress\":if(0===od(c))break a;case \"keydown\":case \"keyup\":k=Rd;break;case \"focusin\":n=\"focus\";k=Fd;break;case \"focusout\":n=\"blur\";k=Fd;break;case \"beforeblur\":case \"afterblur\":k=Fd;break;case \"click\":if(2===c.button)break a;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":k=Bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":k=\nDd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":k=Vd;break;case $e:case af:case bf:k=Hd;break;case cf:k=Xd;break;case \"scroll\":k=vd;break;case \"wheel\":k=Zd;break;case \"copy\":case \"cut\":case \"paste\":k=Jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":k=Td}var t=0!==(b&4),J=!t&&\"scroll\"===a,x=t?null!==h?h+\"Capture\":null:h;t=[];for(var w=d,u;null!==\nw;){u=w;var F=u.stateNode;5===u.tag&&null!==F&&(u=F,null!==x&&(F=Kb(w,x),null!=F&&t.push(tf(w,F,u))));if(J)break;w=w.return}0<t.length&&(h=new k(h,n,null,c,e),g.push({event:h,listeners:t}))}}if(0===(b&7)){a:{h=\"mouseover\"===a||\"pointerover\"===a;k=\"mouseout\"===a||\"pointerout\"===a;if(h&&c!==wb&&(n=c.relatedTarget||c.fromElement)&&(Wc(n)||n[uf]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(n=c.relatedTarget||c.toElement,k=d,n=n?Wc(n):null,null!==\nn&&(J=Vb(n),n!==J||5!==n.tag&&6!==n.tag))n=null}else k=null,n=d;if(k!==n){t=Bd;F=\"onMouseLeave\";x=\"onMouseEnter\";w=\"mouse\";if(\"pointerout\"===a||\"pointerover\"===a)t=Td,F=\"onPointerLeave\",x=\"onPointerEnter\",w=\"pointer\";J=null==k?h:ue(k);u=null==n?h:ue(n);h=new t(F,w+\"leave\",k,c,e);h.target=J;h.relatedTarget=u;F=null;Wc(e)===d&&(t=new t(x,w+\"enter\",n,c,e),t.target=u,t.relatedTarget=J,F=t);J=F;if(k&&n)b:{t=k;x=n;w=0;for(u=t;u;u=vf(u))w++;u=0;for(F=x;F;F=vf(F))u++;for(;0<w-u;)t=vf(t),w--;for(;0<u-w;)x=\nvf(x),u--;for(;w--;){if(t===x||null!==x&&t===x.alternate)break b;t=vf(t);x=vf(x)}t=null}else t=null;null!==k&&wf(g,h,k,t,!1);null!==n&&null!==J&&wf(g,J,n,t,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if(\"select\"===k||\"input\"===k&&\"file\"===h.type)var na=ve;else if(me(h))if(we)na=Fe;else{na=De;var xa=Ce}else(k=h.nodeName)&&\"input\"===k.toLowerCase()&&(\"checkbox\"===h.type||\"radio\"===h.type)&&(na=Ee);if(na&&(na=na(a,d))){ne(g,na,c,e);break a}xa&&xa(a,h,d);\"focusout\"===a&&(xa=h._wrapperState)&&\nxa.controlled&&\"number\"===h.type&&cb(h,\"number\",h.value)}xa=d?ue(d):window;switch(a){case \"focusin\":if(me(xa)||\"true\"===xa.contentEditable)Qe=xa,Re=d,Se=null;break;case \"focusout\":Se=Re=Qe=null;break;case \"mousedown\":Te=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":Te=!1;Ue(g,c,e);break;case \"selectionchange\":if(Pe)break;case \"keydown\":case \"keyup\":Ue(g,c,e)}var $a;if(ae)b:{switch(a){case \"compositionstart\":var ba=\"onCompositionStart\";break b;case \"compositionend\":ba=\"onCompositionEnd\";\nbreak b;case \"compositionupdate\":ba=\"onCompositionUpdate\";break b}ba=void 0}else ie?ge(a,c)&&(ba=\"onCompositionEnd\"):\"keydown\"===a&&229===c.keyCode&&(ba=\"onCompositionStart\");ba&&(de&&\"ko\"!==c.locale&&(ie||\"onCompositionStart\"!==ba?\"onCompositionEnd\"===ba&&ie&&($a=nd()):(kd=e,ld=\"value\"in kd?kd.value:kd.textContent,ie=!0)),xa=oe(d,ba),0<xa.length&&(ba=new Ld(ba,a,null,c,e),g.push({event:ba,listeners:xa}),$a?ba.data=$a:($a=he(c),null!==$a&&(ba.data=$a))));if($a=ce?je(a,c):ke(a,c))d=oe(d,\"onBeforeInput\"),\n0<d.length&&(e=new Ld(\"onBeforeInput\",\"beforeinput\",null,c,e),g.push({event:e,listeners:d}),e.data=$a)}se(g,b)})}function tf(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+\"Capture\",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Kb(a,c),null!=f&&d.unshift(tf(a,f,e)),f=Kb(a,b),null!=f&&d.push(tf(a,f,e)));a=a.return}return d}function vf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction wf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Kb(c,f),null!=k&&g.unshift(tf(c,k,h))):e||(k=Kb(c,f),null!=k&&g.push(tf(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}var xf=/\\r\\n?/g,yf=/\\u0000|\\uFFFD/g;function zf(a){return(\"string\"===typeof a?a:\"\"+a).replace(xf,\"\\n\").replace(yf,\"\")}function Af(a,b,c){b=zf(b);if(zf(a)!==b&&c)throw Error(p(425));}function Bf(){}\nvar Cf=null,Df=null;function Ef(a,b){return\"textarea\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}\nvar Ff=\"function\"===typeof setTimeout?setTimeout:void 0,Gf=\"function\"===typeof clearTimeout?clearTimeout:void 0,Hf=\"function\"===typeof Promise?Promise:void 0,Jf=\"function\"===typeof queueMicrotask?queueMicrotask:\"undefined\"!==typeof Hf?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a;})}\nfunction Kf(a,b){var c=b,d=0;do{var e=c.nextSibling;a.removeChild(c);if(e&&8===e.nodeType)if(c=e.data,\"/$\"===c){if(0===d){a.removeChild(e);bd(b);return}d--}else\"$\"!==c&&\"$?\"!==c&&\"$!\"!==c||d++;c=e}while(c);bd(b)}function Lf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break;if(8===b){b=a.data;if(\"$\"===b||\"$!\"===b||\"$?\"===b)break;if(\"/$\"===b)return null}}return a}\nfunction Mf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(\"$\"===c||\"$!\"===c||\"$?\"===c){if(0===b)return a;b--}else\"/$\"===c&&b++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of=\"__reactFiber$\"+Nf,Pf=\"__reactProps$\"+Nf,uf=\"__reactContainer$\"+Nf,of=\"__reactEvents$\"+Nf,Qf=\"__reactListeners$\"+Nf,Rf=\"__reactHandles$\"+Nf;\nfunction Wc(a){var b=a[Of];if(b)return b;for(var c=a.parentNode;c;){if(b=c[uf]||c[Of]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=Mf(a);null!==a;){if(c=a[Of])return c;a=Mf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[Of]||a[uf];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(p(33));}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}\nfunction E(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(a,b){Tf++;Sf[Tf]=a.current;a.current=b}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,b){var c=a.type.contextTypes;if(!c)return Vf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}\nfunction Zf(a){a=a.childContextTypes;return null!==a&&void 0!==a}function $f(){E(Wf);E(H)}function ag(a,b,c){if(H.current!==Vf)throw Error(p(168));G(H,b);G(Wf,c)}function bg(a,b,c){var d=a.stateNode;b=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in b))throw Error(p(108,Ra(a)||\"Unknown\",e));return A({},c,d)}\nfunction cg(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf;Xf=H.current;G(H,a);G(Wf,Wf.current);return!0}function dg(a,b,c){var d=a.stateNode;if(!d)throw Error(p(169));c?(a=bg(a,b,Xf),d.__reactInternalMemoizedMergedChildContext=a,E(Wf),E(H),G(H,a)):E(Wf);G(Wf,c)}var eg=null,fg=!1,gg=!1;function hg(a){null===eg?eg=[a]:eg.push(a)}function ig(a){fg=!0;hg(a)}\nfunction jg(){if(!gg&&null!==eg){gg=!0;var a=0,b=C;try{var c=eg;for(C=1;a<c.length;a++){var d=c[a];do d=d(!0);while(null!==d)}eg=null;fg=!1}catch(e){throw null!==eg&&(eg=eg.slice(a+1)),ac(fc,jg),e;}finally{C=b,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg=\"\";function tg(a,b){kg[lg++]=ng;kg[lg++]=mg;mg=a;ng=b}\nfunction ug(a,b,c){og[pg++]=rg;og[pg++]=sg;og[pg++]=qg;qg=a;var d=rg;a=sg;var e=32-oc(d)-1;d&=~(1<<e);c+=1;var f=32-oc(b)+e;if(30<f){var g=e-e%5;f=(d&(1<<g)-1).toString(32);d>>=g;e-=g;rg=1<<32-oc(b)+e|c<<e|d;sg=f+a}else rg=1<<f|c<<e|d,sg=a}function vg(a){null!==a.return&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;\nfunction Ag(a,b){var c=Bg(5,null,null,0);c.elementType=\"DELETED\";c.stateNode=b;c.return=a;b=a.deletions;null===b?(a.deletions=[c],a.flags|=16):b.push(c)}\nfunction Cg(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,xg=a,yg=Lf(b.firstChild),!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,xg=a,yg=null,!0):!1;case 13:return b=8!==b.nodeType?null:b,null!==b?(c=null!==qg?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:b,treeContext:c,retryLane:1073741824},c=Bg(18,null,null,0),c.stateNode=b,c.return=a,a.child=c,xg=a,yg=\nnull,!0):!1;default:return!1}}function Dg(a){return 0!==(a.mode&1)&&0===(a.flags&128)}function Eg(a){if(I){var b=yg;if(b){var c=b;if(!Cg(a,b)){if(Dg(a))throw Error(p(418));b=Lf(c.nextSibling);var d=xg;b&&Cg(a,b)?Ag(d,c):(a.flags=a.flags&-4097|2,I=!1,xg=a)}}else{if(Dg(a))throw Error(p(418));a.flags=a.flags&-4097|2;I=!1;xg=a}}}function Fg(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;xg=a}\nfunction Gg(a){if(a!==xg)return!1;if(!I)return Fg(a),I=!0,!1;var b;(b=3!==a.tag)&&!(b=5!==a.tag)&&(b=a.type,b=\"head\"!==b&&\"body\"!==b&&!Ef(a.type,a.memoizedProps));if(b&&(b=yg)){if(Dg(a))throw Hg(),Error(p(418));for(;b;)Ag(a,b),b=Lf(b.nextSibling)}Fg(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(p(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(\"/$\"===c){if(0===b){yg=Lf(a.nextSibling);break a}b--}else\"$\"!==c&&\"$!\"!==c&&\"$?\"!==c||b++}a=a.nextSibling}yg=\nnull}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null;I=!1}function Jg(a){null===zg?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;function Lg(a,b){if(a&&a.defaultProps){b=A({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(a){var b=Mg.current;E(Mg);a._currentValue=b}\nfunction Sg(a,b,c){for(;null!==a;){var d=a.alternate;(a.childLanes&b)!==b?(a.childLanes|=b,null!==d&&(d.childLanes|=b)):null!==d&&(d.childLanes&b)!==b&&(d.childLanes|=b);if(a===c)break;a=a.return}}function Tg(a,b){Ng=a;Pg=Og=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(Ug=!0),a.firstContext=null)}\nfunction Vg(a){var b=a._currentValue;if(Pg!==a)if(a={context:a,memoizedValue:b,next:null},null===Og){if(null===Ng)throw Error(p(308));Og=a;Ng.dependencies={lanes:0,firstContext:a}}else Og=Og.next=a;return b}var Wg=null;function Xg(a){null===Wg?Wg=[a]:Wg.push(a)}function Yg(a,b,c,d){var e=b.interleaved;null===e?(c.next=c,Xg(b)):(c.next=e.next,e.next=c);b.interleaved=c;return Zg(a,d)}\nfunction Zg(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}var $g=!1;function ah(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}\nfunction bh(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ch(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}\nfunction dh(a,b,c){var d=a.updateQueue;if(null===d)return null;d=d.shared;if(0!==(K&2)){var e=d.pending;null===e?b.next=b:(b.next=e.next,e.next=b);d.pending=b;return Zg(a,c)}e=d.interleaved;null===e?(b.next=b,Xg(d)):(b.next=e.next,e.next=b);d.interleaved=b;return Zg(a,c)}function eh(a,b,c){b=b.updateQueue;if(null!==b&&(b=b.shared,0!==(c&4194240))){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nfunction fh(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\nb;c.lastBaseUpdate=b}\nfunction gh(a,b,c,d){var e=a.updateQueue;$g=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var m=a.alternate;null!==m&&(m=m.updateQueue,h=m.lastBaseUpdate,h!==g&&(null===h?m.firstBaseUpdate=l:h.next=l,m.lastBaseUpdate=k))}if(null!==f){var q=e.baseState;g=0;m=l=k=null;h=f;do{var r=h.lane,y=h.eventTime;if((d&r)===r){null!==m&&(m=m.next={eventTime:y,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,\nnext:null});a:{var n=a,t=h;r=b;y=c;switch(t.tag){case 1:n=t.payload;if(\"function\"===typeof n){q=n.call(y,q,r);break a}q=n;break a;case 3:n.flags=n.flags&-65537|128;case 0:n=t.payload;r=\"function\"===typeof n?n.call(y,q,r):n;if(null===r||void 0===r)break a;q=A({},q,r);break a;case 2:$g=!0}}null!==h.callback&&0!==h.lane&&(a.flags|=64,r=e.effects,null===r?e.effects=[h]:r.push(h))}else y={eventTime:y,lane:r,tag:h.tag,payload:h.payload,callback:h.callback,next:null},null===m?(l=m=y,k=q):m=m.next=y,g|=r;\nh=h.next;if(null===h)if(h=e.shared.pending,null===h)break;else r=h,h=r.next,r.next=null,e.lastBaseUpdate=r,e.shared.pending=null}while(1);null===m&&(k=q);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=m;b=e.shared.interleaved;if(null!==b){e=b;do g|=e.lane,e=e.next;while(e!==b)}else null===f&&(e.shared.lanes=0);hh|=g;a.lanes=g;a.memoizedState=q}}\nfunction ih(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(p(191,e));e.call(d)}}}var jh=(new aa.Component).refs;function kh(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:A({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\nvar nh={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=L(),e=lh(a),f=ch(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=dh(a,f,e);null!==b&&(mh(b,a,e,d),eh(b,a,e))},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=L(),e=lh(a),f=ch(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=dh(a,f,e);null!==b&&(mh(b,a,e,d),eh(b,a,e))},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=L(),d=\nlh(a),e=ch(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=b);b=dh(a,e,d);null!==b&&(mh(b,a,d,c),eh(b,a,d))}};function oh(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Ie(c,d)||!Ie(e,f):!0}\nfunction ph(a,b,c){var d=!1,e=Vf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=Vg(f):(e=Zf(b)?Xf:H.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Yf(a,e):Vf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=nh;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction qh(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&nh.enqueueReplaceState(b,b.state,null)}\nfunction rh(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=jh;ah(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=Vg(f):(f=Zf(b)?Xf:H.current,e.context=Yf(a,f));e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(kh(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||(b=e.state,\n\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&nh.enqueueReplaceState(e,e.state,null),gh(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4194308)}\nfunction sh(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(p(309));var d=c.stateNode}if(!d)throw Error(p(147,a));var e=d,f=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===f)return b.ref;b=function(a){var b=e.refs;b===jh&&(b=e.refs={});null===a?delete b[f]:b[f]=a};b._stringRef=f;return b}if(\"string\"!==typeof a)throw Error(p(284));if(!c._owner)throw Error(p(290,a));}return a}\nfunction th(a,b){a=Object.prototype.toString.call(b);throw Error(p(31,\"[object Object]\"===a?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":a));}function uh(a){var b=a._init;return b(a._payload)}\nfunction vh(a){function b(b,c){if(a){var d=b.deletions;null===d?(b.deletions=[c],b.flags|=16):d.push(c)}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=wh(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return b.flags|=1048576,c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags|=2,c):d;b.flags|=2;return c}function g(b){a&&\nnull===b.alternate&&(b.flags|=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=xh(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){var f=c.type;if(f===ya)return m(a,b,c.props.children,d,c.key);if(null!==b&&(b.elementType===f||\"object\"===typeof f&&null!==f&&f.$$typeof===Ha&&uh(f)===b.type))return d=e(b,c.props),d.ref=sh(a,b,c),d.return=a,d;d=yh(c.type,c.key,c.props,null,a.mode,d);d.ref=sh(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||\nb.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=zh(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function m(a,b,c,d,f){if(null===b||7!==b.tag)return b=Ah(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function q(a,b,c){if(\"string\"===typeof b&&\"\"!==b||\"number\"===typeof b)return b=xh(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case va:return c=yh(b.type,b.key,b.props,null,a.mode,c),\nc.ref=sh(a,null,b),c.return=a,c;case wa:return b=zh(b,a.mode,c),b.return=a,b;case Ha:var d=b._init;return q(a,d(b._payload),c)}if(eb(b)||Ka(b))return b=Ah(b,a.mode,c,null),b.return=a,b;th(a,b)}return null}function r(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c&&\"\"!==c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case va:return c.key===e?k(a,b,c,d):null;case wa:return c.key===e?l(a,b,c,d):null;case Ha:return e=c._init,r(a,\nb,e(c._payload),d)}if(eb(c)||Ka(c))return null!==e?null:m(a,b,c,d,null);th(a,c)}return null}function y(a,b,c,d,e){if(\"string\"===typeof d&&\"\"!==d||\"number\"===typeof d)return a=a.get(c)||null,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case va:return a=a.get(null===d.key?c:d.key)||null,k(b,a,d,e);case wa:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e);case Ha:var f=d._init;return y(a,b,c,f(d._payload),e)}if(eb(d)||Ka(d))return a=a.get(c)||null,m(b,a,d,e,null);th(b,d)}return null}\nfunction n(e,g,h,k){for(var l=null,m=null,u=g,w=g=0,x=null;null!==u&&w<h.length;w++){u.index>w?(x=u,u=null):x=u.sibling;var n=r(e,u,h[w],k);if(null===n){null===u&&(u=x);break}a&&u&&null===n.alternate&&b(e,u);g=f(n,g,w);null===m?l=n:m.sibling=n;m=n;u=x}if(w===h.length)return c(e,u),I&&tg(e,w),l;if(null===u){for(;w<h.length;w++)u=q(e,h[w],k),null!==u&&(g=f(u,g,w),null===m?l=u:m.sibling=u,m=u);I&&tg(e,w);return l}for(u=d(e,u);w<h.length;w++)x=y(u,e,w,h[w],k),null!==x&&(a&&null!==x.alternate&&u.delete(null===\nx.key?w:x.key),g=f(x,g,w),null===m?l=x:m.sibling=x,m=x);a&&u.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function t(e,g,h,k){var l=Ka(h);if(\"function\"!==typeof l)throw Error(p(150));h=l.call(h);if(null==h)throw Error(p(151));for(var u=l=null,m=g,w=g=0,x=null,n=h.next();null!==m&&!n.done;w++,n=h.next()){m.index>w?(x=m,m=null):x=m.sibling;var t=r(e,m,n.value,k);if(null===t){null===m&&(m=x);break}a&&m&&null===t.alternate&&b(e,m);g=f(t,g,w);null===u?l=t:u.sibling=t;u=t;m=x}if(n.done)return c(e,\nm),I&&tg(e,w),l;if(null===m){for(;!n.done;w++,n=h.next())n=q(e,n.value,k),null!==n&&(g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);I&&tg(e,w);return l}for(m=d(e,m);!n.done;w++,n=h.next())n=y(m,e,w,n.value,k),null!==n&&(a&&null!==n.alternate&&m.delete(null===n.key?w:n.key),g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);a&&m.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function J(a,d,f,h){\"object\"===typeof f&&null!==f&&f.type===ya&&null===f.key&&(f=f.props.children);if(\"object\"===typeof f&&null!==f){switch(f.$$typeof){case va:a:{for(var k=\nf.key,l=d;null!==l;){if(l.key===k){k=f.type;if(k===ya){if(7===l.tag){c(a,l.sibling);d=e(l,f.props.children);d.return=a;a=d;break a}}else if(l.elementType===k||\"object\"===typeof k&&null!==k&&k.$$typeof===Ha&&uh(k)===l.type){c(a,l.sibling);d=e(l,f.props);d.ref=sh(a,l,f);d.return=a;a=d;break a}c(a,l);break}else b(a,l);l=l.sibling}f.type===ya?(d=Ah(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=yh(f.type,f.key,f.props,null,a.mode,h),h.ref=sh(a,d,f),h.return=a,a=h)}return g(a);case wa:a:{for(l=f.key;null!==\nd;){if(d.key===l)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=zh(f,a.mode,h);d.return=a;a=d}return g(a);case Ha:return l=f._init,J(a,d,l(f._payload),h)}if(eb(f))return n(a,d,f,h);if(Ka(f))return t(a,d,f,h);th(a,f)}return\"string\"===typeof f&&\"\"!==f||\"number\"===typeof f?(f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):\n(c(a,d),d=xh(f,a.mode,h),d.return=a,a=d),g(a)):c(a,d)}return J}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(a){if(a===Dh)throw Error(p(174));return a}function Ih(a,b){G(Gh,b);G(Fh,a);G(Eh,Dh);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:lb(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=lb(b,a)}E(Eh);G(Eh,b)}function Jh(){E(Eh);E(Fh);E(Gh)}\nfunction Kh(a){Hh(Gh.current);var b=Hh(Eh.current);var c=lb(b,a.type);b!==c&&(G(Fh,a),G(Eh,c))}function Lh(a){Fh.current===a&&(E(Eh),E(Fh))}var M=Uf(0);\nfunction Mh(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||\"$?\"===c.data||\"$!\"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&128))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var Nh=[];\nfunction Oh(){for(var a=0;a<Nh.length;a++)Nh[a]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p(321));}function Wh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}\nfunction Xh(a,b,c,d,e,f){Rh=f;N=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;Ph.current=null===a||null===a.memoizedState?Yh:Zh;a=c(d,e);if(Th){f=0;do{Th=!1;Uh=0;if(25<=f)throw Error(p(301));f+=1;P=O=null;b.updateQueue=null;Ph.current=$h;a=c(d,e)}while(Th)}Ph.current=ai;b=null!==O&&null!==O.next;Rh=0;P=O=N=null;Sh=!1;if(b)throw Error(p(300));return a}function bi(){var a=0!==Uh;Uh=0;return a}\nfunction ci(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===P?N.memoizedState=P=a:P=P.next=a;return P}function di(){if(null===O){var a=N.alternate;a=null!==a?a.memoizedState:null}else a=O.next;var b=null===P?N.memoizedState:P.next;if(null!==b)P=b,O=a;else{if(null===a)throw Error(p(310));O=a;a={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null};null===P?N.memoizedState=P=a:P=P.next=a}return P}\nfunction ei(a,b){return\"function\"===typeof b?b(a):b}\nfunction fi(a){var b=di(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=O,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){f=e.next;d=d.baseState;var h=g=null,k=null,l=f;do{var m=l.lane;if((Rh&m)===m)null!==k&&(k=k.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),d=l.hasEagerState?l.eagerState:a(d,l.action);else{var q={lane:m,action:l.action,hasEagerState:l.hasEagerState,\neagerState:l.eagerState,next:null};null===k?(h=k=q,g=d):k=k.next=q;N.lanes|=m;hh|=m}l=l.next}while(null!==l&&l!==f);null===k?g=d:k.next=h;He(d,b.memoizedState)||(Ug=!0);b.memoizedState=d;b.baseState=g;b.baseQueue=k;c.lastRenderedState=d}a=c.interleaved;if(null!==a){e=a;do f=e.lane,N.lanes|=f,hh|=f,e=e.next;while(e!==a)}else null===e&&(c.lanes=0);return[b.memoizedState,c.dispatch]}\nfunction gi(a){var b=di(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(Ug=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}function hi(){}\nfunction ii(a,b){var c=N,d=di(),e=b(),f=!He(d.memoizedState,e);f&&(d.memoizedState=e,Ug=!0);d=d.queue;ji(ki.bind(null,c,d,a),[a]);if(d.getSnapshot!==b||f||null!==P&&P.memoizedState.tag&1){c.flags|=2048;li(9,mi.bind(null,c,d,e,b),void 0,null);if(null===R)throw Error(p(349));0!==(Rh&30)||ni(c,b,e)}return e}function ni(a,b,c){a.flags|=16384;a={getSnapshot:b,value:c};b=N.updateQueue;null===b?(b={lastEffect:null,stores:null},N.updateQueue=b,b.stores=[a]):(c=b.stores,null===c?b.stores=[a]:c.push(a))}\nfunction mi(a,b,c,d){b.value=c;b.getSnapshot=d;oi(b)&&pi(a)}function ki(a,b,c){return c(function(){oi(b)&&pi(a)})}function oi(a){var b=a.getSnapshot;a=a.value;try{var c=b();return!He(a,c)}catch(d){return!0}}function pi(a){var b=Zg(a,1);null!==b&&mh(b,a,1,-1)}\nfunction qi(a){var b=ci();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:a};b.queue=a;a=a.dispatch=ri.bind(null,N,a);return[b.memoizedState,a]}\nfunction li(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=N.updateQueue;null===b?(b={lastEffect:null,stores:null},N.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function si(){return di().memoizedState}function ti(a,b,c,d){var e=ci();N.flags|=a;e.memoizedState=li(1|b,c,void 0,void 0===d?null:d)}\nfunction ui(a,b,c,d){var e=di();d=void 0===d?null:d;var f=void 0;if(null!==O){var g=O.memoizedState;f=g.destroy;if(null!==d&&Wh(d,g.deps)){e.memoizedState=li(b,c,f,d);return}}N.flags|=a;e.memoizedState=li(1|b,c,f,d)}function vi(a,b){return ti(8390656,8,a,b)}function ji(a,b){return ui(2048,8,a,b)}function wi(a,b){return ui(4,2,a,b)}function xi(a,b){return ui(4,4,a,b)}\nfunction yi(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function zi(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return ui(4,4,yi.bind(null,b,a),c)}function Ai(){}function Bi(a,b){var c=di();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Wh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}\nfunction Ci(a,b){var c=di();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Wh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}function Di(a,b,c){if(0===(Rh&21))return a.baseState&&(a.baseState=!1,Ug=!0),a.memoizedState=c;He(c,b)||(c=yc(),N.lanes|=c,hh|=c,a.baseState=!0);return b}function Ei(a,b){var c=C;C=0!==c&&4>c?c:4;a(!0);var d=Qh.transition;Qh.transition={};try{a(!1),b()}finally{C=c,Qh.transition=d}}function Fi(){return di().memoizedState}\nfunction Gi(a,b,c){var d=lh(a);c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(Hi(a))Ii(b,c);else if(c=Yg(a,b,c,d),null!==c){var e=L();mh(c,a,d,e);Ji(c,b,d)}}\nfunction ri(a,b,c){var d=lh(a),e={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(Hi(a))Ii(b,e);else{var f=a.alternate;if(0===a.lanes&&(null===f||0===f.lanes)&&(f=b.lastRenderedReducer,null!==f))try{var g=b.lastRenderedState,h=f(g,c);e.hasEagerState=!0;e.eagerState=h;if(He(h,g)){var k=b.interleaved;null===k?(e.next=e,Xg(b)):(e.next=k.next,k.next=e);b.interleaved=e;return}}catch(l){}finally{}c=Yg(a,b,e,d);null!==c&&(e=L(),mh(c,a,d,e),Ji(c,b,d))}}\nfunction Hi(a){var b=a.alternate;return a===N||null!==b&&b===N}function Ii(a,b){Th=Sh=!0;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}function Ji(a,b,c){if(0!==(c&4194240)){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nvar ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(a,b){ci().memoizedState=[a,void 0===b?null:b];return a},useContext:Vg,useEffect:vi,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return ti(4194308,\n4,yi.bind(null,b,a),c)},useLayoutEffect:function(a,b){return ti(4194308,4,a,b)},useInsertionEffect:function(a,b){return ti(4,2,a,b)},useMemo:function(a,b){var c=ci();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=ci();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};d.queue=a;a=a.dispatch=Gi.bind(null,N,a);return[d.memoizedState,a]},useRef:function(a){var b=\nci();a={current:a};return b.memoizedState=a},useState:qi,useDebugValue:Ai,useDeferredValue:function(a){return ci().memoizedState=a},useTransition:function(){var a=qi(!1),b=a[0];a=Ei.bind(null,a[1]);ci().memoizedState=a;return[b,a]},useMutableSource:function(){},useSyncExternalStore:function(a,b,c){var d=N,e=ci();if(I){if(void 0===c)throw Error(p(407));c=c()}else{c=b();if(null===R)throw Error(p(349));0!==(Rh&30)||ni(d,b,c)}e.memoizedState=c;var f={value:c,getSnapshot:b};e.queue=f;vi(ki.bind(null,d,\nf,a),[a]);d.flags|=2048;li(9,mi.bind(null,d,f,c,b),void 0,null);return c},useId:function(){var a=ci(),b=R.identifierPrefix;if(I){var c=sg;var d=rg;c=(d&~(1<<32-oc(d)-1)).toString(32)+c;b=\":\"+b+\"R\"+c;c=Uh++;0<c&&(b+=\"H\"+c.toString(32));b+=\":\"}else c=Vh++,b=\":\"+b+\"r\"+c.toString(32)+\":\";return a.memoizedState=b},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},\nuseDebugValue:Ai,useDeferredValue:function(a){var b=di();return Di(b,O.memoizedState,a)},useTransition:function(){var a=fi(ei)[0],b=di().memoizedState;return[a,b]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(a){var b=di();return null===\nO?b.memoizedState=a:Di(b,O.memoizedState,a)},useTransition:function(){var a=gi(ei)[0],b=di().memoizedState;return[a,b]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(a,b){try{var c=\"\",d=b;do c+=Pa(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e,digest:null}}function Li(a,b,c){return{value:a,source:null,stack:null!=c?c:null,digest:null!=b?b:null}}\nfunction Mi(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Ni=\"function\"===typeof WeakMap?WeakMap:Map;function Oi(a,b,c){c=ch(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Pi||(Pi=!0,Qi=d);Mi(a,b)};return c}\nfunction Ri(a,b,c){c=ch(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){return d(e)};c.callback=function(){Mi(a,b)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){Mi(a,b);\"function\"!==typeof d&&(null===Si?Si=new Set([this]):Si.add(this));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}\nfunction Ti(a,b,c){var d=a.pingCache;if(null===d){d=a.pingCache=new Ni;var e=new Set;d.set(b,e)}else e=d.get(b),void 0===e&&(e=new Set,d.set(b,e));e.has(c)||(e.add(c),a=Ui.bind(null,a,b,c),b.then(a,a))}function Vi(a){do{var b;if(b=13===a.tag)b=a.memoizedState,b=null!==b?null!==b.dehydrated?!0:!1:!0;if(b)return a;a=a.return}while(null!==a);return null}\nfunction Wi(a,b,c,d,e){if(0===(a.mode&1))return a===b?a.flags|=65536:(a.flags|=128,c.flags|=131072,c.flags&=-52805,1===c.tag&&(null===c.alternate?c.tag=17:(b=ch(-1,1),b.tag=2,dh(c,b,1))),c.lanes|=1),a;a.flags|=65536;a.lanes=e;return a}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(a,b,c,d){b.child=null===a?Ch(b,null,c,d):Bh(b,a.child,c,d)}\nfunction Zi(a,b,c,d,e){c=c.render;var f=b.ref;Tg(b,e);d=Xh(a,b,c,d,f,e);c=bi();if(null!==a&&!Ug)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,$i(a,b,e);I&&c&&vg(b);b.flags|=1;Yi(a,b,d,e);return b.child}\nfunction aj(a,b,c,d,e){if(null===a){var f=c.type;if(\"function\"===typeof f&&!bj(f)&&void 0===f.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=f,cj(a,b,f,d,e);a=yh(c.type,null,d,b,b.mode,e);a.ref=b.ref;a.return=b;return b.child=a}f=a.child;if(0===(a.lanes&e)){var g=f.memoizedProps;c=c.compare;c=null!==c?c:Ie;if(c(g,d)&&a.ref===b.ref)return $i(a,b,e)}b.flags|=1;a=wh(f,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction cj(a,b,c,d,e){if(null!==a){var f=a.memoizedProps;if(Ie(f,d)&&a.ref===b.ref)if(Ug=!1,b.pendingProps=d=f,0!==(a.lanes&e))0!==(a.flags&131072)&&(Ug=!0);else return b.lanes=a.lanes,$i(a,b,e)}return dj(a,b,c,d,e)}\nfunction ej(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode)if(0===(b.mode&1))b.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=c;else{if(0===(c&1073741824))return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a,cachePool:null,transitions:null},b.updateQueue=null,G(fj,gj),gj|=a,null;b.memoizedState={baseLanes:0,cachePool:null,transitions:null};d=null!==f?f.baseLanes:c;G(fj,gj);gj|=d}else null!==\nf?(d=f.baseLanes|c,b.memoizedState=null):d=c,G(fj,gj),gj|=d;Yi(a,b,e,c);return b.child}function hj(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=512,b.flags|=2097152}function dj(a,b,c,d,e){var f=Zf(c)?Xf:H.current;f=Yf(b,f);Tg(b,e);c=Xh(a,b,c,d,f,e);d=bi();if(null!==a&&!Ug)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,$i(a,b,e);I&&d&&vg(b);b.flags|=1;Yi(a,b,c,e);return b.child}\nfunction ij(a,b,c,d,e){if(Zf(c)){var f=!0;cg(b)}else f=!1;Tg(b,e);if(null===b.stateNode)jj(a,b),ph(b,c,d),rh(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=Vg(l):(l=Zf(c)?Xf:H.current,l=Yf(b,l));var m=c.getDerivedStateFromProps,q=\"function\"===typeof m||\"function\"===typeof g.getSnapshotBeforeUpdate;q||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||\n(h!==d||k!==l)&&qh(b,g,d,l);$g=!1;var r=b.memoizedState;g.state=r;gh(b,d,g,e);k=b.memoizedState;h!==d||r!==k||Wf.current||$g?(\"function\"===typeof m&&(kh(b,c,m,d),k=b.memoizedState),(h=$g||oh(b,c,h,d,r,k,l))?(q||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===typeof g.componentDidMount&&(b.flags|=4194308)):\n(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),d=!1)}else{g=b.stateNode;bh(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:Lg(b.type,h);g.props=l;q=b.pendingProps;r=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=Vg(k):(k=Zf(c)?Xf:H.current,k=Yf(b,k));var y=c.getDerivedStateFromProps;(m=\"function\"===typeof y||\"function\"===typeof g.getSnapshotBeforeUpdate)||\n\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==q||r!==k)&&qh(b,g,d,k);$g=!1;r=b.memoizedState;g.state=r;gh(b,d,g,e);var n=b.memoizedState;h!==q||r!==n||Wf.current||$g?(\"function\"===typeof y&&(kh(b,c,y,d),n=b.memoizedState),(l=$g||oh(b,c,l,d,r,n,k)||!1)?(m||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,n,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&\ng.UNSAFE_componentWillUpdate(d,n,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=1024)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),b.memoizedProps=d,b.memoizedState=n),g.props=d,g.state=n,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===\na.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),d=!1)}return kj(a,b,c,d,f,e)}\nfunction kj(a,b,c,d,e,f){hj(a,b);var g=0!==(b.flags&128);if(!d&&!g)return e&&dg(b,c,!1),$i(a,b,f);d=b.stateNode;Xi.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Bh(b,a.child,null,f),b.child=Bh(b,null,h,f)):Yi(a,b,h,f);b.memoizedState=d.state;e&&dg(b,c,!0);return b.child}function lj(a){var b=a.stateNode;b.pendingContext?ag(a,b.pendingContext,b.pendingContext!==b.context):b.context&&ag(a,b.context,!1);Ih(a,b.containerInfo)}\nfunction mj(a,b,c,d,e){Ig();Jg(e);b.flags|=256;Yi(a,b,c,d);return b.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(a){return{baseLanes:a,cachePool:null,transitions:null}}\nfunction pj(a,b,c){var d=b.pendingProps,e=M.current,f=!1,g=0!==(b.flags&128),h;(h=g)||(h=null!==a&&null===a.memoizedState?!1:0!==(e&2));if(h)f=!0,b.flags&=-129;else if(null===a||null!==a.memoizedState)e|=1;G(M,e&1);if(null===a){Eg(b);a=b.memoizedState;if(null!==a&&(a=a.dehydrated,null!==a))return 0===(b.mode&1)?b.lanes=1:\"$!\"===a.data?b.lanes=8:b.lanes=1073741824,null;g=d.children;a=d.fallback;return f?(d=b.mode,f=b.child,g={mode:\"hidden\",children:g},0===(d&1)&&null!==f?(f.childLanes=0,f.pendingProps=\ng):f=qj(g,d,0,null),a=Ah(a,d,c,null),f.return=b,a.return=b,f.sibling=a,b.child=f,b.child.memoizedState=oj(c),b.memoizedState=nj,a):rj(b,g)}e=a.memoizedState;if(null!==e&&(h=e.dehydrated,null!==h))return sj(a,b,g,d,h,e,c);if(f){f=d.fallback;g=b.mode;e=a.child;h=e.sibling;var k={mode:\"hidden\",children:d.children};0===(g&1)&&b.child!==e?(d=b.child,d.childLanes=0,d.pendingProps=k,b.deletions=null):(d=wh(e,k),d.subtreeFlags=e.subtreeFlags&14680064);null!==h?f=wh(h,f):(f=Ah(f,g,c,null),f.flags|=2);f.return=\nb;d.return=b;d.sibling=f;b.child=d;d=f;f=b.child;g=a.child.memoizedState;g=null===g?oj(c):{baseLanes:g.baseLanes|c,cachePool:null,transitions:g.transitions};f.memoizedState=g;f.childLanes=a.childLanes&~c;b.memoizedState=nj;return d}f=a.child;a=f.sibling;d=wh(f,{mode:\"visible\",children:d.children});0===(b.mode&1)&&(d.lanes=c);d.return=b;d.sibling=null;null!==a&&(c=b.deletions,null===c?(b.deletions=[a],b.flags|=16):c.push(a));b.child=d;b.memoizedState=null;return d}\nfunction rj(a,b){b=qj({mode:\"visible\",children:b},a.mode,0,null);b.return=a;return a.child=b}function tj(a,b,c,d){null!==d&&Jg(d);Bh(b,a.child,null,c);a=rj(b,b.pendingProps.children);a.flags|=2;b.memoizedState=null;return a}\nfunction sj(a,b,c,d,e,f,g){if(c){if(b.flags&256)return b.flags&=-257,d=Li(Error(p(422))),tj(a,b,g,d);if(null!==b.memoizedState)return b.child=a.child,b.flags|=128,null;f=d.fallback;e=b.mode;d=qj({mode:\"visible\",children:d.children},e,0,null);f=Ah(f,e,g,null);f.flags|=2;d.return=b;f.return=b;d.sibling=f;b.child=d;0!==(b.mode&1)&&Bh(b,a.child,null,g);b.child.memoizedState=oj(g);b.memoizedState=nj;return f}if(0===(b.mode&1))return tj(a,b,g,null);if(\"$!\"===e.data){d=e.nextSibling&&e.nextSibling.dataset;\nif(d)var h=d.dgst;d=h;f=Error(p(419));d=Li(f,d,void 0);return tj(a,b,g,d)}h=0!==(g&a.childLanes);if(Ug||h){d=R;if(null!==d){switch(g&-g){case 4:e=2;break;case 16:e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:e=32;break;case 536870912:e=268435456;break;default:e=0}e=0!==(e&(d.suspendedLanes|g))?0:e;\n0!==e&&e!==f.retryLane&&(f.retryLane=e,Zg(a,e),mh(d,a,e,-1))}uj();d=Li(Error(p(421)));return tj(a,b,g,d)}if(\"$?\"===e.data)return b.flags|=128,b.child=a.child,b=vj.bind(null,a),e._reactRetry=b,null;a=f.treeContext;yg=Lf(e.nextSibling);xg=b;I=!0;zg=null;null!==a&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=b);b=rj(b,d.children);b.flags|=4096;return b}function wj(a,b,c){a.lanes|=b;var d=a.alternate;null!==d&&(d.lanes|=b);Sg(a.return,b,c)}\nfunction xj(a,b,c,d,e){var f=a.memoizedState;null===f?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e}:(f.isBackwards=b,f.rendering=null,f.renderingStartTime=0,f.last=d,f.tail=c,f.tailMode=e)}\nfunction yj(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;Yi(a,b,d.children,c);d=M.current;if(0!==(d&2))d=d&1|2,b.flags|=128;else{if(null!==a&&0!==(a.flags&128))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&wj(a,c,b);else if(19===a.tag)wj(a,c,b);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}G(M,d);if(0===(b.mode&1))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===Mh(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);xj(b,!1,e,c,f);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===Mh(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}xj(b,!0,c,null,f);break;case \"together\":xj(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}\nfunction jj(a,b){0===(b.mode&1)&&null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2)}function $i(a,b,c){null!==a&&(b.dependencies=a.dependencies);hh|=b.lanes;if(0===(c&b.childLanes))return null;if(null!==a&&b.child!==a.child)throw Error(p(153));if(null!==b.child){a=b.child;c=wh(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=wh(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}\nfunction zj(a,b,c){switch(b.tag){case 3:lj(b);Ig();break;case 5:Kh(b);break;case 1:Zf(b.type)&&cg(b);break;case 4:Ih(b,b.stateNode.containerInfo);break;case 10:var d=b.type._context,e=b.memoizedProps.value;G(Mg,d._currentValue);d._currentValue=e;break;case 13:d=b.memoizedState;if(null!==d){if(null!==d.dehydrated)return G(M,M.current&1),b.flags|=128,null;if(0!==(c&b.child.childLanes))return pj(a,b,c);G(M,M.current&1);a=$i(a,b,c);return null!==a?a.sibling:null}G(M,M.current&1);break;case 19:d=0!==(c&\nb.childLanes);if(0!==(a.flags&128)){if(d)return yj(a,b,c);b.flags|=128}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);G(M,M.current);if(d)break;else return null;case 22:case 23:return b.lanes=0,ej(a,b,c)}return $i(a,b,c)}var Aj,Bj,Cj,Dj;\nAj=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Bj=function(){};\nCj=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;Hh(Eh.current);var f=null;switch(c){case \"input\":e=Ya(a,e);d=Ya(a,d);f=[];break;case \"select\":e=A({},e,{value:void 0});d=A({},d,{value:void 0});f=[];break;case \"textarea\":e=gb(a,e);d=gb(a,d);f=[];break;default:\"function\"!==typeof e.onClick&&\"function\"===typeof d.onClick&&(a.onclick=Bf)}ub(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if(\"style\"===l){var h=e[l];for(g in h)h.hasOwnProperty(g)&&\n(c||(c={}),c[g]=\"\")}else\"dangerouslySetInnerHTML\"!==l&&\"children\"!==l&&\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ea.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if(\"style\"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]=\"\");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,\nc)),c=k;else\"dangerouslySetInnerHTML\"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):\"children\"===l?\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(l,\"\"+k):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&(ea.hasOwnProperty(l)?(null!=k&&\"onScroll\"===l&&D(\"scroll\",a),f||h===k||(f=[])):(f=f||[]).push(l,k))}c&&(f=f||[]).push(\"style\",c);var l=f;if(b.updateQueue=l)b.flags|=4}};Dj=function(a,b,c,d){c!==d&&(b.flags|=4)};\nfunction Ej(a,b){if(!I)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction S(a){var b=null!==a.alternate&&a.alternate.child===a.child,c=0,d=0;if(b)for(var e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags&14680064,d|=e.flags&14680064,e.return=a,e=e.sibling;else for(e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags,d|=e.flags,e.return=a,e=e.sibling;a.subtreeFlags|=d;a.childLanes=c;return b}\nfunction Fj(a,b,c){var d=b.pendingProps;wg(b);switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(b),null;case 1:return Zf(b.type)&&$f(),S(b),null;case 3:d=b.stateNode;Jh();E(Wf);E(H);Oh();d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)Gg(b)?b.flags|=4:null===a||a.memoizedState.isDehydrated&&0===(b.flags&256)||(b.flags|=1024,null!==zg&&(Gj(zg),zg=null));Bj(a,b);S(b);return null;case 5:Lh(b);var e=Hh(Gh.current);\nc=b.type;if(null!==a&&null!=b.stateNode)Cj(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!d){if(null===b.stateNode)throw Error(p(166));S(b);return null}a=Hh(Eh.current);if(Gg(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[Of]=b;d[Pf]=f;a=0!==(b.mode&1);switch(c){case \"dialog\":D(\"cancel\",d);D(\"close\",d);break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",d);break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],d);break;case \"source\":D(\"error\",d);break;case \"img\":case \"image\":case \"link\":D(\"error\",\nd);D(\"load\",d);break;case \"details\":D(\"toggle\",d);break;case \"input\":Za(d,f);D(\"invalid\",d);break;case \"select\":d._wrapperState={wasMultiple:!!f.multiple};D(\"invalid\",d);break;case \"textarea\":hb(d,f),D(\"invalid\",d)}ub(c,f);e=null;for(var g in f)if(f.hasOwnProperty(g)){var h=f[g];\"children\"===g?\"string\"===typeof h?d.textContent!==h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,h,a),e=[\"children\",h]):\"number\"===typeof h&&d.textContent!==\"\"+h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,\nh,a),e=[\"children\",\"\"+h]):ea.hasOwnProperty(g)&&null!=h&&\"onScroll\"===g&&D(\"scroll\",d)}switch(c){case \"input\":Va(d);db(d,f,!0);break;case \"textarea\":Va(d);jb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&(d.onclick=Bf)}d=e;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;\"http://www.w3.org/1999/xhtml\"===a&&(a=kb(c));\"http://www.w3.org/1999/xhtml\"===a?\"script\"===c?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\n\"string\"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),\"select\"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[Of]=b;a[Pf]=d;Aj(a,b,!1,!1);b.stateNode=a;a:{g=vb(c,d);switch(c){case \"dialog\":D(\"cancel\",a);D(\"close\",a);e=d;break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",a);e=d;break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],a);e=d;break;case \"source\":D(\"error\",a);e=d;break;case \"img\":case \"image\":case \"link\":D(\"error\",\na);D(\"load\",a);e=d;break;case \"details\":D(\"toggle\",a);e=d;break;case \"input\":Za(a,d);e=Ya(a,d);D(\"invalid\",a);break;case \"option\":e=d;break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};e=A({},d,{value:void 0});D(\"invalid\",a);break;case \"textarea\":hb(a,d);e=gb(a,d);D(\"invalid\",a);break;default:e=d}ub(c,e);h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];\"style\"===f?sb(a,k):\"dangerouslySetInnerHTML\"===f?(k=k?k.__html:void 0,null!=k&&nb(a,k)):\"children\"===f?\"string\"===typeof k?(\"textarea\"!==\nc||\"\"!==k)&&ob(a,k):\"number\"===typeof k&&ob(a,\"\"+k):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(ea.hasOwnProperty(f)?null!=k&&\"onScroll\"===f&&D(\"scroll\",a):null!=k&&ta(a,f,k,g))}switch(c){case \"input\":Va(a);db(a,d,!1);break;case \"textarea\":Va(a);jb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+Sa(d.value));break;case \"select\":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,\n!0);break;default:\"function\"===typeof e.onClick&&(a.onclick=Bf)}switch(c){case \"button\":case \"input\":case \"select\":case \"textarea\":d=!!d.autoFocus;break a;case \"img\":d=!0;break a;default:d=!1}}d&&(b.flags|=4)}null!==b.ref&&(b.flags|=512,b.flags|=2097152)}S(b);return null;case 6:if(a&&null!=b.stateNode)Dj(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(p(166));c=Hh(Gh.current);Hh(Eh.current);if(Gg(b)){d=b.stateNode;c=b.memoizedProps;d[Of]=b;if(f=d.nodeValue!==c)if(a=\nxg,null!==a)switch(a.tag){case 3:Af(d.nodeValue,c,0!==(a.mode&1));break;case 5:!0!==a.memoizedProps.suppressHydrationWarning&&Af(d.nodeValue,c,0!==(a.mode&1))}f&&(b.flags|=4)}else d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[Of]=b,b.stateNode=d}S(b);return null;case 13:E(M);d=b.memoizedState;if(null===a||null!==a.memoizedState&&null!==a.memoizedState.dehydrated){if(I&&null!==yg&&0!==(b.mode&1)&&0===(b.flags&128))Hg(),Ig(),b.flags|=98560,f=!1;else if(f=Gg(b),null!==d&&null!==d.dehydrated){if(null===\na){if(!f)throw Error(p(318));f=b.memoizedState;f=null!==f?f.dehydrated:null;if(!f)throw Error(p(317));f[Of]=b}else Ig(),0===(b.flags&128)&&(b.memoizedState=null),b.flags|=4;S(b);f=!1}else null!==zg&&(Gj(zg),zg=null),f=!0;if(!f)return b.flags&65536?b:null}if(0!==(b.flags&128))return b.lanes=c,b;d=null!==d;d!==(null!==a&&null!==a.memoizedState)&&d&&(b.child.flags|=8192,0!==(b.mode&1)&&(null===a||0!==(M.current&1)?0===T&&(T=3):uj()));null!==b.updateQueue&&(b.flags|=4);S(b);return null;case 4:return Jh(),\nBj(a,b),null===a&&sf(b.stateNode.containerInfo),S(b),null;case 10:return Rg(b.type._context),S(b),null;case 17:return Zf(b.type)&&$f(),S(b),null;case 19:E(M);f=b.memoizedState;if(null===f)return S(b),null;d=0!==(b.flags&128);g=f.rendering;if(null===g)if(d)Ej(f,!1);else{if(0!==T||null!==a&&0!==(a.flags&128))for(a=b.child;null!==a;){g=Mh(a);if(null!==g){b.flags|=128;Ej(f,!1);d=g.updateQueue;null!==d&&(b.updateQueue=d,b.flags|=4);b.subtreeFlags=0;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=14680066,\ng=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,f.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;G(M,M.current&1|2);return b.child}a=\na.sibling}null!==f.tail&&B()>Hj&&(b.flags|=128,d=!0,Ej(f,!1),b.lanes=4194304)}else{if(!d)if(a=Mh(g),null!==a){if(b.flags|=128,d=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Ej(f,!0),null===f.tail&&\"hidden\"===f.tailMode&&!g.alternate&&!I)return S(b),null}else 2*B()-f.renderingStartTime>Hj&&1073741824!==c&&(b.flags|=128,d=!0,Ej(f,!1),b.lanes=4194304);f.isBackwards?(g.sibling=b.child,b.child=g):(c=f.last,null!==c?c.sibling=g:b.child=g,f.last=g)}if(null!==f.tail)return b=f.tail,f.rendering=\nb,f.tail=b.sibling,f.renderingStartTime=B(),b.sibling=null,c=M.current,G(M,d?c&1|2:c&1),b;S(b);return null;case 22:case 23:return Ij(),d=null!==b.memoizedState,null!==a&&null!==a.memoizedState!==d&&(b.flags|=8192),d&&0!==(b.mode&1)?0!==(gj&1073741824)&&(S(b),b.subtreeFlags&6&&(b.flags|=8192)):S(b),null;case 24:return null;case 25:return null}throw Error(p(156,b.tag));}\nfunction Jj(a,b){wg(b);switch(b.tag){case 1:return Zf(b.type)&&$f(),a=b.flags,a&65536?(b.flags=a&-65537|128,b):null;case 3:return Jh(),E(Wf),E(H),Oh(),a=b.flags,0!==(a&65536)&&0===(a&128)?(b.flags=a&-65537|128,b):null;case 5:return Lh(b),null;case 13:E(M);a=b.memoizedState;if(null!==a&&null!==a.dehydrated){if(null===b.alternate)throw Error(p(340));Ig()}a=b.flags;return a&65536?(b.flags=a&-65537|128,b):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(b.type._context),null;case 22:case 23:return Ij(),\nnull;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=\"function\"===typeof WeakSet?WeakSet:Set,V=null;function Mj(a,b){var c=a.ref;if(null!==c)if(\"function\"===typeof c)try{c(null)}catch(d){W(a,b,d)}else c.current=null}function Nj(a,b,c){try{c()}catch(d){W(a,b,d)}}var Oj=!1;\nfunction Pj(a,b){Cf=dd;a=Me();if(Ne(a)){if(\"selectionStart\"in a)var c={start:a.selectionStart,end:a.selectionEnd};else a:{c=(c=a.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&0!==d.rangeCount){c=d.anchorNode;var e=d.anchorOffset,f=d.focusNode;d=d.focusOffset;try{c.nodeType,f.nodeType}catch(F){c=null;break a}var g=0,h=-1,k=-1,l=0,m=0,q=a,r=null;b:for(;;){for(var y;;){q!==c||0!==e&&3!==q.nodeType||(h=g+e);q!==f||0!==d&&3!==q.nodeType||(k=g+d);3===q.nodeType&&(g+=\nq.nodeValue.length);if(null===(y=q.firstChild))break;r=q;q=y}for(;;){if(q===a)break b;r===c&&++l===e&&(h=g);r===f&&++m===d&&(k=g);if(null!==(y=q.nextSibling))break;q=r;r=q.parentNode}q=y}c=-1===h||-1===k?null:{start:h,end:k}}else c=null}c=c||{start:0,end:0}}else c=null;Df={focusedElem:a,selectionRange:c};dd=!1;for(V=b;null!==V;)if(b=V,a=b.child,0!==(b.subtreeFlags&1028)&&null!==a)a.return=b,V=a;else for(;null!==V;){b=V;try{var n=b.alternate;if(0!==(b.flags&1024))switch(b.tag){case 0:case 11:case 15:break;\ncase 1:if(null!==n){var t=n.memoizedProps,J=n.memoizedState,x=b.stateNode,w=x.getSnapshotBeforeUpdate(b.elementType===b.type?t:Lg(b.type,t),J);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var u=b.stateNode.containerInfo;1===u.nodeType?u.textContent=\"\":9===u.nodeType&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163));}}catch(F){W(b,b.return,F)}a=b.sibling;if(null!==a){a.return=b.return;V=a;break}V=b.return}n=Oj;Oj=!1;return n}\nfunction Qj(a,b,c){var d=b.updateQueue;d=null!==d?d.lastEffect:null;if(null!==d){var e=d=d.next;do{if((e.tag&a)===a){var f=e.destroy;e.destroy=void 0;void 0!==f&&Nj(b,c,f)}e=e.next}while(e!==d)}}function Rj(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.create;c.destroy=d()}c=c.next}while(c!==b)}}function Sj(a){var b=a.ref;if(null!==b){var c=a.stateNode;switch(a.tag){case 5:a=c;break;default:a=c}\"function\"===typeof b?b(a):b.current=a}}\nfunction Tj(a){var b=a.alternate;null!==b&&(a.alternate=null,Tj(b));a.child=null;a.deletions=null;a.sibling=null;5===a.tag&&(b=a.stateNode,null!==b&&(delete b[Of],delete b[Pf],delete b[of],delete b[Qf],delete b[Rf]));a.stateNode=null;a.return=null;a.dependencies=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.stateNode=null;a.updateQueue=null}function Uj(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction Vj(a){a:for(;;){for(;null===a.sibling;){if(null===a.return||Uj(a.return))return null;a=a.return}a.sibling.return=a.return;for(a=a.sibling;5!==a.tag&&6!==a.tag&&18!==a.tag;){if(a.flags&2)continue a;if(null===a.child||4===a.tag)continue a;else a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}\nfunction Wj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=Bf));else if(4!==d&&(a=a.child,null!==a))for(Wj(a,b,c),a=a.sibling;null!==a;)Wj(a,b,c),a=a.sibling}\nfunction Xj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(Xj(a,b,c),a=a.sibling;null!==a;)Xj(a,b,c),a=a.sibling}var X=null,Yj=!1;function Zj(a,b,c){for(c=c.child;null!==c;)ak(a,b,c),c=c.sibling}\nfunction ak(a,b,c){if(lc&&\"function\"===typeof lc.onCommitFiberUnmount)try{lc.onCommitFiberUnmount(kc,c)}catch(h){}switch(c.tag){case 5:U||Mj(c,b);case 6:var d=X,e=Yj;X=null;Zj(a,b,c);X=d;Yj=e;null!==X&&(Yj?(a=X,c=c.stateNode,8===a.nodeType?a.parentNode.removeChild(c):a.removeChild(c)):X.removeChild(c.stateNode));break;case 18:null!==X&&(Yj?(a=X,c=c.stateNode,8===a.nodeType?Kf(a.parentNode,c):1===a.nodeType&&Kf(a,c),bd(a)):Kf(X,c.stateNode));break;case 4:d=X;e=Yj;X=c.stateNode.containerInfo;Yj=!0;\nZj(a,b,c);X=d;Yj=e;break;case 0:case 11:case 14:case 15:if(!U&&(d=c.updateQueue,null!==d&&(d=d.lastEffect,null!==d))){e=d=d.next;do{var f=e,g=f.destroy;f=f.tag;void 0!==g&&(0!==(f&2)?Nj(c,b,g):0!==(f&4)&&Nj(c,b,g));e=e.next}while(e!==d)}Zj(a,b,c);break;case 1:if(!U&&(Mj(c,b),d=c.stateNode,\"function\"===typeof d.componentWillUnmount))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(h){W(c,b,h)}Zj(a,b,c);break;case 21:Zj(a,b,c);break;case 22:c.mode&1?(U=(d=U)||null!==\nc.memoizedState,Zj(a,b,c),U=d):Zj(a,b,c);break;default:Zj(a,b,c)}}function bk(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Lj);b.forEach(function(b){var d=ck.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nfunction dk(a,b){var c=b.deletions;if(null!==c)for(var d=0;d<c.length;d++){var e=c[d];try{var f=a,g=b,h=g;a:for(;null!==h;){switch(h.tag){case 5:X=h.stateNode;Yj=!1;break a;case 3:X=h.stateNode.containerInfo;Yj=!0;break a;case 4:X=h.stateNode.containerInfo;Yj=!0;break a}h=h.return}if(null===X)throw Error(p(160));ak(f,g,e);X=null;Yj=!1;var k=e.alternate;null!==k&&(k.return=null);e.return=null}catch(l){W(e,b,l)}}if(b.subtreeFlags&12854)for(b=b.child;null!==b;)ek(b,a),b=b.sibling}\nfunction ek(a,b){var c=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:dk(b,a);fk(a);if(d&4){try{Qj(3,a,a.return),Rj(3,a)}catch(t){W(a,a.return,t)}try{Qj(5,a,a.return)}catch(t){W(a,a.return,t)}}break;case 1:dk(b,a);fk(a);d&512&&null!==c&&Mj(c,c.return);break;case 5:dk(b,a);fk(a);d&512&&null!==c&&Mj(c,c.return);if(a.flags&32){var e=a.stateNode;try{ob(e,\"\")}catch(t){W(a,a.return,t)}}if(d&4&&(e=a.stateNode,null!=e)){var f=a.memoizedProps,g=null!==c?c.memoizedProps:f,h=a.type,k=a.updateQueue;\na.updateQueue=null;if(null!==k)try{\"input\"===h&&\"radio\"===f.type&&null!=f.name&&ab(e,f);vb(h,g);var l=vb(h,f);for(g=0;g<k.length;g+=2){var m=k[g],q=k[g+1];\"style\"===m?sb(e,q):\"dangerouslySetInnerHTML\"===m?nb(e,q):\"children\"===m?ob(e,q):ta(e,m,q,l)}switch(h){case \"input\":bb(e,f);break;case \"textarea\":ib(e,f);break;case \"select\":var r=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=!!f.multiple;var y=f.value;null!=y?fb(e,!!f.multiple,y,!1):r!==!!f.multiple&&(null!=f.defaultValue?fb(e,!!f.multiple,\nf.defaultValue,!0):fb(e,!!f.multiple,f.multiple?[]:\"\",!1))}e[Pf]=f}catch(t){W(a,a.return,t)}}break;case 6:dk(b,a);fk(a);if(d&4){if(null===a.stateNode)throw Error(p(162));e=a.stateNode;f=a.memoizedProps;try{e.nodeValue=f}catch(t){W(a,a.return,t)}}break;case 3:dk(b,a);fk(a);if(d&4&&null!==c&&c.memoizedState.isDehydrated)try{bd(b.containerInfo)}catch(t){W(a,a.return,t)}break;case 4:dk(b,a);fk(a);break;case 13:dk(b,a);fk(a);e=a.child;e.flags&8192&&(f=null!==e.memoizedState,e.stateNode.isHidden=f,!f||\nnull!==e.alternate&&null!==e.alternate.memoizedState||(gk=B()));d&4&&bk(a);break;case 22:m=null!==c&&null!==c.memoizedState;a.mode&1?(U=(l=U)||m,dk(b,a),U=l):dk(b,a);fk(a);if(d&8192){l=null!==a.memoizedState;if((a.stateNode.isHidden=l)&&!m&&0!==(a.mode&1))for(V=a,m=a.child;null!==m;){for(q=V=m;null!==V;){r=V;y=r.child;switch(r.tag){case 0:case 11:case 14:case 15:Qj(4,r,r.return);break;case 1:Mj(r,r.return);var n=r.stateNode;if(\"function\"===typeof n.componentWillUnmount){d=r;c=r.return;try{b=d,n.props=\nb.memoizedProps,n.state=b.memoizedState,n.componentWillUnmount()}catch(t){W(d,c,t)}}break;case 5:Mj(r,r.return);break;case 22:if(null!==r.memoizedState){hk(q);continue}}null!==y?(y.return=r,V=y):hk(q)}m=m.sibling}a:for(m=null,q=a;;){if(5===q.tag){if(null===m){m=q;try{e=q.stateNode,l?(f=e.style,\"function\"===typeof f.setProperty?f.setProperty(\"display\",\"none\",\"important\"):f.display=\"none\"):(h=q.stateNode,k=q.memoizedProps.style,g=void 0!==k&&null!==k&&k.hasOwnProperty(\"display\")?k.display:null,h.style.display=\nrb(\"display\",g))}catch(t){W(a,a.return,t)}}}else if(6===q.tag){if(null===m)try{q.stateNode.nodeValue=l?\"\":q.memoizedProps}catch(t){W(a,a.return,t)}}else if((22!==q.tag&&23!==q.tag||null===q.memoizedState||q===a)&&null!==q.child){q.child.return=q;q=q.child;continue}if(q===a)break a;for(;null===q.sibling;){if(null===q.return||q.return===a)break a;m===q&&(m=null);q=q.return}m===q&&(m=null);q.sibling.return=q.return;q=q.sibling}}break;case 19:dk(b,a);fk(a);d&4&&bk(a);break;case 21:break;default:dk(b,\na),fk(a)}}function fk(a){var b=a.flags;if(b&2){try{a:{for(var c=a.return;null!==c;){if(Uj(c)){var d=c;break a}c=c.return}throw Error(p(160));}switch(d.tag){case 5:var e=d.stateNode;d.flags&32&&(ob(e,\"\"),d.flags&=-33);var f=Vj(a);Xj(a,f,e);break;case 3:case 4:var g=d.stateNode.containerInfo,h=Vj(a);Wj(a,h,g);break;default:throw Error(p(161));}}catch(k){W(a,a.return,k)}a.flags&=-3}b&4096&&(a.flags&=-4097)}function ik(a,b,c){V=a;jk(a,b,c)}\nfunction jk(a,b,c){for(var d=0!==(a.mode&1);null!==V;){var e=V,f=e.child;if(22===e.tag&&d){var g=null!==e.memoizedState||Kj;if(!g){var h=e.alternate,k=null!==h&&null!==h.memoizedState||U;h=Kj;var l=U;Kj=g;if((U=k)&&!l)for(V=e;null!==V;)g=V,k=g.child,22===g.tag&&null!==g.memoizedState?kk(e):null!==k?(k.return=g,V=k):kk(e);for(;null!==f;)V=f,jk(f,b,c),f=f.sibling;V=e;Kj=h;U=l}lk(a,b,c)}else 0!==(e.subtreeFlags&8772)&&null!==f?(f.return=e,V=f):lk(a,b,c)}}\nfunction lk(a){for(;null!==V;){var b=V;if(0!==(b.flags&8772)){var c=b.alternate;try{if(0!==(b.flags&8772))switch(b.tag){case 0:case 11:case 15:U||Rj(5,b);break;case 1:var d=b.stateNode;if(b.flags&4&&!U)if(null===c)d.componentDidMount();else{var e=b.elementType===b.type?c.memoizedProps:Lg(b.type,c.memoizedProps);d.componentDidUpdate(e,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var f=b.updateQueue;null!==f&&ih(b,f,d);break;case 3:var g=b.updateQueue;if(null!==g){c=null;if(null!==b.child)switch(b.child.tag){case 5:c=\nb.child.stateNode;break;case 1:c=b.child.stateNode}ih(b,g,c)}break;case 5:var h=b.stateNode;if(null===c&&b.flags&4){c=h;var k=b.memoizedProps;switch(b.type){case \"button\":case \"input\":case \"select\":case \"textarea\":k.autoFocus&&c.focus();break;case \"img\":k.src&&(c.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===b.memoizedState){var l=b.alternate;if(null!==l){var m=l.memoizedState;if(null!==m){var q=m.dehydrated;null!==q&&bd(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;\ndefault:throw Error(p(163));}U||b.flags&512&&Sj(b)}catch(r){W(b,b.return,r)}}if(b===a){V=null;break}c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}function hk(a){for(;null!==V;){var b=V;if(b===a){V=null;break}var c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}\nfunction kk(a){for(;null!==V;){var b=V;try{switch(b.tag){case 0:case 11:case 15:var c=b.return;try{Rj(4,b)}catch(k){W(b,c,k)}break;case 1:var d=b.stateNode;if(\"function\"===typeof d.componentDidMount){var e=b.return;try{d.componentDidMount()}catch(k){W(b,e,k)}}var f=b.return;try{Sj(b)}catch(k){W(b,f,k)}break;case 5:var g=b.return;try{Sj(b)}catch(k){W(b,g,k)}}}catch(k){W(b,b.return,k)}if(b===a){V=null;break}var h=b.sibling;if(null!==h){h.return=b.return;V=h;break}V=b.return}}\nvar mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=Infinity,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return 0!==(K&6)?B():-1!==Bk?Bk:Bk=B()}\nfunction lh(a){if(0===(a.mode&1))return 1;if(0!==(K&2)&&0!==Z)return Z&-Z;if(null!==Kg.transition)return 0===Ck&&(Ck=yc()),Ck;a=C;if(0!==a)return a;a=window.event;a=void 0===a?16:jd(a.type);return a}function mh(a,b,c,d){if(50<zk)throw zk=0,Ak=null,Error(p(185));Ac(a,c,d);if(0===(K&2)||a!==R)a===R&&(0===(K&2)&&(rk|=c),4===T&&Dk(a,Z)),Ek(a,d),1===c&&0===K&&0===(b.mode&1)&&(Hj=B()+500,fg&&jg())}\nfunction Ek(a,b){var c=a.callbackNode;wc(a,b);var d=uc(a,a===R?Z:0);if(0===d)null!==c&&bc(c),a.callbackNode=null,a.callbackPriority=0;else if(b=d&-d,a.callbackPriority!==b){null!=c&&bc(c);if(1===b)0===a.tag?ig(Fk.bind(null,a)):hg(Fk.bind(null,a)),Jf(function(){0===(K&6)&&jg()}),c=null;else{switch(Dc(d)){case 1:c=fc;break;case 4:c=gc;break;case 16:c=hc;break;case 536870912:c=jc;break;default:c=hc}c=Gk(c,Hk.bind(null,a))}a.callbackPriority=b;a.callbackNode=c}}\nfunction Hk(a,b){Bk=-1;Ck=0;if(0!==(K&6))throw Error(p(327));var c=a.callbackNode;if(Ik()&&a.callbackNode!==c)return null;var d=uc(a,a===R?Z:0);if(0===d)return null;if(0!==(d&30)||0!==(d&a.expiredLanes)||b)b=Jk(a,d);else{b=d;var e=K;K|=2;var f=Kk();if(R!==a||Z!==b)vk=null,Hj=B()+500,Lk(a,b);do try{Mk();break}catch(h){Nk(a,h)}while(1);Qg();nk.current=f;K=e;null!==Y?b=0:(R=null,Z=0,b=T)}if(0!==b){2===b&&(e=xc(a),0!==e&&(d=e,b=Ok(a,e)));if(1===b)throw c=qk,Lk(a,0),Dk(a,d),Ek(a,B()),c;if(6===b)Dk(a,d);\nelse{e=a.current.alternate;if(0===(d&30)&&!Pk(e)&&(b=Jk(a,d),2===b&&(f=xc(a),0!==f&&(d=f,b=Ok(a,f))),1===b))throw c=qk,Lk(a,0),Dk(a,d),Ek(a,B()),c;a.finishedWork=e;a.finishedLanes=d;switch(b){case 0:case 1:throw Error(p(345));case 2:Qk(a,uk,vk);break;case 3:Dk(a,d);if((d&130023424)===d&&(b=gk+500-B(),10<b)){if(0!==uc(a,0))break;e=a.suspendedLanes;if((e&d)!==d){L();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=Ff(Qk.bind(null,a,uk,vk),b);break}Qk(a,uk,vk);break;case 4:Dk(a,d);if((d&4194240)===\nd)break;b=a.eventTimes;for(e=-1;0<d;){var g=31-oc(d);f=1<<g;g=b[g];g>e&&(e=g);d&=~f}d=e;d=B()-d;d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3E3>d?3E3:4320>d?4320:1960*mk(d/1960))-d;if(10<d){a.timeoutHandle=Ff(Qk.bind(null,a,uk,vk),d);break}Qk(a,uk,vk);break;case 5:Qk(a,uk,vk);break;default:throw Error(p(329));}}}Ek(a,B());return a.callbackNode===c?Hk.bind(null,a):null}\nfunction Ok(a,b){var c=tk;a.current.memoizedState.isDehydrated&&(Lk(a,b).flags|=256);a=Jk(a,b);2!==a&&(b=uk,uk=c,null!==b&&Gj(b));return a}function Gj(a){null===uk?uk=a:uk.push.apply(uk,a)}\nfunction Pk(a){for(var b=a;;){if(b.flags&16384){var c=b.updateQueue;if(null!==c&&(c=c.stores,null!==c))for(var d=0;d<c.length;d++){var e=c[d],f=e.getSnapshot;e=e.value;try{if(!He(f(),e))return!1}catch(g){return!1}}}c=b.child;if(b.subtreeFlags&16384&&null!==c)c.return=b,b=c;else{if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return!0;b=b.return}b.sibling.return=b.return;b=b.sibling}}return!0}\nfunction Dk(a,b){b&=~sk;b&=~rk;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-oc(b),d=1<<c;a[c]=-1;b&=~d}}function Fk(a){if(0!==(K&6))throw Error(p(327));Ik();var b=uc(a,0);if(0===(b&1))return Ek(a,B()),null;var c=Jk(a,b);if(0!==a.tag&&2===c){var d=xc(a);0!==d&&(b=d,c=Ok(a,d))}if(1===c)throw c=qk,Lk(a,0),Dk(a,b),Ek(a,B()),c;if(6===c)throw Error(p(345));a.finishedWork=a.current.alternate;a.finishedLanes=b;Qk(a,uk,vk);Ek(a,B());return null}\nfunction Rk(a,b){var c=K;K|=1;try{return a(b)}finally{K=c,0===K&&(Hj=B()+500,fg&&jg())}}function Sk(a){null!==xk&&0===xk.tag&&0===(K&6)&&Ik();var b=K;K|=1;var c=pk.transition,d=C;try{if(pk.transition=null,C=1,a)return a()}finally{C=d,pk.transition=c,K=b,0===(K&6)&&jg()}}function Ij(){gj=fj.current;E(fj)}\nfunction Lk(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,Gf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;wg(d);switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&$f();break;case 3:Jh();E(Wf);E(H);Oh();break;case 5:Lh(d);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(d.type._context);break;case 22:case 23:Ij()}c=c.return}R=a;Y=a=wh(a.current,null);Z=gj=b;T=0;qk=null;sk=rk=hh=0;uk=tk=null;if(null!==Wg){for(b=\n0;b<Wg.length;b++)if(c=Wg[b],d=c.interleaved,null!==d){c.interleaved=null;var e=d.next,f=c.pending;if(null!==f){var g=f.next;f.next=e;d.next=g}c.pending=d}Wg=null}return a}\nfunction Nk(a,b){do{var c=Y;try{Qg();Ph.current=ai;if(Sh){for(var d=N.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}Sh=!1}Rh=0;P=O=N=null;Th=!1;Uh=0;ok.current=null;if(null===c||null===c.return){T=1;qk=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=Z;h.flags|=32768;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k,m=h,q=m.tag;if(0===(m.mode&1)&&(0===q||11===q||15===q)){var r=m.alternate;r?(m.updateQueue=r.updateQueue,m.memoizedState=r.memoizedState,\nm.lanes=r.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Vi(g);if(null!==y){y.flags&=-257;Wi(y,g,h,f,b);y.mode&1&&Ti(f,l,b);b=y;k=l;var n=b.updateQueue;if(null===n){var t=new Set;t.add(k);b.updateQueue=t}else n.add(k);break a}else{if(0===(b&1)){Ti(f,l,b);uj();break a}k=Error(p(426))}}else if(I&&h.mode&1){var J=Vi(g);if(null!==J){0===(J.flags&65536)&&(J.flags|=256);Wi(J,g,h,f,b);Jg(Ki(k,h));break a}}f=k=Ki(k,h);4!==T&&(T=2);null===tk?tk=[f]:tk.push(f);f=g;do{switch(f.tag){case 3:f.flags|=65536;\nb&=-b;f.lanes|=b;var x=Oi(f,k,b);fh(f,x);break a;case 1:h=k;var w=f.type,u=f.stateNode;if(0===(f.flags&128)&&(\"function\"===typeof w.getDerivedStateFromError||null!==u&&\"function\"===typeof u.componentDidCatch&&(null===Si||!Si.has(u)))){f.flags|=65536;b&=-b;f.lanes|=b;var F=Ri(f,h,b);fh(f,F);break a}}f=f.return}while(null!==f)}Tk(c)}catch(na){b=na;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}function Kk(){var a=nk.current;nk.current=ai;return null===a?ai:a}\nfunction uj(){if(0===T||3===T||2===T)T=4;null===R||0===(hh&268435455)&&0===(rk&268435455)||Dk(R,Z)}function Jk(a,b){var c=K;K|=2;var d=Kk();if(R!==a||Z!==b)vk=null,Lk(a,b);do try{Uk();break}catch(e){Nk(a,e)}while(1);Qg();K=c;nk.current=d;if(null!==Y)throw Error(p(261));R=null;Z=0;return T}function Uk(){for(;null!==Y;)Vk(Y)}function Mk(){for(;null!==Y&&!cc();)Vk(Y)}function Vk(a){var b=Wk(a.alternate,a,gj);a.memoizedProps=a.pendingProps;null===b?Tk(a):Y=b;ok.current=null}\nfunction Tk(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&32768)){if(c=Fj(c,b,gj),null!==c){Y=c;return}}else{c=Jj(c,b);if(null!==c){c.flags&=32767;Y=c;return}if(null!==a)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T=6;Y=null;return}}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===T&&(T=5)}function Qk(a,b,c){var d=C,e=pk.transition;try{pk.transition=null,C=1,Xk(a,b,c,d)}finally{pk.transition=e,C=d}return null}\nfunction Xk(a,b,c,d){do Ik();while(null!==xk);if(0!==(K&6))throw Error(p(327));c=a.finishedWork;var e=a.finishedLanes;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(p(177));a.callbackNode=null;a.callbackPriority=0;var f=c.lanes|c.childLanes;Bc(a,f);a===R&&(Y=R=null,Z=0);0===(c.subtreeFlags&2064)&&0===(c.flags&2064)||wk||(wk=!0,Gk(hc,function(){Ik();return null}));f=0!==(c.flags&15990);if(0!==(c.subtreeFlags&15990)||f){f=pk.transition;pk.transition=null;\nvar g=C;C=1;var h=K;K|=4;ok.current=null;Pj(a,c);ek(c,a);Oe(Df);dd=!!Cf;Df=Cf=null;a.current=c;ik(c,a,e);dc();K=h;C=g;pk.transition=f}else a.current=c;wk&&(wk=!1,xk=a,yk=e);f=a.pendingLanes;0===f&&(Si=null);mc(c.stateNode,d);Ek(a,B());if(null!==b)for(d=a.onRecoverableError,c=0;c<b.length;c++)e=b[c],d(e.value,{componentStack:e.stack,digest:e.digest});if(Pi)throw Pi=!1,a=Qi,Qi=null,a;0!==(yk&1)&&0!==a.tag&&Ik();f=a.pendingLanes;0!==(f&1)?a===Ak?zk++:(zk=0,Ak=a):zk=0;jg();return null}\nfunction Ik(){if(null!==xk){var a=Dc(yk),b=pk.transition,c=C;try{pk.transition=null;C=16>a?16:a;if(null===xk)var d=!1;else{a=xk;xk=null;yk=0;if(0!==(K&6))throw Error(p(331));var e=K;K|=4;for(V=a.current;null!==V;){var f=V,g=f.child;if(0!==(V.flags&16)){var h=f.deletions;if(null!==h){for(var k=0;k<h.length;k++){var l=h[k];for(V=l;null!==V;){var m=V;switch(m.tag){case 0:case 11:case 15:Qj(8,m,f)}var q=m.child;if(null!==q)q.return=m,V=q;else for(;null!==V;){m=V;var r=m.sibling,y=m.return;Tj(m);if(m===\nl){V=null;break}if(null!==r){r.return=y;V=r;break}V=y}}}var n=f.alternate;if(null!==n){var t=n.child;if(null!==t){n.child=null;do{var J=t.sibling;t.sibling=null;t=J}while(null!==t)}}V=f}}if(0!==(f.subtreeFlags&2064)&&null!==g)g.return=f,V=g;else b:for(;null!==V;){f=V;if(0!==(f.flags&2048))switch(f.tag){case 0:case 11:case 15:Qj(9,f,f.return)}var x=f.sibling;if(null!==x){x.return=f.return;V=x;break b}V=f.return}}var w=a.current;for(V=w;null!==V;){g=V;var u=g.child;if(0!==(g.subtreeFlags&2064)&&null!==\nu)u.return=g,V=u;else b:for(g=w;null!==V;){h=V;if(0!==(h.flags&2048))try{switch(h.tag){case 0:case 11:case 15:Rj(9,h)}}catch(na){W(h,h.return,na)}if(h===g){V=null;break b}var F=h.sibling;if(null!==F){F.return=h.return;V=F;break b}V=h.return}}K=e;jg();if(lc&&\"function\"===typeof lc.onPostCommitFiberRoot)try{lc.onPostCommitFiberRoot(kc,a)}catch(na){}d=!0}return d}finally{C=c,pk.transition=b}}return!1}function Yk(a,b,c){b=Ki(c,b);b=Oi(a,b,1);a=dh(a,b,1);b=L();null!==a&&(Ac(a,1,b),Ek(a,b))}\nfunction W(a,b,c){if(3===a.tag)Yk(a,a,c);else for(;null!==b;){if(3===b.tag){Yk(b,a,c);break}else if(1===b.tag){var d=b.stateNode;if(\"function\"===typeof b.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Si||!Si.has(d))){a=Ki(c,a);a=Ri(b,a,1);b=dh(b,a,1);a=L();null!==b&&(Ac(b,1,a),Ek(b,a));break}}b=b.return}}\nfunction Ui(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=L();a.pingedLanes|=a.suspendedLanes&c;R===a&&(Z&c)===c&&(4===T||3===T&&(Z&130023424)===Z&&500>B()-gk?Lk(a,0):sk|=c);Ek(a,b)}function Zk(a,b){0===b&&(0===(a.mode&1)?b=1:(b=sc,sc<<=1,0===(sc&130023424)&&(sc=4194304)));var c=L();a=Zg(a,b);null!==a&&(Ac(a,b,c),Ek(a,c))}function vj(a){var b=a.memoizedState,c=0;null!==b&&(c=b.retryLane);Zk(a,c)}\nfunction ck(a,b){var c=0;switch(a.tag){case 13:var d=a.stateNode;var e=a.memoizedState;null!==e&&(c=e.retryLane);break;case 19:d=a.stateNode;break;default:throw Error(p(314));}null!==d&&d.delete(b);Zk(a,c)}var Wk;\nWk=function(a,b,c){if(null!==a)if(a.memoizedProps!==b.pendingProps||Wf.current)Ug=!0;else{if(0===(a.lanes&c)&&0===(b.flags&128))return Ug=!1,zj(a,b,c);Ug=0!==(a.flags&131072)?!0:!1}else Ug=!1,I&&0!==(b.flags&1048576)&&ug(b,ng,b.index);b.lanes=0;switch(b.tag){case 2:var d=b.type;jj(a,b);a=b.pendingProps;var e=Yf(b,H.current);Tg(b,c);e=Xh(null,b,d,a,e,c);var f=bi();b.flags|=1;\"object\"===typeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof?(b.tag=1,b.memoizedState=null,b.updateQueue=\nnull,Zf(d)?(f=!0,cg(b)):f=!1,b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,ah(b),e.updater=nh,b.stateNode=e,e._reactInternals=b,rh(b,d,a,c),b=kj(null,b,d,!0,f,c)):(b.tag=0,I&&f&&vg(b),Yi(null,b,e,c),b=b.child);return b;case 16:d=b.elementType;a:{jj(a,b);a=b.pendingProps;e=d._init;d=e(d._payload);b.type=d;e=b.tag=$k(d);a=Lg(d,a);switch(e){case 0:b=dj(null,b,d,a,c);break a;case 1:b=ij(null,b,d,a,c);break a;case 11:b=Zi(null,b,d,a,c);break a;case 14:b=aj(null,b,d,Lg(d.type,a),c);break a}throw Error(p(306,\nd,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Lg(d,e),dj(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Lg(d,e),ij(a,b,d,e,c);case 3:a:{lj(b);if(null===a)throw Error(p(387));d=b.pendingProps;f=b.memoizedState;e=f.element;bh(a,b);gh(b,d,null,c);var g=b.memoizedState;d=g.element;if(f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},b.updateQueue.baseState=\nf,b.memoizedState=f,b.flags&256){e=Ki(Error(p(423)),b);b=mj(a,b,d,c,e);break a}else if(d!==e){e=Ki(Error(p(424)),b);b=mj(a,b,d,c,e);break a}else for(yg=Lf(b.stateNode.containerInfo.firstChild),xg=b,I=!0,zg=null,c=Ch(b,null,d,c),b.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{Ig();if(d===e){b=$i(a,b,c);break a}Yi(a,b,d,c)}b=b.child}return b;case 5:return Kh(b),null===a&&Eg(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,Ef(d,e)?g=null:null!==f&&Ef(d,f)&&(b.flags|=32),\nhj(a,b),Yi(a,b,g,c),b.child;case 6:return null===a&&Eg(b),null;case 13:return pj(a,b,c);case 4:return Ih(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Bh(b,null,d,c):Yi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Lg(d,e),Zi(a,b,d,e,c);case 7:return Yi(a,b,b.pendingProps,c),b.child;case 8:return Yi(a,b,b.pendingProps.children,c),b.child;case 12:return Yi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;f=b.memoizedProps;\ng=e.value;G(Mg,d._currentValue);d._currentValue=g;if(null!==f)if(He(f.value,g)){if(f.children===e.children&&!Wf.current){b=$i(a,b,c);break a}}else for(f=b.child,null!==f&&(f.return=b);null!==f;){var h=f.dependencies;if(null!==h){g=f.child;for(var k=h.firstContext;null!==k;){if(k.context===d){if(1===f.tag){k=ch(-1,c&-c);k.tag=2;var l=f.updateQueue;if(null!==l){l=l.shared;var m=l.pending;null===m?k.next=k:(k.next=m.next,m.next=k);l.pending=k}}f.lanes|=c;k=f.alternate;null!==k&&(k.lanes|=c);Sg(f.return,\nc,b);h.lanes|=c;break}k=k.next}}else if(10===f.tag)g=f.type===b.type?null:f.child;else if(18===f.tag){g=f.return;if(null===g)throw Error(p(341));g.lanes|=c;h=g.alternate;null!==h&&(h.lanes|=c);Sg(g,c,b);g=f.sibling}else g=f.child;if(null!==g)g.return=f;else for(g=f;null!==g;){if(g===b){g=null;break}f=g.sibling;if(null!==f){f.return=g.return;g=f;break}g=g.return}f=g}Yi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,d=b.pendingProps.children,Tg(b,c),e=Vg(e),d=d(e),b.flags|=1,Yi(a,b,d,c),\nb.child;case 14:return d=b.type,e=Lg(d,b.pendingProps),e=Lg(d.type,e),aj(a,b,d,e,c);case 15:return cj(a,b,b.type,b.pendingProps,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Lg(d,e),jj(a,b),b.tag=1,Zf(d)?(a=!0,cg(b)):a=!1,Tg(b,c),ph(b,d,e),rh(b,d,e,c),kj(null,b,d,!0,a,c);case 19:return yj(a,b,c);case 22:return ej(a,b,c)}throw Error(p(156,b.tag));};function Gk(a,b){return ac(a,b)}\nfunction al(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function Bg(a,b,c,d){return new al(a,b,c,d)}function bj(a){a=a.prototype;return!(!a||!a.isReactComponent)}\nfunction $k(a){if(\"function\"===typeof a)return bj(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Da)return 11;if(a===Ga)return 14}return 2}\nfunction wh(a,b){var c=a.alternate;null===c?(c=Bg(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null);c.flags=a.flags&14680064;c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction yh(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)bj(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ya:return Ah(c.children,e,f,b);case za:g=8;e|=8;break;case Aa:return a=Bg(12,c,b,e|2),a.elementType=Aa,a.lanes=f,a;case Ea:return a=Bg(13,c,b,e),a.elementType=Ea,a.lanes=f,a;case Fa:return a=Bg(19,c,b,e),a.elementType=Fa,a.lanes=f,a;case Ia:return qj(c,e,f,b);default:if(\"object\"===typeof a&&null!==a)switch(a.$$typeof){case Ba:g=10;break a;case Ca:g=9;break a;case Da:g=11;\nbreak a;case Ga:g=14;break a;case Ha:g=16;d=null;break a}throw Error(p(130,null==a?a:typeof a,\"\"));}b=Bg(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Ah(a,b,c,d){a=Bg(7,a,d,b);a.lanes=c;return a}function qj(a,b,c,d){a=Bg(22,a,d,b);a.elementType=Ia;a.lanes=c;a.stateNode={isHidden:!1};return a}function xh(a,b,c){a=Bg(6,a,null,b);a.lanes=c;return a}\nfunction zh(a,b,c){b=Bg(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction bl(a,b,c,d,e){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=0;this.eventTimes=zc(0);this.expirationTimes=zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=zc(0);this.identifierPrefix=d;this.onRecoverableError=e;this.mutableSourceEagerHydrationData=\nnull}function cl(a,b,c,d,e,f,g,h,k){a=new bl(a,b,c,h,k);1===b?(b=1,!0===f&&(b|=8)):b=0;f=Bg(3,null,null,b);a.current=f;f.stateNode=a;f.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null};ah(f);return a}function dl(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:wa,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nfunction el(a){if(!a)return Vf;a=a._reactInternals;a:{if(Vb(a)!==a||1!==a.tag)throw Error(p(170));var b=a;do{switch(b.tag){case 3:b=b.stateNode.context;break a;case 1:if(Zf(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break a}}b=b.return}while(null!==b);throw Error(p(171));}if(1===a.tag){var c=a.type;if(Zf(c))return bg(a,c,b)}return b}\nfunction fl(a,b,c,d,e,f,g,h,k){a=cl(c,d,!0,a,e,f,g,h,k);a.context=el(null);c=a.current;d=L();e=lh(c);f=ch(d,e);f.callback=void 0!==b&&null!==b?b:null;dh(c,f,e);a.current.lanes=e;Ac(a,e,d);Ek(a,d);return a}function gl(a,b,c,d){var e=b.current,f=L(),g=lh(e);c=el(c);null===b.context?b.context=c:b.pendingContext=c;b=ch(f,g);b.payload={element:a};d=void 0===d?null:d;null!==d&&(b.callback=d);a=dh(e,b,g);null!==a&&(mh(a,e,g,f),eh(a,e,g));return g}\nfunction hl(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function il(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function jl(a,b){il(a,b);(a=a.alternate)&&il(a,b)}function kl(){return null}var ll=\"function\"===typeof reportError?reportError:function(a){console.error(a)};function ml(a){this._internalRoot=a}\nnl.prototype.render=ml.prototype.render=function(a){var b=this._internalRoot;if(null===b)throw Error(p(409));gl(a,b,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var a=this._internalRoot;if(null!==a){this._internalRoot=null;var b=a.containerInfo;Sk(function(){gl(null,a,null,null)});b[uf]=null}};function nl(a){this._internalRoot=a}\nnl.prototype.unstable_scheduleHydration=function(a){if(a){var b=Hc();a={blockedOn:null,target:a,priority:b};for(var c=0;c<Qc.length&&0!==b&&b<Qc[c].priority;c++);Qc.splice(c,0,a);0===c&&Vc(a)}};function ol(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType)}function pl(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}function ql(){}\nfunction rl(a,b,c,d,e){if(e){if(\"function\"===typeof d){var f=d;d=function(){var a=hl(g);f.call(a)}}var g=fl(b,d,a,0,null,!1,!1,\"\",ql);a._reactRootContainer=g;a[uf]=g.current;sf(8===a.nodeType?a.parentNode:a);Sk();return g}for(;e=a.lastChild;)a.removeChild(e);if(\"function\"===typeof d){var h=d;d=function(){var a=hl(k);h.call(a)}}var k=cl(a,0,!1,null,null,!1,!1,\"\",ql);a._reactRootContainer=k;a[uf]=k.current;sf(8===a.nodeType?a.parentNode:a);Sk(function(){gl(b,k,c,d)});return k}\nfunction sl(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f;if(\"function\"===typeof e){var h=e;e=function(){var a=hl(g);h.call(a)}}gl(b,g,a,e)}else g=rl(c,b,a,e,d);return hl(g)}Ec=function(a){switch(a.tag){case 3:var b=a.stateNode;if(b.current.memoizedState.isDehydrated){var c=tc(b.pendingLanes);0!==c&&(Cc(b,c|1),Ek(b,B()),0===(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var b=Zg(a,1);if(null!==b){var c=L();mh(b,a,1,c)}}),jl(a,1)}};\nFc=function(a){if(13===a.tag){var b=Zg(a,134217728);if(null!==b){var c=L();mh(b,a,134217728,c)}jl(a,134217728)}};Gc=function(a){if(13===a.tag){var b=lh(a),c=Zg(a,b);if(null!==c){var d=L();mh(c,a,b,d)}jl(a,b)}};Hc=function(){return C};Ic=function(a,b){var c=C;try{return C=a,b()}finally{C=c}};\nyb=function(a,b,c){switch(b){case \"input\":bb(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(p(90));Wa(d);bb(d,e)}}}break;case \"textarea\":ib(a,c);break;case \"select\":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Rk;Hb=Sk;\nvar tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:\"18.2.0\",rendererPackageName:\"react-dom\"};\nvar vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=Zb(a);return null===a?null:a.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||\nkl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:\"18.2.0-next-9e3b772b8-20220608\"};if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;\nexports.createPortal=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ol(b))throw Error(p(200));return dl(a,b,null,c)};exports.createRoot=function(a,b){if(!ol(a))throw Error(p(299));var c=!1,d=\"\",e=ll;null!==b&&void 0!==b&&(!0===b.unstable_strictMode&&(c=!0),void 0!==b.identifierPrefix&&(d=b.identifierPrefix),void 0!==b.onRecoverableError&&(e=b.onRecoverableError));b=cl(a,1,!1,null,null,c,!1,d,e);a[uf]=b.current;sf(8===a.nodeType?a.parentNode:a);return new ml(b)};\nexports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(p(188));a=Object.keys(a).join(\",\");throw Error(p(268,a));}a=Zb(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a){return Sk(a)};exports.hydrate=function(a,b,c){if(!pl(b))throw Error(p(200));return sl(null,a,b,!0,c)};\nexports.hydrateRoot=function(a,b,c){if(!ol(a))throw Error(p(405));var d=null!=c&&c.hydratedSources||null,e=!1,f=\"\",g=ll;null!==c&&void 0!==c&&(!0===c.unstable_strictMode&&(e=!0),void 0!==c.identifierPrefix&&(f=c.identifierPrefix),void 0!==c.onRecoverableError&&(g=c.onRecoverableError));b=fl(b,null,a,1,null!=c?c:null,e,!1,f,g);a[uf]=b.current;sf(a);if(d)for(a=0;a<d.length;a++)c=d[a],e=c._getVersion,e=e(c._source),null==b.mutableSourceEagerHydrationData?b.mutableSourceEagerHydrationData=[c,e]:b.mutableSourceEagerHydrationData.push(c,\ne);return new nl(b)};exports.render=function(a,b,c){if(!pl(b))throw Error(p(200));return sl(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!pl(a))throw Error(p(40));return a._reactRootContainer?(Sk(function(){sl(null,null,a,!1,function(){a._reactRootContainer=null;a[uf]=null})}),!0):!1};exports.unstable_batchedUpdates=Rk;\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!pl(c))throw Error(p(200));if(null==a||void 0===a._reactInternals)throw Error(p(38));return sl(a,b,c,!1,d)};exports.version=\"18.2.0-next-9e3b772b8-20220608\";\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=Symbol.for(\"react.element\"),n=Symbol.for(\"react.portal\"),p=Symbol.for(\"react.fragment\"),q=Symbol.for(\"react.strict_mode\"),r=Symbol.for(\"react.profiler\"),t=Symbol.for(\"react.provider\"),u=Symbol.for(\"react.context\"),v=Symbol.for(\"react.forward_ref\"),w=Symbol.for(\"react.suspense\"),x=Symbol.for(\"react.memo\"),y=Symbol.for(\"react.lazy\"),z=Symbol.iterator;function A(a){if(null===a||\"object\"!==typeof a)return null;a=z&&a[z]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nvar B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function E(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}E.prototype.isReactComponent={};\nE.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(\"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,a,b,\"setState\")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function F(){}F.prototype=E.prototype;function G(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}var H=G.prototype=new F;\nH.constructor=G;C(H,E.prototype);H.isPureReactComponent=!0;var I=Array.isArray,J=Object.prototype.hasOwnProperty,K={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};\nfunction M(a,b,e){var d,c={},k=null,h=null;if(null!=b)for(d in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)J.call(b,d)&&!L.hasOwnProperty(d)&&(c[d]=b[d]);var g=arguments.length-2;if(1===g)c.children=e;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];c.children=f}if(a&&a.defaultProps)for(d in g=a.defaultProps,g)void 0===c[d]&&(c[d]=g[d]);return{$$typeof:l,type:a,key:k,ref:h,props:c,_owner:K.current}}\nfunction N(a,b){return{$$typeof:l,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function O(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===l}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var P=/\\/+/g;function Q(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction R(a,b,e,d,c){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case l:case n:h=!0}}if(h)return h=a,c=c(h),a=\"\"===d?\".\"+Q(h,0):d,I(c)?(e=\"\",null!=a&&(e=a.replace(P,\"$&/\")+\"/\"),R(c,b,e,\"\",function(a){return a})):null!=c&&(O(c)&&(c=N(c,e+(!c.key||h&&h.key===c.key?\"\":(\"\"+c.key).replace(P,\"$&/\")+\"/\")+a)),b.push(c)),1;h=0;d=\"\"===d?\".\":d+\":\";if(I(a))for(var g=0;g<a.length;g++){k=\na[g];var f=d+Q(k,g);h+=R(k,b,e,f,c)}else if(f=A(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=d+Q(k,g++),h+=R(k,b,e,f,c);else if(\"object\"===k)throw b=String(a),Error(\"Objects are not valid as a React child (found: \"+(\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b)+\"). If you meant to render a collection of children, use an array instead.\");return h}\nfunction S(a,b,e){if(null==a)return a;var d=[],c=0;R(a,d,\"\",\"\",function(a){return b.call(e,a,c++)});return d}function T(a){if(-1===a._status){var b=a._result;b=b();b.then(function(b){if(0===a._status||-1===a._status)a._status=1,a._result=b},function(b){if(0===a._status||-1===a._status)a._status=2,a._result=b});-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result;}\nvar U={current:null},V={transition:null},W={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:V,ReactCurrentOwner:K};exports.Children={map:S,forEach:function(a,b,e){S(a,function(){b.apply(this,arguments)},e)},count:function(a){var b=0;S(a,function(){b++});return b},toArray:function(a){return S(a,function(a){return a})||[]},only:function(a){if(!O(a))throw Error(\"React.Children.only expected to receive a single React element child.\");return a}};exports.Component=E;exports.Fragment=p;\nexports.Profiler=r;exports.PureComponent=G;exports.StrictMode=q;exports.Suspense=w;exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W;\nexports.cloneElement=function(a,b,e){if(null===a||void 0===a)throw Error(\"React.cloneElement(...): The argument must be a React element, but you passed \"+a+\".\");var d=C({},a.props),c=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=K.current);void 0!==b.key&&(c=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)J.call(b,f)&&!L.hasOwnProperty(f)&&(d[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)d.children=e;else if(1<f){g=Array(f);\nfor(var m=0;m<f;m++)g[m]=arguments[m+2];d.children=g}return{$$typeof:l,type:a.type,key:c,ref:k,props:d,_owner:h}};exports.createContext=function(a){a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};a.Provider={$$typeof:t,_context:a};return a.Consumer=a};exports.createElement=M;exports.createFactory=function(a){var b=M.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};\nexports.forwardRef=function(a){return{$$typeof:v,render:a}};exports.isValidElement=O;exports.lazy=function(a){return{$$typeof:y,_payload:{_status:-1,_result:a},_init:T}};exports.memo=function(a,b){return{$$typeof:x,type:a,compare:void 0===b?null:b}};exports.startTransition=function(a){var b=V.transition;V.transition={};try{a()}finally{V.transition=b}};exports.unstable_act=function(){throw Error(\"act(...) is not supported in production builds of React.\");};\nexports.useCallback=function(a,b){return U.current.useCallback(a,b)};exports.useContext=function(a){return U.current.useContext(a)};exports.useDebugValue=function(){};exports.useDeferredValue=function(a){return U.current.useDeferredValue(a)};exports.useEffect=function(a,b){return U.current.useEffect(a,b)};exports.useId=function(){return U.current.useId()};exports.useImperativeHandle=function(a,b,e){return U.current.useImperativeHandle(a,b,e)};\nexports.useInsertionEffect=function(a,b){return U.current.useInsertionEffect(a,b)};exports.useLayoutEffect=function(a,b){return U.current.useLayoutEffect(a,b)};exports.useMemo=function(a,b){return U.current.useMemo(a,b)};exports.useReducer=function(a,b,e){return U.current.useReducer(a,b,e)};exports.useRef=function(a){return U.current.useRef(a)};exports.useState=function(a){return U.current.useState(a)};exports.useSyncExternalStore=function(a,b,e){return U.current.useSyncExternalStore(a,b,e)};\nexports.useTransition=function(){return U.current.useTransition()};exports.version=\"18.2.0\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * @license React\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';function f(a,b){var c=a.length;a.push(b);a:for(;0<c;){var d=c-1>>>1,e=a[d];if(0<g(e,b))a[d]=b,a[c]=e,c=d;else break a}}function h(a){return 0===a.length?null:a[0]}function k(a){if(0===a.length)return null;var b=a[0],c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length,w=e>>>1;d<w;){var m=2*(d+1)-1,C=a[m],n=m+1,x=a[n];if(0>g(C,c))n<e&&0>g(x,C)?(a[d]=x,a[n]=c,d=n):(a[d]=C,a[m]=c,d=m);else if(n<e&&0>g(x,c))a[d]=x,a[n]=c,d=n;else break a}}return b}\nfunction g(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}var r=[],t=[],u=1,v=null,y=3,z=!1,A=!1,B=!1,D=\"function\"===typeof setTimeout?setTimeout:null,E=\"function\"===typeof clearTimeout?clearTimeout:null,F=\"undefined\"!==typeof setImmediate?setImmediate:null;\n\"undefined\"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(a){for(var b=h(t);null!==b;){if(null===b.callback)k(t);else if(b.startTime<=a)k(t),b.sortIndex=b.expirationTime,f(r,b);else break;b=h(t)}}function H(a){B=!1;G(a);if(!A)if(null!==h(r))A=!0,I(J);else{var b=h(t);null!==b&&K(H,b.startTime-a)}}\nfunction J(a,b){A=!1;B&&(B=!1,E(L),L=-1);z=!0;var c=y;try{G(b);for(v=h(r);null!==v&&(!(v.expirationTime>b)||a&&!M());){var d=v.callback;if(\"function\"===typeof d){v.callback=null;y=v.priorityLevel;var e=d(v.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?v.callback=e:v===h(r)&&k(r);G(b)}else k(r);v=h(r)}if(null!==v)var w=!0;else{var m=h(t);null!==m&&K(H,m.startTime-b);w=!1}return w}finally{v=null,y=c,z=!1}}var N=!1,O=null,L=-1,P=5,Q=-1;\nfunction M(){return exports.unstable_now()-Q<P?!1:!0}function R(){if(null!==O){var a=exports.unstable_now();Q=a;var b=!0;try{b=O(!0,a)}finally{b?S():(N=!1,O=null)}}else N=!1}var S;if(\"function\"===typeof F)S=function(){F(R)};else if(\"undefined\"!==typeof MessageChannel){var T=new MessageChannel,U=T.port2;T.port1.onmessage=R;S=function(){U.postMessage(null)}}else S=function(){D(R,0)};function I(a){O=a;N||(N=!0,S())}function K(a,b){L=D(function(){a(exports.unstable_now())},b)}\nexports.unstable_IdlePriority=5;exports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){A||z||(A=!0,I(J))};\nexports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):P=0<a?Math.floor(1E3/a):5};exports.unstable_getCurrentPriorityLevel=function(){return y};exports.unstable_getFirstCallbackNode=function(){return h(r)};exports.unstable_next=function(a){switch(y){case 1:case 2:case 3:var b=3;break;default:b=y}var c=y;y=b;try{return a()}finally{y=c}};exports.unstable_pauseExecution=function(){};\nexports.unstable_requestPaint=function(){};exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=y;y=a;try{return b()}finally{y=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:u++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,f(t,a),null===h(r)&&a===h(t)&&(B?(E(L),L=-1):B=!0,K(H,c-d))):(a.sortIndex=e,f(r,a),A||z||(A=!0,I(J)));return a};\nexports.unstable_shouldYield=M;exports.unstable_wrapCallback=function(a){var b=y;return function(){var c=y;y=b;try{return a.apply(this,arguments)}finally{y=c}}};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + {\"453\":\"c7b2654d\",\"484\":\"84315ed9\",\"707\":\"816bd344\",\"828\":\"a1077066\"}[chunkId] + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"castle-coders:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/castle-coders-alpha/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkcastle_coders\"] = self[\"webpackChunkcastle_coders\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","export function unsafeGenerateN(rng, num) {\n    var out = [];\n    for (var idx = 0; idx != num; ++idx) {\n        out.push(rng.unsafeNext());\n    }\n    return out;\n}\nexport function generateN(rng, num) {\n    var nextRng = rng.clone();\n    var out = unsafeGenerateN(nextRng, num);\n    return [out, nextRng];\n}\nexport function unsafeSkipN(rng, num) {\n    for (var idx = 0; idx != num; ++idx) {\n        rng.unsafeNext();\n    }\n}\nexport function skipN(rng, num) {\n    var nextRng = rng.clone();\n    unsafeSkipN(nextRng, num);\n    return nextRng;\n}\n","var MULTIPLIER = 0x000343fd;\nvar INCREMENT = 0x00269ec3;\nvar MASK = 0xffffffff;\nvar MASK_2 = (1 << 31) - 1;\nvar computeNextSeed = function (seed) {\n    return (seed * MULTIPLIER + INCREMENT) & MASK;\n};\nvar computeValueFromNextSeed = function (nextseed) {\n    return (nextseed & MASK_2) >> 16;\n};\nvar LinearCongruential32 = (function () {\n    function LinearCongruential32(seed) {\n        this.seed = seed;\n    }\n    LinearCongruential32.prototype.clone = function () {\n        return new LinearCongruential32(this.seed);\n    };\n    LinearCongruential32.prototype.next = function () {\n        var nextRng = new LinearCongruential32(this.seed);\n        var out = nextRng.unsafeNext();\n        return [out, nextRng];\n    };\n    LinearCongruential32.prototype.unsafeNext = function () {\n        var s1 = computeNextSeed(this.seed);\n        var v1 = computeValueFromNextSeed(s1);\n        var s2 = computeNextSeed(s1);\n        var v2 = computeValueFromNextSeed(s2);\n        this.seed = computeNextSeed(s2);\n        var v3 = computeValueFromNextSeed(this.seed);\n        var vnext = v3 + ((v2 + (v1 << 15)) << 15);\n        return vnext | 0;\n    };\n    LinearCongruential32.prototype.getState = function () {\n        return [this.seed];\n    };\n    return LinearCongruential32;\n}());\nfunction fromState(state) {\n    var valid = state.length === 1;\n    if (!valid) {\n        throw new Error('The state must have been produced by a congruential32 RandomGenerator');\n    }\n    return new LinearCongruential32(state[0]);\n}\nexport var congruential32 = Object.assign(function (seed) {\n    return new LinearCongruential32(seed);\n}, { fromState: fromState });\n","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar MersenneTwister = (function () {\n    function MersenneTwister(states, index) {\n        this.states = states;\n        this.index = index;\n    }\n    MersenneTwister.twist = function (prev) {\n        var mt = prev.slice();\n        for (var idx = 0; idx !== MersenneTwister.N - MersenneTwister.M; ++idx) {\n            var y_1 = (mt[idx] & MersenneTwister.MASK_UPPER) + (mt[idx + 1] & MersenneTwister.MASK_LOWER);\n            mt[idx] = mt[idx + MersenneTwister.M] ^ (y_1 >>> 1) ^ (-(y_1 & 1) & MersenneTwister.A);\n        }\n        for (var idx = MersenneTwister.N - MersenneTwister.M; idx !== MersenneTwister.N - 1; ++idx) {\n            var y_2 = (mt[idx] & MersenneTwister.MASK_UPPER) + (mt[idx + 1] & MersenneTwister.MASK_LOWER);\n            mt[idx] = mt[idx + MersenneTwister.M - MersenneTwister.N] ^ (y_2 >>> 1) ^ (-(y_2 & 1) & MersenneTwister.A);\n        }\n        var y = (mt[MersenneTwister.N - 1] & MersenneTwister.MASK_UPPER) + (mt[0] & MersenneTwister.MASK_LOWER);\n        mt[MersenneTwister.N - 1] = mt[MersenneTwister.M - 1] ^ (y >>> 1) ^ (-(y & 1) & MersenneTwister.A);\n        return mt;\n    };\n    MersenneTwister.seeded = function (seed) {\n        var out = Array(MersenneTwister.N);\n        out[0] = seed;\n        for (var idx = 1; idx !== MersenneTwister.N; ++idx) {\n            var xored = out[idx - 1] ^ (out[idx - 1] >>> 30);\n            out[idx] = (Math.imul(MersenneTwister.F, xored) + idx) | 0;\n        }\n        return out;\n    };\n    MersenneTwister.from = function (seed) {\n        return new MersenneTwister(MersenneTwister.twist(MersenneTwister.seeded(seed)), 0);\n    };\n    MersenneTwister.prototype.clone = function () {\n        return new MersenneTwister(this.states, this.index);\n    };\n    MersenneTwister.prototype.next = function () {\n        var nextRng = new MersenneTwister(this.states, this.index);\n        var out = nextRng.unsafeNext();\n        return [out, nextRng];\n    };\n    MersenneTwister.prototype.unsafeNext = function () {\n        var y = this.states[this.index];\n        y ^= this.states[this.index] >>> MersenneTwister.U;\n        y ^= (y << MersenneTwister.S) & MersenneTwister.B;\n        y ^= (y << MersenneTwister.T) & MersenneTwister.C;\n        y ^= y >>> MersenneTwister.L;\n        if (++this.index >= MersenneTwister.N) {\n            this.states = MersenneTwister.twist(this.states);\n            this.index = 0;\n        }\n        return y;\n    };\n    MersenneTwister.prototype.getState = function () {\n        return __spreadArray([this.index], __read(this.states), false);\n    };\n    MersenneTwister.fromState = function (state) {\n        var valid = state.length === MersenneTwister.N + 1 && state[0] >= 0 && state[0] < MersenneTwister.N;\n        if (!valid) {\n            throw new Error('The state must have been produced by a mersenne RandomGenerator');\n        }\n        return new MersenneTwister(state.slice(1), state[0]);\n    };\n    MersenneTwister.N = 624;\n    MersenneTwister.M = 397;\n    MersenneTwister.R = 31;\n    MersenneTwister.A = 0x9908b0df;\n    MersenneTwister.F = 1812433253;\n    MersenneTwister.U = 11;\n    MersenneTwister.S = 7;\n    MersenneTwister.B = 0x9d2c5680;\n    MersenneTwister.T = 15;\n    MersenneTwister.C = 0xefc60000;\n    MersenneTwister.L = 18;\n    MersenneTwister.MASK_LOWER = Math.pow(2, MersenneTwister.R) - 1;\n    MersenneTwister.MASK_UPPER = Math.pow(2, MersenneTwister.R);\n    return MersenneTwister;\n}());\nfunction fromState(state) {\n    return MersenneTwister.fromState(state);\n}\nexport default Object.assign(function (seed) {\n    return MersenneTwister.from(seed);\n}, { fromState: fromState });\n","var XorShift128Plus = (function () {\n    function XorShift128Plus(s01, s00, s11, s10) {\n        this.s01 = s01;\n        this.s00 = s00;\n        this.s11 = s11;\n        this.s10 = s10;\n    }\n    XorShift128Plus.prototype.clone = function () {\n        return new XorShift128Plus(this.s01, this.s00, this.s11, this.s10);\n    };\n    XorShift128Plus.prototype.next = function () {\n        var nextRng = new XorShift128Plus(this.s01, this.s00, this.s11, this.s10);\n        var out = nextRng.unsafeNext();\n        return [out, nextRng];\n    };\n    XorShift128Plus.prototype.unsafeNext = function () {\n        var a0 = this.s00 ^ (this.s00 << 23);\n        var a1 = this.s01 ^ ((this.s01 << 23) | (this.s00 >>> 9));\n        var b0 = a0 ^ this.s10 ^ ((a0 >>> 18) | (a1 << 14)) ^ ((this.s10 >>> 5) | (this.s11 << 27));\n        var b1 = a1 ^ this.s11 ^ (a1 >>> 18) ^ (this.s11 >>> 5);\n        var out = (this.s00 + this.s10) | 0;\n        this.s01 = this.s11;\n        this.s00 = this.s10;\n        this.s11 = b1;\n        this.s10 = b0;\n        return out;\n    };\n    XorShift128Plus.prototype.jump = function () {\n        var nextRng = new XorShift128Plus(this.s01, this.s00, this.s11, this.s10);\n        nextRng.unsafeJump();\n        return nextRng;\n    };\n    XorShift128Plus.prototype.unsafeJump = function () {\n        var ns01 = 0;\n        var ns00 = 0;\n        var ns11 = 0;\n        var ns10 = 0;\n        var jump = [0x635d2dff, 0x8a5cd789, 0x5c472f96, 0x121fd215];\n        for (var i = 0; i !== 4; ++i) {\n            for (var mask = 1; mask; mask <<= 1) {\n                if (jump[i] & mask) {\n                    ns01 ^= this.s01;\n                    ns00 ^= this.s00;\n                    ns11 ^= this.s11;\n                    ns10 ^= this.s10;\n                }\n                this.unsafeNext();\n            }\n        }\n        this.s01 = ns01;\n        this.s00 = ns00;\n        this.s11 = ns11;\n        this.s10 = ns10;\n    };\n    XorShift128Plus.prototype.getState = function () {\n        return [this.s01, this.s00, this.s11, this.s10];\n    };\n    return XorShift128Plus;\n}());\nfunction fromState(state) {\n    var valid = state.length === 4;\n    if (!valid) {\n        throw new Error('The state must have been produced by a xorshift128plus RandomGenerator');\n    }\n    return new XorShift128Plus(state[0], state[1], state[2], state[3]);\n}\nexport var xorshift128plus = Object.assign(function (seed) {\n    return new XorShift128Plus(-1, ~seed, seed | 0, 0);\n}, { fromState: fromState });\n","var XoroShiro128Plus = (function () {\n    function XoroShiro128Plus(s01, s00, s11, s10) {\n        this.s01 = s01;\n        this.s00 = s00;\n        this.s11 = s11;\n        this.s10 = s10;\n    }\n    XoroShiro128Plus.prototype.clone = function () {\n        return new XoroShiro128Plus(this.s01, this.s00, this.s11, this.s10);\n    };\n    XoroShiro128Plus.prototype.next = function () {\n        var nextRng = new XoroShiro128Plus(this.s01, this.s00, this.s11, this.s10);\n        var out = nextRng.unsafeNext();\n        return [out, nextRng];\n    };\n    XoroShiro128Plus.prototype.unsafeNext = function () {\n        var out = (this.s00 + this.s10) | 0;\n        var a0 = this.s10 ^ this.s00;\n        var a1 = this.s11 ^ this.s01;\n        var s00 = this.s00;\n        var s01 = this.s01;\n        this.s00 = (s00 << 24) ^ (s01 >>> 8) ^ a0 ^ (a0 << 16);\n        this.s01 = (s01 << 24) ^ (s00 >>> 8) ^ a1 ^ ((a1 << 16) | (a0 >>> 16));\n        this.s10 = (a1 << 5) ^ (a0 >>> 27);\n        this.s11 = (a0 << 5) ^ (a1 >>> 27);\n        return out;\n    };\n    XoroShiro128Plus.prototype.jump = function () {\n        var nextRng = new XoroShiro128Plus(this.s01, this.s00, this.s11, this.s10);\n        nextRng.unsafeJump();\n        return nextRng;\n    };\n    XoroShiro128Plus.prototype.unsafeJump = function () {\n        var ns01 = 0;\n        var ns00 = 0;\n        var ns11 = 0;\n        var ns10 = 0;\n        var jump = [0xd8f554a5, 0xdf900294, 0x4b3201fc, 0x170865df];\n        for (var i = 0; i !== 4; ++i) {\n            for (var mask = 1; mask; mask <<= 1) {\n                if (jump[i] & mask) {\n                    ns01 ^= this.s01;\n                    ns00 ^= this.s00;\n                    ns11 ^= this.s11;\n                    ns10 ^= this.s10;\n                }\n                this.unsafeNext();\n            }\n        }\n        this.s01 = ns01;\n        this.s00 = ns00;\n        this.s11 = ns11;\n        this.s10 = ns10;\n    };\n    XoroShiro128Plus.prototype.getState = function () {\n        return [this.s01, this.s00, this.s11, this.s10];\n    };\n    return XoroShiro128Plus;\n}());\nfunction fromState(state) {\n    var valid = state.length === 4;\n    if (!valid) {\n        throw new Error('The state must have been produced by a xoroshiro128plus RandomGenerator');\n    }\n    return new XoroShiro128Plus(state[0], state[1], state[2], state[3]);\n}\nexport var xoroshiro128plus = Object.assign(function (seed) {\n    return new XoroShiro128Plus(-1, ~seed, seed | 0, 0);\n}, { fromState: fromState });\n","export function addArrayIntToNew(arrayIntA, arrayIntB) {\n    if (arrayIntA.sign !== arrayIntB.sign) {\n        return substractArrayIntToNew(arrayIntA, { sign: -arrayIntB.sign, data: arrayIntB.data });\n    }\n    var data = [];\n    var reminder = 0;\n    var dataA = arrayIntA.data;\n    var dataB = arrayIntB.data;\n    for (var indexA = dataA.length - 1, indexB = dataB.length - 1; indexA >= 0 || indexB >= 0; --indexA, --indexB) {\n        var vA = indexA >= 0 ? dataA[indexA] : 0;\n        var vB = indexB >= 0 ? dataB[indexB] : 0;\n        var current = vA + vB + reminder;\n        data.push(current >>> 0);\n        reminder = ~~(current / 0x100000000);\n    }\n    if (reminder !== 0) {\n        data.push(reminder);\n    }\n    return { sign: arrayIntA.sign, data: data.reverse() };\n}\nexport function addOneToPositiveArrayInt(arrayInt) {\n    arrayInt.sign = 1;\n    var data = arrayInt.data;\n    for (var index = data.length - 1; index >= 0; --index) {\n        if (data[index] === 0xffffffff) {\n            data[index] = 0;\n        }\n        else {\n            data[index] += 1;\n            return arrayInt;\n        }\n    }\n    data.unshift(1);\n    return arrayInt;\n}\nfunction isStrictlySmaller(dataA, dataB) {\n    var maxLength = Math.max(dataA.length, dataB.length);\n    for (var index = 0; index < maxLength; ++index) {\n        var indexA = index + dataA.length - maxLength;\n        var indexB = index + dataB.length - maxLength;\n        var vA = indexA >= 0 ? dataA[indexA] : 0;\n        var vB = indexB >= 0 ? dataB[indexB] : 0;\n        if (vA < vB)\n            return true;\n        if (vA > vB)\n            return false;\n    }\n    return false;\n}\nexport function substractArrayIntToNew(arrayIntA, arrayIntB) {\n    if (arrayIntA.sign !== arrayIntB.sign) {\n        return addArrayIntToNew(arrayIntA, { sign: -arrayIntB.sign, data: arrayIntB.data });\n    }\n    var dataA = arrayIntA.data;\n    var dataB = arrayIntB.data;\n    if (isStrictlySmaller(dataA, dataB)) {\n        var out = substractArrayIntToNew(arrayIntB, arrayIntA);\n        out.sign = -out.sign;\n        return out;\n    }\n    var data = [];\n    var reminder = 0;\n    for (var indexA = dataA.length - 1, indexB = dataB.length - 1; indexA >= 0 || indexB >= 0; --indexA, --indexB) {\n        var vA = indexA >= 0 ? dataA[indexA] : 0;\n        var vB = indexB >= 0 ? dataB[indexB] : 0;\n        var current = vA - vB - reminder;\n        data.push(current >>> 0);\n        reminder = current < 0 ? 1 : 0;\n    }\n    return { sign: arrayIntA.sign, data: data.reverse() };\n}\nexport function trimArrayIntInplace(arrayInt) {\n    var data = arrayInt.data;\n    var firstNonZero = 0;\n    for (; firstNonZero !== data.length && data[firstNonZero] === 0; ++firstNonZero) { }\n    if (firstNonZero === data.length) {\n        arrayInt.sign = 1;\n        arrayInt.data = [0];\n        return arrayInt;\n    }\n    data.splice(0, firstNonZero);\n    return arrayInt;\n}\nexport function fromNumberToArrayInt64(out, n) {\n    if (n < 0) {\n        var posN = -n;\n        out.sign = -1;\n        out.data[0] = ~~(posN / 0x100000000);\n        out.data[1] = posN >>> 0;\n    }\n    else {\n        out.sign = 1;\n        out.data[0] = ~~(n / 0x100000000);\n        out.data[1] = n >>> 0;\n    }\n    return out;\n}\nexport function substractArrayInt64(out, arrayIntA, arrayIntB) {\n    var lowA = arrayIntA.data[1];\n    var highA = arrayIntA.data[0];\n    var signA = arrayIntA.sign;\n    var lowB = arrayIntB.data[1];\n    var highB = arrayIntB.data[0];\n    var signB = arrayIntB.sign;\n    out.sign = 1;\n    if (signA === 1 && signB === -1) {\n        var low_1 = lowA + lowB;\n        var high = highA + highB + (low_1 > 0xffffffff ? 1 : 0);\n        out.data[0] = high >>> 0;\n        out.data[1] = low_1 >>> 0;\n        return out;\n    }\n    var lowFirst = lowA;\n    var highFirst = highA;\n    var lowSecond = lowB;\n    var highSecond = highB;\n    if (signA === -1) {\n        lowFirst = lowB;\n        highFirst = highB;\n        lowSecond = lowA;\n        highSecond = highA;\n    }\n    var reminderLow = 0;\n    var low = lowFirst - lowSecond;\n    if (low < 0) {\n        reminderLow = 1;\n        low = low >>> 0;\n    }\n    out.data[0] = highFirst - highSecond - reminderLow;\n    out.data[1] = low;\n    return out;\n}\n","export function unsafeUniformIntDistributionInternal(rangeSize, rng) {\n    var MaxAllowed = rangeSize > 2 ? ~~(0x100000000 / rangeSize) * rangeSize : 0x100000000;\n    var deltaV = rng.unsafeNext() + 0x80000000;\n    while (deltaV >= MaxAllowed) {\n        deltaV = rng.unsafeNext() + 0x80000000;\n    }\n    return deltaV % rangeSize;\n}\n","import { unsafeUniformIntDistributionInternal } from './UnsafeUniformIntDistributionInternal.js';\nexport function unsafeUniformArrayIntDistributionInternal(out, rangeSize, rng) {\n    var rangeLength = rangeSize.length;\n    while (true) {\n        for (var index = 0; index !== rangeLength; ++index) {\n            var indexRangeSize = index === 0 ? rangeSize[0] + 1 : 0x100000000;\n            var g = unsafeUniformIntDistributionInternal(indexRangeSize, rng);\n            out[index] = g;\n        }\n        for (var index = 0; index !== rangeLength; ++index) {\n            var current = out[index];\n            var currentInRange = rangeSize[index];\n            if (current < currentInRange) {\n                return out;\n            }\n            else if (current > currentInRange) {\n                break;\n            }\n        }\n    }\n}\n","import { addArrayIntToNew, addOneToPositiveArrayInt, substractArrayIntToNew, trimArrayIntInplace, } from './internals/ArrayInt.js';\nimport { unsafeUniformArrayIntDistributionInternal } from './internals/UnsafeUniformArrayIntDistributionInternal.js';\nexport function unsafeUniformArrayIntDistribution(from, to, rng) {\n    var rangeSize = trimArrayIntInplace(addOneToPositiveArrayInt(substractArrayIntToNew(to, from)));\n    var emptyArrayIntData = rangeSize.data.slice(0);\n    var g = unsafeUniformArrayIntDistributionInternal(emptyArrayIntData, rangeSize.data, rng);\n    return trimArrayIntInplace(addArrayIntToNew({ sign: 1, data: g }, from));\n}\n","import { unsafeUniformArrayIntDistribution } from './UnsafeUniformArrayIntDistribution.js';\nfunction uniformArrayIntDistribution(from, to, rng) {\n    if (rng != null) {\n        var nextRng = rng.clone();\n        return [unsafeUniformArrayIntDistribution(from, to, nextRng), nextRng];\n    }\n    return function (rng) {\n        var nextRng = rng.clone();\n        return [unsafeUniformArrayIntDistribution(from, to, nextRng), nextRng];\n    };\n}\nexport { uniformArrayIntDistribution };\n","var SBigInt = typeof BigInt !== 'undefined' ? BigInt : undefined;\nexport function unsafeUniformBigIntDistribution(from, to, rng) {\n    var diff = to - from + SBigInt(1);\n    var MinRng = SBigInt(-0x80000000);\n    var NumValues = SBigInt(0x100000000);\n    var FinalNumValues = NumValues;\n    var NumIterations = 1;\n    while (FinalNumValues < diff) {\n        FinalNumValues *= NumValues;\n        ++NumIterations;\n    }\n    var MaxAcceptedRandom = FinalNumValues - (FinalNumValues % diff);\n    while (true) {\n        var value = SBigInt(0);\n        for (var num = 0; num !== NumIterations; ++num) {\n            var out = rng.unsafeNext();\n            value = NumValues * value + (SBigInt(out) - MinRng);\n        }\n        if (value < MaxAcceptedRandom) {\n            var inDiff = value % diff;\n            return inDiff + from;\n        }\n    }\n}\n","import { unsafeUniformBigIntDistribution } from './UnsafeUniformBigIntDistribution.js';\nfunction uniformBigIntDistribution(from, to, rng) {\n    if (rng != null) {\n        var nextRng = rng.clone();\n        return [unsafeUniformBigIntDistribution(from, to, nextRng), nextRng];\n    }\n    return function (rng) {\n        var nextRng = rng.clone();\n        return [unsafeUniformBigIntDistribution(from, to, nextRng), nextRng];\n    };\n}\nexport { uniformBigIntDistribution };\n","import { unsafeUniformIntDistributionInternal } from './internals/UnsafeUniformIntDistributionInternal.js';\nimport { fromNumberToArrayInt64, substractArrayInt64 } from './internals/ArrayInt.js';\nimport { unsafeUniformArrayIntDistributionInternal } from './internals/UnsafeUniformArrayIntDistributionInternal.js';\nvar safeNumberMaxSafeInteger = Number.MAX_SAFE_INTEGER;\nvar sharedA = { sign: 1, data: [0, 0] };\nvar sharedB = { sign: 1, data: [0, 0] };\nvar sharedC = { sign: 1, data: [0, 0] };\nvar sharedData = [0, 0];\nfunction uniformLargeIntInternal(from, to, rangeSize, rng) {\n    var rangeSizeArrayIntValue = rangeSize <= safeNumberMaxSafeInteger\n        ? fromNumberToArrayInt64(sharedC, rangeSize)\n        : substractArrayInt64(sharedC, fromNumberToArrayInt64(sharedA, to), fromNumberToArrayInt64(sharedB, from));\n    if (rangeSizeArrayIntValue.data[1] === 0xffffffff) {\n        rangeSizeArrayIntValue.data[0] += 1;\n        rangeSizeArrayIntValue.data[1] = 0;\n    }\n    else {\n        rangeSizeArrayIntValue.data[1] += 1;\n    }\n    unsafeUniformArrayIntDistributionInternal(sharedData, rangeSizeArrayIntValue.data, rng);\n    return sharedData[0] * 0x100000000 + sharedData[1] + from;\n}\nexport function unsafeUniformIntDistribution(from, to, rng) {\n    var rangeSize = to - from;\n    if (rangeSize <= 0xffffffff) {\n        var g = unsafeUniformIntDistributionInternal(rangeSize + 1, rng);\n        return g + from;\n    }\n    return uniformLargeIntInternal(from, to, rangeSize, rng);\n}\n","import { unsafeUniformIntDistribution } from './UnsafeUniformIntDistribution.js';\nfunction uniformIntDistribution(from, to, rng) {\n    if (rng != null) {\n        var nextRng = rng.clone();\n        return [unsafeUniformIntDistribution(from, to, nextRng), nextRng];\n    }\n    return function (rng) {\n        var nextRng = rng.clone();\n        return [unsafeUniformIntDistribution(from, to, nextRng), nextRng];\n    };\n}\nexport { uniformIntDistribution };\n","import { generateN, skipN, unsafeGenerateN, unsafeSkipN } from './generator/RandomGenerator.js';\nimport { congruential32 } from './generator/LinearCongruential.js';\nimport mersenne from './generator/MersenneTwister.js';\nimport { xorshift128plus } from './generator/XorShift.js';\nimport { xoroshiro128plus } from './generator/XoroShiro.js';\nimport { uniformArrayIntDistribution } from './distribution/UniformArrayIntDistribution.js';\nimport { uniformBigIntDistribution } from './distribution/UniformBigIntDistribution.js';\nimport { uniformIntDistribution } from './distribution/UniformIntDistribution.js';\nimport { unsafeUniformArrayIntDistribution } from './distribution/UnsafeUniformArrayIntDistribution.js';\nimport { unsafeUniformBigIntDistribution } from './distribution/UnsafeUniformBigIntDistribution.js';\nimport { unsafeUniformIntDistribution } from './distribution/UnsafeUniformIntDistribution.js';\nvar __type = 'module';\nvar __version = '6.1.0';\nvar __commitHash = 'a413dd2b721516be2ef29adffb515c5ae67bfbad';\nexport { __type, __version, __commitHash, generateN, skipN, unsafeGenerateN, unsafeSkipN, congruential32, mersenne, xorshift128plus, xoroshiro128plus, uniformArrayIntDistribution, uniformBigIntDistribution, uniformIntDistribution, unsafeUniformArrayIntDistribution, unsafeUniformBigIntDistribution, unsafeUniformIntDistribution, };\n","import * as prand from './pure-rand-default.js';\nexport default prand;\nexport * from './pure-rand-default.js';\n","import { Color32, Rectangle } from \"../BlockEditor\";\nimport castle_interior from \"./castle_interior.jpg\";\nimport goblin from \"./goblin.png\";\nimport hero from \"./hero.png\";\nimport heart_mark from \"./heart_mark.png\";\nimport witch_idle from \"./witch_idle.png\";\nimport witch_wand_raised from \"./witch_wand_raised.png\";\nimport witch_wand_lowered from \"./witch_wand_lowered.png\";\nimport home_screen_start_button from \"./buttons/home_screen/start.png\";\nimport home_screen_shop_button from \"./buttons/home_screen/shop.png\";\nimport home_screen_settings_button from \"./buttons/home_screen/settings.png\";\nimport puzzle_screen_edit_button from \"./buttons/puzzle_screen/edit.png\";\nimport puzzle_screen_view_button from \"./buttons/puzzle_screen/view.png\";\nimport puzzle_screen_play_button from \"./buttons/puzzle_screen/play.png\";\nimport puzzle_screen_pause_button from \"./buttons/puzzle_screen/pause.png\";\nimport puzzle_screen_home_button from \"./buttons/puzzle_screen/home.png\";\nimport language_button from \"./buttons/settings_screen/language.png\";\nimport credits_button from \"./buttons/settings_screen/credits.png\";\nimport reset_to_level_one_button from \"./buttons/settings_screen/reset_to_level_one.png\";\nimport settings_screen_close_button from \"./buttons/settings_screen/close.png\";\nimport extended_home_background from \"./extended_home_background.png\";\nimport settings_box from \"./settings_box.png\";\nimport language_dropdown_arrow from \"./language_dropdown_arrow.png\";\nimport finger from \"./tutorial/finger.png\";\nimport short_instructions_box from \"./tutorial/short_instructions_box.png\";\nimport tall_instructions_box from \"./tutorial/tall_instructions_box.png\";\nimport loading_screen_castle_coders_text from \"./loading_screen_castle_coders_text.png\";\n\nimport { Dimensions } from \"../App\";\nimport { Loading } from \"../loading\";\n\nexport const images = {\n  castle_interior: loadImage(castle_interior),\n  goblin: loadImage(goblin),\n  hero: loadImage(hero),\n  heart_mark: loadImage(heart_mark),\n  witch_idle: loadImage(witch_idle),\n  witch_wand_raised: loadImage(witch_wand_raised),\n  witch_wand_lowered: loadImage(witch_wand_lowered),\n  extended_home_background: loadImage(extended_home_background),\n  settings_box: loadImage(settings_box),\n  language_dropdown_arrow: loadImage(language_dropdown_arrow),\n  loading_screen_castle_coders_text: loadImage(\n    loading_screen_castle_coders_text\n  ),\n  buttons: {\n    home: {\n      start: loadImage(home_screen_start_button),\n      shop: loadImage(home_screen_shop_button),\n      settings: loadImage(home_screen_settings_button),\n    },\n    puzzle: {\n      edit: loadImage(puzzle_screen_edit_button),\n      view: loadImage(puzzle_screen_view_button),\n      play: loadImage(puzzle_screen_play_button),\n      pause: loadImage(puzzle_screen_pause_button),\n      home: loadImage(puzzle_screen_home_button),\n    },\n    settings: {\n      language: loadImage(language_button),\n      credits: loadImage(credits_button),\n      reset_to_level_one: loadImage(reset_to_level_one_button),\n      close: loadImage(settings_screen_close_button),\n    },\n  },\n  tutorial: {\n    finger: loadImage(finger),\n    short_instructions_box: loadImage(short_instructions_box),\n    tall_instructions_box: loadImage(tall_instructions_box),\n  },\n} as const;\n\nexport const buttonOverlays = {\n  home: {\n    start: whiteOverlay(images.buttons.home.start),\n    shop: whiteOverlay(images.buttons.home.shop),\n    settings: whiteOverlay(images.buttons.home.settings),\n  },\n  puzzle: {\n    all_purpose: whiteOverlay(images.buttons.puzzle.home),\n  },\n  settings: {\n    language: whiteOverlay(images.buttons.settings.language),\n    credits: whiteOverlay(images.buttons.settings.credits),\n    reset_to_level_one: whiteOverlay(\n      images.buttons.settings.reset_to_level_one\n    ),\n    close: whiteOverlay(images.buttons.settings.close),\n  },\n} as const;\n\nexport const damageOverlays = {\n  hero: redOverlay(images.hero),\n  goblin: redOverlay(images.goblin),\n  witch_idle: redOverlay(images.witch_idle),\n  heart_mark: blackOverlay(images.heart_mark),\n} as const;\n\nexport const NONEXTENDED_HOME_BACKGROUND_DIMENSIONS: Dimensions = {\n  width: 2039,\n  height: 1447,\n};\n\nexport const EXTENDED_HOME_BACKGROUND_DIMENSIONS: Dimensions = {\n  width: 4096,\n  height: 1938,\n};\n\nconst MAIN_AREA_DIMENSIONS_IN_EXTENDED_HOME_COORDS = {\n  width: EXTENDED_HOME_BACKGROUND_DIMENSIONS.width / 3,\n  height: EXTENDED_HOME_BACKGROUND_DIMENSIONS.height / 2,\n};\n\nexport const START_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS: Rectangle = {\n  topLeft: { x: 1038, y: 134 },\n  dimensions: { width: 935, height: 348 },\n};\n\nexport const SHOP_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS: Rectangle = {\n  topLeft: { x: 1104, y: 599 },\n  dimensions: { width: 684, height: 279 },\n};\n\nexport const SETTINGS_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS: Rectangle = {\n  topLeft: { x: 1097, y: 906 },\n  dimensions: { width: 647, height: 312 },\n};\n\nconst JAPANESE_FROM_BEGINNING_TEXT_BBOX_IN_EXTENDED_HOME_COORDS: Rectangle = {\n  topLeft: { x: 1135 * 2, y: 577 * 2 },\n  dimensions: { width: 130 * 2, height: 24 * 2 },\n};\n\nconst JAPANESE_FROM_LAST_SAVED_TEXT_BBOX_IN_EXTENDED_HOME_COORDS: Rectangle = {\n  topLeft: { x: 1137 * 2, y: 577 * 2 },\n  dimensions: { width: 127 * 2, height: 24 * 2 },\n};\n\nconst JAPANESE_SHOP_TEXT_BBOX_IN_EXTENDED_HOME_COORDS: Rectangle = {\n  topLeft: { x: 1131 * 2, y: 721 * 2 },\n  dimensions: { width: 98 * 2, height: 24 * 2 },\n};\n\nconst JAPANESE_SETTINGS_TEXT_BBOX_IN_EXTENDED_HOME_COORDS: Rectangle = {\n  topLeft: { x: 1139 * 2, y: 835 * 2 },\n  dimensions: { width: 58 * 2, height: 26 * 2 },\n};\n\nconst JAPANESE_SETTINGS_BOX_ALL_TEXT_BBOX_IN_NONEXTENDED_HOME_COORDS: Rectangle =\n  {\n    topLeft: { x: 600, y: 523 },\n    dimensions: { width: 640, height: 337 },\n  };\n\nexport const JAPANESE_TEXT_BBOX_IN_EXTENDED_HOME_COORDS = {\n  fromBeginning: JAPANESE_FROM_BEGINNING_TEXT_BBOX_IN_EXTENDED_HOME_COORDS,\n  fromLastSaved: JAPANESE_FROM_LAST_SAVED_TEXT_BBOX_IN_EXTENDED_HOME_COORDS,\n  shop: JAPANESE_SHOP_TEXT_BBOX_IN_EXTENDED_HOME_COORDS,\n  settings: JAPANESE_SETTINGS_TEXT_BBOX_IN_EXTENDED_HOME_COORDS,\n} as const;\n\nexport const JAPANESE_TEXT_BBOX_IN_NONEXTENDED_HOME_COORDS = {\n  settings_box_all:\n    JAPANESE_SETTINGS_BOX_ALL_TEXT_BBOX_IN_NONEXTENDED_HOME_COORDS,\n} as const;\n\nexport const SETTINGS_BOX_BBOX_IN_NONEXTENDED_HOME_COORDS: Rectangle = {\n  topLeft: { x: 0, y: 0 },\n  dimensions: { width: 2039, height: 1447 },\n};\n\nexport const LANGUAGE_DROPDOWN_ARROW_BBOX_IN_NONEXTENDED_HOME_COORDS: Rectangle =\n  {\n    topLeft: { x: 1075, y: 523 },\n    dimensions: { width: 59, height: 59 },\n  };\n\nexport const JAPAN_FLAG_BBOX_IN_NONEXTENDED_HOME_COORDS: Rectangle = {\n  topLeft: { x: 653, y: 527 },\n  dimensions: { width: 71, height: 51 },\n};\n\nexport const LANGUAGE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS: Rectangle = {\n  topLeft: { x: 501, y: 490 },\n  dimensions: { width: 719, height: 120 },\n};\n\nexport const CREDITS_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS: Rectangle = {\n  topLeft: { x: 504, y: 626 },\n  dimensions: { width: 715, height: 121 },\n};\n\nexport const RESET_TO_LEVEL_ONE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS: Rectangle =\n  {\n    topLeft: { x: 505, y: 757 },\n    dimensions: { width: 714, height: 126 },\n  };\n\nexport const SETTINGS_SCREEN_CLOSE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS: Rectangle =\n  {\n    topLeft: { x: 1375, y: 506 },\n    dimensions: { width: 157, height: 137 },\n  };\n\nexport const LOADING_SCREEN_CASTLE_CODERS_TEXT_BBOX_IN_EXTENDED_HOME_COORDS: Rectangle =\n  {\n    topLeft: { x: 2107, y: 1097 },\n    dimensions: { width: 442, height: 231 },\n  };\n\nexport function convertRectangleFromExtendedHomeCoordsToNonextendedHomeCoords(\n  extended: Rectangle\n): Rectangle {\n  const x =\n    ((extended.topLeft.x - MAIN_AREA_DIMENSIONS_IN_EXTENDED_HOME_COORDS.width) /\n      MAIN_AREA_DIMENSIONS_IN_EXTENDED_HOME_COORDS.width) *\n    NONEXTENDED_HOME_BACKGROUND_DIMENSIONS.width;\n\n  const y =\n    ((extended.topLeft.y -\n      MAIN_AREA_DIMENSIONS_IN_EXTENDED_HOME_COORDS.height) /\n      MAIN_AREA_DIMENSIONS_IN_EXTENDED_HOME_COORDS.height) *\n    NONEXTENDED_HOME_BACKGROUND_DIMENSIONS.height;\n\n  const width =\n    (extended.dimensions.width /\n      MAIN_AREA_DIMENSIONS_IN_EXTENDED_HOME_COORDS.width) *\n    NONEXTENDED_HOME_BACKGROUND_DIMENSIONS.width;\n\n  const height =\n    (extended.dimensions.height /\n      MAIN_AREA_DIMENSIONS_IN_EXTENDED_HOME_COORDS.height) *\n    NONEXTENDED_HOME_BACKGROUND_DIMENSIONS.height;\n\n  return { topLeft: { x, y }, dimensions: { width, height } };\n}\n\nfunction loadImage(src: string): Loading<HTMLImageElement> {\n  const i = new Image() as HTMLImageElement & {\n    ready: Promise<HTMLImageElement>;\n    hasLoaded: boolean;\n  };\n\n  i.hasLoaded = false;\n  i.ready = new Promise((resolve, reject) => {\n    i.addEventListener(\"load\", () => {\n      i.hasLoaded = true;\n      resolve(i);\n    });\n    i.addEventListener(\"error\", reject);\n  });\n  i.src = src;\n\n  return i;\n}\n\nfunction whiteOverlay(\n  loadingImg: Loading<HTMLImageElement>\n): Loading<HTMLCanvasElement> {\n  return getOverlay(loadingImg, { r: 255, g: 255, b: 255, a: 255 });\n}\n\nfunction blackOverlay(\n  loadingImg: Loading<HTMLImageElement>\n): Loading<HTMLCanvasElement> {\n  return getOverlay(loadingImg, { r: 0, g: 0, b: 0, a: 255 });\n}\n\nfunction redOverlay(\n  loadingImg: Loading<HTMLImageElement>\n): Loading<HTMLCanvasElement> {\n  return getOverlay(loadingImg, { r: 255, g: 0, b: 0, a: 255 });\n}\n\nfunction getOverlay(\n  loadingImg: Loading<HTMLImageElement>,\n  color: Color32\n): Loading<HTMLCanvasElement> {\n  const canvas = document.createElement(\"canvas\") as HTMLCanvasElement & {\n    ready: Promise<HTMLCanvasElement>;\n    hasLoaded: boolean;\n  };\n  const ctx = canvas.getContext(\"2d\")!;\n\n  canvas.hasLoaded = false;\n  canvas.ready = loadingImg.ready.then((img) => {\n    const width = img.naturalWidth;\n    const height = img.naturalHeight;\n\n    canvas.width = width;\n    canvas.height = height;\n\n    ctx.drawImage(img, 0, 0);\n\n    const imgData = ctx.getImageData(0, 0, width, height);\n    const bytes = imgData.data;\n    for (let i = 0; i < bytes.length; i += 4) {\n      if (bytes[i + 3] > 0) {\n        bytes[i] = color.r;\n        bytes[i + 1] = color.g;\n        bytes[i + 2] = color.b;\n        bytes[i + 3] = color.a;\n      }\n    }\n\n    ctx.clearRect(0, 0, width, height);\n    ctx.putImageData(imgData, 0, 0);\n\n    return canvas;\n  });\n\n  return canvas;\n}\n","import { typecheckedAssertNever } from \"../App\";\nimport \"./fonts.css\";\n\nexport const fonts = {\n  checkpoint: waitForFont(\"Checkpoint\"),\n  lato: waitForFont(\"Lato Regular\"),\n  notoSans: waitForFont(\"Noto Sans JP\"),\n  twemojiCountryFlags: waitForFont(\"Twemoji Country Flags\"),\n} as const;\n\nfunction waitForFont(fontFamily: string): Promise<FontFace> {\n  return new Promise((resolve, reject) => {\n    pollForFont(fontFamily, resolve, reject);\n  });\n}\n\nfunction pollForFont(\n  fontFamily: string,\n  resolve: (f: FontFace) => void,\n  reject: (e: unknown) => void\n): void {\n  document.fonts.ready.then((fontSet): void | Promise<void> => {\n    const targetFont = Array.from(fontSet.values()).find(\n      (font) => font.family === fontFamily\n    );\n    if (targetFont === undefined) {\n      requestAnimationFrame(() => {\n        pollForFont(fontFamily, resolve, reject);\n      });\n      return;\n    }\n\n    switch (targetFont.status) {\n      case \"unloaded\":\n        targetFont.load().then(resolve, reject);\n        return;\n      case \"error\":\n        reject(new Error(`Failed to load ${JSON.stringify(fontFamily)}.`));\n        return;\n      case \"loaded\":\n      case \"loading\":\n        targetFont.loaded.then(resolve, reject);\n        return;\n      default:\n        typecheckedAssertNever(targetFont.status);\n    }\n  });\n}\n","export interface Vec2 {\n  readonly x: number;\n  readonly y: number;\n}\n\nexport function addVec(a: Vec2, b: Vec2): Vec2 {\n  return { x: a.x + b.x, y: a.y + b.y };\n}\n\nexport function subVec(a: Vec2, b: Vec2): Vec2 {\n  return { x: a.x - b.x, y: a.y - b.y };\n}\n\nexport function invertY(a: Vec2): Vec2 {\n  return { x: a.x, y: -a.y };\n}\n\nexport function scaleVec(v: Vec2, s: number): Vec2 {\n  return { x: v.x * s, y: v.y * s };\n}\n","const radius = 3;\nconst cornerTangentDistance = radius * Math.sqrt(3);\nconst sideLength = 30;\nconst height = (Math.sqrt(3) * sideLength) / 2;\nconst legTangentOffsetY = (Math.sqrt(3) / 2) * cornerTangentDistance;\nconst legTangentOffsetX = 0.5 * cornerTangentDistance;\n\nconst path = `M${cornerTangentDistance} 0\n\nL${sideLength - cornerTangentDistance} 0\n\nA${radius} ${radius} 0 0 1 ${\n  sideLength - legTangentOffsetX\n} ${legTangentOffsetY}\n\nL${sideLength / 2 + legTangentOffsetX} ${height - legTangentOffsetY}\n\nA${radius} ${radius} 0 0 1 ${sideLength / 2 - legTangentOffsetX} ${\n  height - legTangentOffsetY\n}\n\nL${legTangentOffsetX} ${legTangentOffsetY}\n\nA${radius} ${radius} 0 0 1 ${cornerTangentDistance} 0`;\n\nexport const DROPDOWN_ARROW = {\n  path,\n  width: sideLength,\n  height,\n  radius,\n  cornerTangentDistance,\n} as const;\n","// Based on https://www.svgviewer.dev/s/412909/trashcan\n// License: MIT.\n// Made by xivapi: https://github.com/xivapi/\n\nexport const TRASH_CAN = {\n  path: \"M767 336H233q-12 0-21 9t-9 21l38 505q1 13 12 21.5t30 8.5h434q18 0 29-8.5t13-21.5l38-505q0-12-9-21t-21-9zM344 841q-10 0-18-9t-8-21l-26-386q0-12 9-20.5t21-8.5 21 8.5 9 20.5l18 386q0 12-7.5 21t-18.5 9zm182-31q0 13-7.5 22t-18.5 9-18.5-9-7.5-22l-4-385q0-12 9-20.5t21-8.5 21 8.5 9 20.5zm156 1q0 12-8 21t-18 9q-11 0-18.5-9t-7.5-21l18-386q0-12 9-20.5t21-8.5 21 8.5 9 20.5zm101-605l-179-30q-12-2-15-15l-8-33q-4-20-14-26-6-3-22-3h-90q-16 0-23 3-10 6-13 26l-8 33q-2 13-15 15l-179 30q-19 3-31.5 14.5T173 249v28q0 9 6.5 15t15.5 6h610q9 0 15.5-6t6.5-15v-28q0-17-12.5-28.5T783 206z\",\n  bbox: {\n    topLeft: { x: 173, y: 99 },\n    dimensions: { width: 654, height: 802 },\n  },\n} as const;\n","import React from \"react\";\nimport { Dimensions } from \"./App\";\nimport { Vec2, addVec, subVec, invertY } from \"./vec2\";\nimport { DROPDOWN_ARROW } from \"./icons/dropdownArrow\";\nimport { TRASH_CAN } from \"./icons/trash_can\";\n\nexport enum BlockDefKind {\n  Command = \"Command\",\n  Query = \"Query\",\n}\n\nexport enum BlockSignaturePartKind {\n  Label = \"Label\",\n  Dropdown = \"Dropdown\",\n  Expression = \"Expression\",\n  CommandSequence = \"CommandSequence\",\n}\n\nexport enum RenderSpecKind {\n  Block = \"Block\",\n  BlockSequence = \"BlockSequence\",\n  Label = \"Label\",\n  Dropdown = \"Dropdown\",\n  Literal = \"Literal\",\n}\n\nexport enum UiTouchStateKind {\n  BlockDrag = \"BlockDrag\",\n  Dropdown = \"Dropdown\",\n  Literal = \"Literal\",\n  DropdownMenuChoice = \"DropdownMenuChoice\",\n  DropdownMenuScroll = \"DropdownMenuScroll\",\n}\n\nexport type BlockEditorCursor =\n  | \"default\"\n  | \"grab\"\n  | \"grabbing\"\n  | \"text\"\n  | \"pointer\";\n\nenum BlockPartKind {\n  Label = \"Label\",\n  Dropdown = \"Dropdown\",\n  Literal = \"Literal\",\n  Block = \"Block\",\n  CommandSequence = \"CommandSequence\",\n}\n\nexport const CANVAS_ADDRESS_PART = \"canvas\";\nexport const PALETTE_ADDRESS_PART = \"palette\";\nexport const DRAGGEE_ADDRESS_PART = \"draggee\";\nexport const ARG_DROPDOWN_ADDRESS_PART = \"argDropdown\";\nexport const ARG_EXPRESSION_ADDRESS_PART = \"argExpression\";\nexport const ARG_COMMAND_SEQUENCE_ADDRESS_PART = \"argCommandSequence\";\nexport const INSERTION_MARK_ADDRESS_PART = \"insertionMark\";\n\nconst NODE_ADDRESS_PART_STRINGS: Record<NodeAddressPartString, true> = {\n  [CANVAS_ADDRESS_PART]: true,\n  [PALETTE_ADDRESS_PART]: true,\n  [DRAGGEE_ADDRESS_PART]: true,\n  [ARG_DROPDOWN_ADDRESS_PART]: true,\n  [ARG_EXPRESSION_ADDRESS_PART]: true,\n  [ARG_COMMAND_SEQUENCE_ADDRESS_PART]: true,\n  [INSERTION_MARK_ADDRESS_PART]: true,\n};\n\nconst COMMAND_INSERTION_MARK_SENTINEL = \"COMMAND_INSERTION_MARK_SENTINEL\";\n\nconst MINIMAL_LOREM_IPSUM_TEXT_FOR_FONT_MEASUREMENT = \"M\";\n\nconst DATA_TOUCH_ROLES = {\n  canvasBackground: \"CanvasBackground\",\n  paletteBackground: \"PaletteBackground\",\n  blockAddressPrefix: \"BlockAddress_\",\n  dropdownAddressPrefix: \"DropdownAddress_\",\n  literalAddressPrefix: \"LiteralAddress_\",\n  dropdownChoicePrefix: \"DropdownChoice_\",\n} as const;\nconst DOM_ID_SUFFIXES = {\n  root: \"_Root\",\n  editorClipPath: \"_EditorClipPath\",\n  backgroundDotPattern: \"_BackgroundDotPattern\",\n  paletteClipPath: \"_PaletteClipPath\",\n  dropdownMenuClipPath: \"_DropdownMenuClipPath\",\n  canvasBackground: \"_CanvasBackground\",\n} as const;\n\nconst TRANSPARENT: Color32 = { r: 0, g: 0, b: 0, a: 0 };\n\nexport interface BlockEditorProps<BlockKind extends string | number | symbol> {\n  readonly config: BlockEditorConfig<BlockKind>;\n  readonly state: BlockEditorState<BlockKind>;\n\n  readonly measureText: (\n    text: string,\n    font: string,\n    fontSizePx: number\n  ) => Dimensions;\n  readonly setState: (\n    updater: (\n      oldState: BlockEditorState<BlockKind>\n    ) => BlockEditorState<BlockKind>,\n    callback?: (newState: BlockEditorState<BlockKind>) => void\n  ) => void;\n}\n\nexport interface BlockEditorConfig<BlockKind extends string | number | symbol> {\n  readonly componentInstanceUid: string;\n  readonly sizing: BlockEditorSizingProps;\n  readonly colors: BlockEditorColorProps<BlockKind>;\n  readonly fonts: BlockEditorFontProps;\n  readonly defs: BlockDefs<BlockKind>;\n}\n\nexport interface BlockEditorSizingProps {\n  readonly editorBounds: Rectangle;\n  readonly paletteBounds: Rectangle;\n  readonly canvasBounds: Rectangle;\n\n  readonly blockDropdownMenuDimensions: Dimensions;\n\n  readonly dividers: readonly Rectangle[];\n\n  readonly blockBorder: number;\n  readonly blockLiteralBorder: number;\n  readonly blockDropdownBorder: number;\n  readonly blockBorderRadius: number;\n  readonly paletteLeftPadding: number;\n  readonly paletteRightPadding: number;\n  readonly paletteTopPadding: number;\n  readonly paletteBottomPadding: number;\n  readonly paletteInterblockMargin: number;\n  readonly paletteTrashCanHorizontalMargin: number;\n  readonly paletteTrashCanVerticalMargin: number;\n  readonly snapVerticalRange: number;\n  readonly snapHorizontalRange: number;\n  readonly backgroundDotRadius: number;\n  readonly blockLabelTextSizePx: number;\n  readonly blockDropdownTextSizePx: number;\n  readonly blockDropdownHorizontalPadding: number;\n  readonly blockDropdownVerticalPadding: number;\n  readonly blockDropdownArrowWidth: number;\n  readonly blockDropdownArrowLeftMargin: number;\n  readonly blockDropdownArrowVerticalMargin: number;\n  readonly blockLiteralTextSizePx: number;\n  readonly blockLiteralHorizontalPadding: number;\n  readonly blockLiteralVerticalPadding: number;\n  readonly queryInsertionMarkHaloRadius: number;\n  readonly blockDropdownMenuTextSizePx: number;\n  readonly blockDropdownMenuBorder: number;\n  readonly blockDropdownMenuBorderRadius: number;\n  readonly blockDropdownMenuHorizontalPadding: number;\n  readonly blockDropdownMenuChoiceVerticalMargin: number;\n  readonly blockDropdownMenuInterChoiceDividerHeight: number;\n\n  readonly commandSocket: {\n    readonly indent: number;\n    readonly majorBase: number;\n    readonly minorBase: number;\n    readonly height: number;\n  };\n\n  readonly commandSequenceArgIndent: number;\n  readonly interBlockPartHorizontalMargin: number;\n  readonly commandBlockHorizontalPadding: number;\n  readonly commandBlockVerticalPadding: number;\n  readonly queryBlockVerticalPadding: number;\n}\n\nexport interface BlockEditorColorProps<\n  BlockKind extends string | number | symbol\n> {\n  readonly background: Color32;\n  readonly paletteBackground: Color32;\n  readonly paletteTrashCan: Color32;\n  readonly backgroundDot: Color32;\n  readonly divider: Color32;\n  readonly blocks: ReadonlyRecord<BlockKind, ColorTriplet>;\n  readonly unreachableBlocks: ReadonlyRecord<BlockKind, ColorTriplet>;\n  readonly blockLabelText: Color32;\n  readonly blockLiteralText: Color32;\n  readonly blockDropdownText: Color32;\n  readonly blockLiteralBackground: Color32;\n  readonly commandInsertionMark: Color32;\n  readonly queryInsertionMarkHalo: Color32;\n}\n\nexport interface BlockEditorFontProps {\n  readonly blockLabelFont: string;\n  readonly blockDropdownFont: string;\n  readonly blockLiteralFont: string;\n  readonly blockDropdownMenuFont: string;\n}\n\nexport type BlockDefs<BlockKind extends string | number | symbol> =\n  ReadonlyRecord<BlockKind, BlockDef<BlockKind>>;\n\nexport type BlockDef<BlockKind> =\n  | CommandBlockDef<BlockKind>\n  | QueryBlockDef<BlockKind>;\n\nexport interface CommandBlockDef<BlockKind> {\n  readonly kind: BlockDefKind.Command;\n  readonly isDeletable: boolean;\n  readonly isEntryPoint: boolean;\n  readonly hasFemaleSocket: boolean;\n  readonly hasMaleSocket: boolean;\n  readonly signature: readonly CommandSignaturePart[];\n  readonly defaultArgs: BlockArgs<BlockKind>;\n}\n\nexport type CommandSignaturePart =\n  | BlockSignatureLabel\n  | BlockSignatureDropdown\n  | BlockSignatureExpression\n  | BlockSignatureCommandSequence;\n\nexport interface QueryBlockDef<BlockKind> {\n  readonly kind: BlockDefKind.Query;\n  readonly isDeletable: boolean;\n  readonly signature: readonly QuerySignaturePart[];\n  readonly defaultArgs: BlockArgs<BlockKind>;\n}\n\nexport type QuerySignaturePart =\n  | BlockSignatureLabel\n  | BlockSignatureDropdown\n  | BlockSignatureExpression;\n\nexport interface BlockSignatureLabel {\n  readonly kind: BlockSignaturePartKind.Label;\n  readonly text: string;\n}\n\nexport interface BlockSignatureDropdown {\n  readonly kind: BlockSignaturePartKind.Dropdown;\n  readonly choices: readonly string[];\n}\n\nexport interface BlockSignatureExpression {\n  readonly kind: BlockSignaturePartKind.Expression;\n}\n\nexport interface BlockSignatureCommandSequence {\n  readonly kind: BlockSignaturePartKind.CommandSequence;\n}\n\nexport interface BlockEditorState<BlockKind> {\n  readonly palette: BlockPaletteState<BlockKind>;\n  readonly uiTouch: null | UiTouchState;\n  readonly literalEditor: null | LiteralEditorState;\n  readonly dropdownMenu: null | DropdownMenuState;\n  readonly canvas: BlockCanvasState<BlockKind>;\n  readonly cursor: BlockEditorCursor;\n}\n\nexport interface BlockPaletteState<BlockKind> {\n  readonly blockKinds: readonly BlockKind[];\n  readonly scroll: Vec2;\n  readonly scrollInProgress: null | ScrollInProgressState;\n}\n\nexport interface ScrollInProgressState {\n  readonly startClientPosition: Vec2;\n  readonly currentClientPosition: Vec2;\n}\n\nexport type UiTouchState =\n  | BlockDragState\n  | DropdownTouchState\n  | LiteralTouchState\n  | DropdownMenuChoiceTouchState\n  | DropdownMenuScrollState;\n\nexport interface BlockDragState {\n  readonly kind: UiTouchStateKind.BlockDrag;\n  readonly hasPositionChangedSinceDragStart: boolean;\n  readonly draggeeOriginalAddress: NodeAddress;\n  readonly insertionMarkAddress: null | NodeAddress;\n  readonly startClientPosition: Vec2;\n  readonly currentClientPosition: Vec2;\n}\n\nexport interface DropdownTouchState {\n  readonly kind: UiTouchStateKind.Dropdown;\n  readonly dropdownAddress: NodeAddress;\n  readonly startClientPosition: Vec2;\n}\n\nexport interface LiteralTouchState {\n  readonly kind: UiTouchStateKind.Literal;\n  readonly literalAddress: NodeAddress;\n  readonly startClientPosition: Vec2;\n}\n\nexport interface DropdownMenuChoiceTouchState {\n  readonly kind: UiTouchStateKind.DropdownMenuChoice;\n  readonly choiceIndex: number;\n  readonly startClientPosition: Vec2;\n}\n\nexport interface DropdownMenuScrollState {\n  readonly kind: UiTouchStateKind.DropdownMenuScroll;\n  readonly startClientPosition: Vec2;\n  readonly currentClientPosition: Vec2;\n}\n\nexport interface LiteralEditorState {\n  readonly literalAddress: NodeAddress;\n  readonly literalSource: string;\n}\n\nexport interface DropdownMenuState {\n  readonly dropdownAddress: NodeAddress;\n  readonly value: string;\n  readonly choices: readonly string[];\n  readonly scroll: Vec2;\n}\n\nexport type NodeAddress = readonly NodeAddressPart[];\n\nexport type NodeAddressPart = number | NodeAddressPartString;\n\nexport type NodeAddressPartString =\n  | typeof CANVAS_ADDRESS_PART\n  | typeof PALETTE_ADDRESS_PART\n  | typeof DRAGGEE_ADDRESS_PART\n  | typeof INSERTION_MARK_ADDRESS_PART\n  | typeof ARG_DROPDOWN_ADDRESS_PART\n  | typeof ARG_EXPRESSION_ADDRESS_PART\n  | typeof ARG_COMMAND_SEQUENCE_ADDRESS_PART;\n\nexport interface BlockCanvasState<BlockKind> {\n  readonly items: readonly CanvasItem<BlockKind>[];\n  readonly scroll: Vec2;\n  readonly scrollInProgress: null | ScrollInProgressState;\n}\n\nexport interface CanvasItem<BlockKind> {\n  readonly position: Vec2;\n  readonly content: BlockSequence<BlockKind>;\n}\n\nexport type BlockSequence<BlockKind> = readonly Block<BlockKind>[];\n\nexport interface Block<BlockKind> {\n  readonly isLiteral: false;\n  readonly kind: BlockKind;\n  readonly args: BlockArgs<BlockKind>;\n}\n\nexport interface BlockArgs<BlockKind> {\n  readonly expressions: readonly Expression<BlockKind>[];\n  readonly dropdowns: readonly string[];\n  readonly sequences: readonly BlockSequence<BlockKind>[];\n}\n\nexport type Expression<BlockKind> = Block<BlockKind> | Literal;\n\nexport interface Literal {\n  readonly isLiteral: true;\n  readonly source: string;\n}\n\nexport interface Rectangle {\n  topLeft: Vec2;\n  dimensions: Dimensions;\n}\n\nexport interface ColorTriplet {\n  readonly primary: Color32;\n  readonly secondary: Color32;\n  readonly tertiary: Color32;\n}\n\nexport interface Color32 {\n  readonly r: number;\n  readonly g: number;\n  readonly b: number;\n  readonly a: number;\n}\n\nexport type ReadonlyRecord<K extends string | number | symbol, T> = {\n  readonly [P in K]: T;\n};\n\ninterface BlockViewProps<BlockKind extends string | number | symbol> {\n  readonly spec: BlockRenderSpec<BlockKind>;\n  readonly editor: BlockEditor<BlockKind>;\n}\n\ninterface CommandBlockBodyProps {\n  readonly teeth: readonly CommandBlockTooth[];\n  readonly editorSizing: BlockEditorSizingProps;\n  readonly outerColor: Color32;\n  readonly innerColor: Color32;\n}\n\ninterface CommandBlockTooth {\n  readonly rbox: Rectangle;\n  readonly hasFemaleSocket: boolean;\n  readonly hasMaleSocket: boolean;\n}\n\ninterface QueryBlockBodyProps {\n  readonly rbox: Rectangle;\n  readonly editorSizing: BlockEditorSizingProps;\n  readonly outerColor: Color32;\n  readonly innerColor: Color32;\n}\n\ninterface DropdownViewProps<BlockKind extends string | number | symbol> {\n  readonly spec: DropdownRenderSpec<BlockKind>;\n  readonly editor: BlockEditor<BlockKind>;\n}\n\ninterface LiteralViewProps<BlockKind extends string | number | symbol> {\n  readonly spec: LiteralRenderSpec<BlockKind>;\n  readonly editor: BlockEditor<BlockKind>;\n}\n\ninterface BlockSequenceViewProps<BlockKind extends string | number | symbol> {\n  readonly spec: BlockSequenceRenderSpec<BlockKind>;\n  readonly editor: BlockEditor<BlockKind>;\n}\n\nexport interface BlockRenderSpec<BlockKind extends string | number | symbol> {\n  readonly kind: RenderSpecKind.Block;\n  readonly block: Block<BlockKind>;\n  readonly address: NodeAddress;\n  readonly isUnreachable: boolean;\n  readonly rbox: Rectangle;\n  readonly labelSpecs: readonly LabelRenderSpec[];\n  readonly subexpressionSpecs: readonly ExpressionRenderSpec<BlockKind>[];\n  readonly subsequenceSpecs: readonly BlockSequenceRenderSpec<BlockKind>[];\n  readonly dropdownSpecs: readonly DropdownRenderSpec<BlockKind>[];\n  /** `teeth` is an empty array if and only if `block` is a query. */\n  readonly teeth: readonly CommandBlockTooth[];\n}\n\ntype ExpressionRenderSpec<BlockKind extends string | number | symbol> =\n  | BlockRenderSpec<BlockKind>\n  | LiteralRenderSpec<BlockKind>;\n\nexport interface BlockSequenceRenderSpec<\n  BlockKind extends string | number | symbol\n> {\n  readonly kind: RenderSpecKind.BlockSequence;\n  readonly sequence: BlockSequence<BlockKind>;\n  readonly address: NodeAddress;\n  readonly blockSpecs: readonly BlockRenderSpec<BlockKind>[];\n  readonly rbox: Rectangle;\n}\n\ninterface LabelRenderSpec {\n  readonly kind: RenderSpecKind.Label;\n  readonly text: string;\n  readonly rbox: Rectangle;\n}\n\ninterface LiteralRenderSpec<BlockKind extends string | number | symbol> {\n  readonly kind: RenderSpecKind.Literal;\n  readonly parentBlockKind: BlockKind;\n  readonly source: string;\n  readonly hasQueryInsertionMark: boolean;\n  readonly address: NodeAddress;\n  readonly isUnreachable: boolean;\n  readonly rbox: Rectangle;\n}\n\ninterface DropdownRenderSpec<BlockKind extends string | number | symbol> {\n  readonly kind: RenderSpecKind.Dropdown;\n  readonly parentBlockKind: BlockKind;\n  readonly value: string;\n  readonly hasPendingEditMark: boolean;\n  readonly address: NodeAddress;\n  readonly isUnreachable: boolean;\n  readonly rbox: Rectangle;\n}\n\ninterface CommandBlockFemaleSocketPathPoints {\n  readonly ofTLs: Vec2;\n  readonly ofTLe: Vec2;\n  readonly ofBLs: Vec2;\n  readonly ofBLe: Vec2;\n  readonly ofBRs: Vec2;\n  readonly ofBRe: Vec2;\n  readonly ofTRs: Vec2;\n  readonly ofTRe: Vec2;\n\n  readonly ifTLs: Vec2;\n  readonly ifTLe: Vec2;\n  readonly ifBLs: Vec2;\n  readonly ifBLe: Vec2;\n  readonly ifBRs: Vec2;\n  readonly ifBRe: Vec2;\n  readonly ifTRs: Vec2;\n  readonly ifTRe: Vec2;\n}\n\ninterface InsertionMark<BlockKind> {\n  readonly address: NodeAddress;\n  readonly draggee: BlockSequence<BlockKind>;\n}\n\ntype BlockPart<BlockKind extends string | number | symbol> =\n  | BlockPartLabel\n  | BlockPartDropdown\n  | BlockPartLiteral\n  | BlockPartBlock<BlockKind>\n  | BlockPartCommandSequence<BlockKind>;\n\ninterface BlockPartLabel {\n  readonly kind: BlockPartKind.Label;\n  readonly text: string;\n}\n\ninterface BlockPartDropdown {\n  readonly kind: BlockPartKind.Dropdown;\n  readonly value: string;\n}\n\ninterface BlockPartLiteral {\n  readonly kind: BlockPartKind.Literal;\n  readonly source: string;\n}\n\ninterface BlockPartBlock<BlockKind> {\n  readonly kind: BlockPartKind.Block;\n  readonly block: Block<BlockKind>;\n}\n\ninterface BlockPartCommandSequence<BlockKind> {\n  readonly kind: BlockPartKind.CommandSequence;\n  readonly sequence: BlockSequence<BlockKind>;\n}\n\ninterface CommandInsertionMarkCandidate {\n  readonly topAddress: null | NodeAddress;\n  readonly bottomAddress: null | NodeAddress;\n  readonly rbox: Rectangle;\n}\n\ninterface QueryInsertionMarkCandidate {\n  readonly address: NodeAddress;\n  readonly rbox: Rectangle;\n}\n\ninterface DropdownMenuRenderSpec {\n  readonly choiceSpecs: readonly DropdownMenuChoiceRenderSpec[];\n  readonly rbox: Rectangle;\n}\n\ninterface DropdownMenuChoiceRenderSpec {\n  readonly text: string;\n  readonly textRbox: Rectangle;\n  readonly rbox: Rectangle;\n}\n\nexport class BlockEditor<\n  BlockKind extends string | number | symbol\n> extends React.Component<BlockEditorProps<BlockKind>> {\n  public static generateComponentInstanceUid(): string {\n    return `BlockEditor_${Date.now().toString(36)}_${Math.random()\n      .toString(36)\n      .replace(\"0.\", \"\")}`;\n  }\n\n  constructor(props: BlockEditorProps<BlockKind>) {\n    super(props);\n\n    this.bindMethods();\n  }\n\n  bindMethods(): void {\n    this.onEditorOverlayTouchStart = this.onEditorOverlayTouchStart.bind(this);\n    this.onEditorOverlayMouseDown = this.onEditorOverlayMouseDown.bind(this);\n    this.onWindowTouchMove = this.onWindowTouchMove.bind(this);\n    this.onWindowMouseMove = this.onWindowMouseMove.bind(this);\n    this.onWindowTouchEnd = this.onWindowTouchEnd.bind(this);\n    this.onWindowMouseUp = this.onWindowMouseUp.bind(this);\n  }\n\n  addEventListeners(): void {\n    window.addEventListener(\"touchmove\", this.onWindowTouchMove);\n    window.addEventListener(\"mousemove\", this.onWindowMouseMove);\n\n    window.addEventListener(\"touchend\", this.onWindowTouchEnd);\n    window.addEventListener(\"mouseup\", this.onWindowMouseUp);\n  }\n\n  componentDidMount(): void {\n    this.addEventListeners();\n  }\n\n  componentWillUnmount(): void {\n    this.removeEventListeners();\n  }\n\n  removeEventListeners(): void {\n    window.removeEventListener(\"touchmove\", this.onWindowTouchMove);\n    window.removeEventListener(\"mousemove\", this.onWindowMouseMove);\n\n    window.removeEventListener(\"touchend\", this.onWindowTouchEnd);\n    window.removeEventListener(\"mouseup\", this.onWindowMouseUp);\n  }\n\n  render(): React.ReactElement {\n    const { props } = this;\n    const { state, config } = props;\n    const { colors, sizing, componentInstanceUid } = config;\n    const { dropdownMenu, canvas, uiTouch } = state;\n    const totalScroll =\n      canvas.scrollInProgress === null\n        ? canvas.scroll\n        : {\n            x:\n              canvas.scroll.x +\n              canvas.scrollInProgress.currentClientPosition.x -\n              canvas.scrollInProgress.startClientPosition.x,\n            y:\n              canvas.scroll.y +\n              canvas.scrollInProgress.currentClientPosition.y -\n              canvas.scrollInProgress.startClientPosition.y,\n          };\n    const draggeeSpec = getDraggeeSpecOrNull(props);\n\n    const showTrashCan =\n      uiTouch !== null &&\n      uiTouch.kind === UiTouchStateKind.BlockDrag &&\n      uiTouch.hasPositionChangedSinceDragStart &&\n      !isPointInBlockCanvasDomElement(\n        uiTouch.currentClientPosition,\n        componentInstanceUid\n      );\n    const trashCanScale = Math.min(\n      (sizing.paletteBounds.dimensions.width -\n        2 * sizing.paletteTrashCanHorizontalMargin) /\n        TRASH_CAN.bbox.dimensions.width,\n      (sizing.paletteBounds.dimensions.height -\n        2 * sizing.paletteTrashCanVerticalMargin) /\n        TRASH_CAN.bbox.dimensions.height\n    );\n    const trashCanOffset = {\n      x:\n        trashCanScale * TRASH_CAN.bbox.dimensions.width <\n        sizing.paletteBounds.dimensions.width\n          ? 0.5 *\n            (sizing.paletteBounds.dimensions.width -\n              trashCanScale * TRASH_CAN.bbox.dimensions.width)\n          : 0,\n      y:\n        trashCanScale * TRASH_CAN.bbox.dimensions.height <\n        sizing.paletteBounds.dimensions.height\n          ? 0.5 *\n            (sizing.paletteBounds.dimensions.height -\n              trashCanScale * TRASH_CAN.bbox.dimensions.height)\n          : 0,\n    };\n    const trashCanPosition = addVec(\n      sizing.paletteBounds.topLeft,\n      trashCanOffset\n    );\n    const trashCan = (\n      <path\n        transform={`scale(${trashCanScale}) translate(${\n          -TRASH_CAN.bbox.topLeft.x + trashCanPosition.x / trashCanScale\n        } ${-TRASH_CAN.bbox.topLeft.y + trashCanPosition.y / trashCanScale})`}\n        d={TRASH_CAN.path}\n        fill={stringifyColor(colors.paletteTrashCan)}\n      />\n    );\n\n    return (\n      <g\n        id={componentInstanceUid + DOM_ID_SUFFIXES.root}\n        style={{ cursor: state.cursor, userSelect: \"none\" }}\n      >\n        <defs>\n          <pattern\n            id={componentInstanceUid + DOM_ID_SUFFIXES.backgroundDotPattern}\n            x={totalScroll.x}\n            y={totalScroll.y}\n            width=\"50\"\n            height=\"50\"\n            patternUnits=\"userSpaceOnUse\"\n          >\n            <circle\n              cx=\"25\"\n              cy=\"25\"\n              r={sizing.backgroundDotRadius}\n              fill={stringifyColor(colors.backgroundDot)}\n            />\n          </pattern>\n\n          <clipPath id={componentInstanceUid + DOM_ID_SUFFIXES.paletteClipPath}>\n            <rect\n              x={sizing.paletteBounds.topLeft.x}\n              y={sizing.paletteBounds.topLeft.y}\n              width={sizing.paletteBounds.dimensions.width}\n              height={sizing.paletteBounds.dimensions.height}\n            />\n          </clipPath>\n\n          <clipPath id={componentInstanceUid + DOM_ID_SUFFIXES.editorClipPath}>\n            <rect\n              x={sizing.editorBounds.topLeft.x}\n              y={sizing.editorBounds.topLeft.y}\n              width={sizing.editorBounds.dimensions.width}\n              height={sizing.editorBounds.dimensions.height}\n            />\n          </clipPath>\n        </defs>\n\n        <g\n          clipPath={`url(#${componentInstanceUid}${DOM_ID_SUFFIXES.editorClipPath})`}\n        >\n          <rect\n            x={sizing.editorBounds.topLeft.x}\n            y={sizing.editorBounds.topLeft.y}\n            width={sizing.editorBounds.dimensions.width}\n            height={sizing.editorBounds.dimensions.height}\n            fill={stringifyColor(colors.background)}\n          />\n          <rect\n            x={sizing.editorBounds.topLeft.x}\n            y={sizing.editorBounds.topLeft.y}\n            width={sizing.editorBounds.dimensions.width}\n            height={sizing.editorBounds.dimensions.height}\n            fill={`url(#${componentInstanceUid}${DOM_ID_SUFFIXES.backgroundDotPattern})`}\n          />\n          <rect\n            id={componentInstanceUid + DOM_ID_SUFFIXES.canvasBackground}\n            data-touch-role={DATA_TOUCH_ROLES.canvasBackground}\n            x={sizing.canvasBounds.topLeft.x}\n            y={sizing.canvasBounds.topLeft.y}\n            width={sizing.canvasBounds.dimensions.width}\n            height={sizing.canvasBounds.dimensions.height}\n            fill={stringifyColor(TRANSPARENT)}\n          />\n          <g transform={`translate(${totalScroll.x} ${totalScroll.y})`}>\n            {getCanvasItemRenderSpecs(props).map((spec) => (\n              <BlockSequenceView<BlockKind>\n                key={spec.address.map(stringifyNodeAddressPart).join(\"_\")}\n                spec={spec}\n                editor={this}\n              />\n            ))}\n          </g>\n          <rect\n            data-touch-role={DATA_TOUCH_ROLES.paletteBackground}\n            x={sizing.paletteBounds.topLeft.x}\n            y={sizing.paletteBounds.topLeft.y}\n            width={sizing.paletteBounds.dimensions.width}\n            height={sizing.paletteBounds.dimensions.height}\n            fill={stringifyColor(colors.paletteBackground)}\n          />\n          <g\n            clipPath={`url(#${componentInstanceUid}${DOM_ID_SUFFIXES.paletteClipPath})`}\n          >\n            {showTrashCan\n              ? trashCan\n              : getPaletteBlockRenderSpecs(props).map((spec) => (\n                  <BlockView\n                    key={spec.address.map(stringifyNodeAddressPart).join(\"_\")}\n                    spec={spec}\n                    editor={this}\n                  />\n                ))}\n          </g>\n          {sizing.dividers.map((divider, dividerIndex) => (\n            <rect\n              key={dividerIndex}\n              x={divider.topLeft.x}\n              y={divider.topLeft.y}\n              width={divider.dimensions.width}\n              height={divider.dimensions.height}\n              fill={stringifyColor(colors.divider)}\n            />\n          ))}\n          {draggeeSpec !== null && (\n            <g transform={`translate(${totalScroll.x} ${totalScroll.y})`}>\n              <BlockSequenceView spec={draggeeSpec} editor={this} />\n            </g>\n          )}\n          {dropdownMenu !== null && (\n            <DropdownMenu menu={dropdownMenu} editorProps={props} />\n          )}\n          <rect\n            onTouchStart={this.onEditorOverlayTouchStart}\n            onMouseDown={this.onEditorOverlayMouseDown}\n            x={sizing.editorBounds.topLeft.x}\n            y={sizing.editorBounds.topLeft.y}\n            width={sizing.editorBounds.dimensions.width}\n            height={sizing.editorBounds.dimensions.height}\n            fill=\"transparent\"\n          />\n        </g>\n      </g>\n    );\n  }\n\n  setState(): void {\n    throw new Error(\n      \"BlockEditor does not manage its own state. It defers state management to its parent. Thus, this.setState should never be called. You most likely meant to call this.props.setState.\"\n    );\n  }\n\n  onEditorOverlayTouchStart(event: React.TouchEvent): void {\n    // TODO: Properly handle multi-touch events.\n    if (event.touches.length > 1) {\n      return;\n    }\n\n    this.onEditorOverlayPointerDown({\n      x: event.touches[0].clientX,\n      y: event.touches[0].clientY,\n    });\n  }\n\n  onEditorOverlayMouseDown(event: React.MouseEvent): void {\n    this.onEditorOverlayPointerDown({\n      x: event.clientX,\n      y: event.clientY,\n    });\n  }\n\n  onEditorOverlayPointerDown(pointerClientPosition: Vec2): void {\n    const touchRole = getTouchRoleAtClientPosition(\n      pointerClientPosition,\n      this.props.config.componentInstanceUid\n    );\n\n    if (touchRole === null) {\n      return;\n    }\n\n    if (touchRole === DATA_TOUCH_ROLES.canvasBackground) {\n      this.onBlockCanvasBackgroundPointerDown(pointerClientPosition);\n      return;\n    }\n\n    if (touchRole === DATA_TOUCH_ROLES.paletteBackground) {\n      this.onBlockPaletteBackgroundPointerDown(pointerClientPosition);\n      return;\n    }\n\n    const blockAddress = getBlockAddressFromDataTouchRole(touchRole);\n    if (blockAddress !== null) {\n      this.onBlockPointerDown(pointerClientPosition, blockAddress);\n      return;\n    }\n\n    const literalAddress = getLiteralAddressFromDataTouchRole(touchRole);\n    if (literalAddress !== null) {\n      this.onLiteralPointerDown(pointerClientPosition, literalAddress);\n      return;\n    }\n\n    const dropdownAddress = getDropdownAddressFromDataTouchRole(touchRole);\n    if (dropdownAddress !== null) {\n      this.onDropdownPointerDown(pointerClientPosition, dropdownAddress);\n      return;\n    }\n\n    const dropdownChoiceIndex =\n      getDropdownChoiceIndexFromDataTouchRole(touchRole);\n    if (dropdownChoiceIndex !== null) {\n      this.onDropdownMenuChoicePointerDown(\n        pointerClientPosition,\n        dropdownChoiceIndex\n      );\n      return;\n    }\n  }\n\n  onWindowTouchMove(event: TouchEvent): void {\n    if (event.touches.length !== 1) {\n      return;\n    }\n\n    this.onWindowPointerMove({\n      x: event.touches[0].clientX,\n      y: event.touches[0].clientY,\n    });\n  }\n\n  onWindowMouseMove(event: MouseEvent): void {\n    this.onWindowPointerMove({\n      x: event.clientX,\n      y: event.clientY,\n    });\n  }\n\n  onWindowPointerMove(pointerClientPosition: Vec2): void {\n    const { props } = this;\n\n    props.setState((oldState) => {\n      let state = oldState;\n\n      if (state.canvas.scrollInProgress !== null) {\n        state = {\n          ...state,\n          canvas: {\n            ...state.canvas,\n            scrollInProgress: {\n              ...state.canvas.scrollInProgress,\n              currentClientPosition: pointerClientPosition,\n            },\n          },\n        };\n      }\n\n      if (\n        state.palette.scrollInProgress !== null &&\n        state.palette.blockKinds.length > 0\n      ) {\n        const { sizing, defs } = props.config;\n        const paletteSpecs = getPaletteBlockRenderSpecs({\n          ...props,\n          state,\n        });\n        const scrollDisplacement = subVec(\n          pointerClientPosition,\n          state.palette.scrollInProgress.startClientPosition\n        );\n        const totalScroll = addVec(state.palette.scroll, scrollDisplacement);\n        const paletteSpecMaxWidth = Math.max(\n          ...paletteSpecs.map((spec) => spec.rbox.dimensions.width)\n        );\n        const minScrollX = -Math.max(\n          0,\n          paletteSpecMaxWidth -\n            (sizing.paletteBounds.dimensions.width -\n              (sizing.paletteLeftPadding + sizing.paletteRightPadding))\n        );\n        const lastPaletteSpec = paletteSpecs[paletteSpecs.length - 1];\n        const lastPaletteSpecDef = defs[lastPaletteSpec.block.kind];\n        const maleSocketBonusHeight =\n          lastPaletteSpecDef.kind === BlockDefKind.Command &&\n          lastPaletteSpecDef.hasMaleSocket\n            ? sizing.commandSocket.height\n            : 0;\n        const paletteSpecTotalHeight =\n          lastPaletteSpec.rbox.topLeft.y +\n          lastPaletteSpec.rbox.dimensions.height -\n          paletteSpecs[0].rbox.topLeft.y +\n          maleSocketBonusHeight;\n        const minScrollY = -Math.max(\n          0,\n          paletteSpecTotalHeight -\n            (sizing.paletteBounds.dimensions.height -\n              (sizing.paletteTopPadding + sizing.paletteBottomPadding))\n        );\n        const startClientPositionAdjustment = {\n          x:\n            totalScroll.x > 0\n              ? totalScroll.x\n              : totalScroll.x < minScrollX\n              ? totalScroll.x - minScrollX\n              : 0,\n          y:\n            totalScroll.y > 0\n              ? totalScroll.y\n              : totalScroll.y < minScrollY\n              ? totalScroll.y - minScrollY\n              : 0,\n        };\n        state = {\n          ...state,\n          palette: {\n            ...state.palette,\n            scrollInProgress: {\n              startClientPosition: addVec(\n                state.palette.scrollInProgress.startClientPosition,\n                startClientPositionAdjustment\n              ),\n              currentClientPosition: pointerClientPosition,\n            },\n          },\n        };\n      }\n\n      if (\n        state.uiTouch !== null &&\n        state.uiTouch.kind === UiTouchStateKind.BlockDrag\n      ) {\n        const hypotheticalCanvasItemSpecsAssumingDragPositionMovedSinceDragStart =\n          getCanvasItemRenderSpecs({\n            ...props,\n            state: {\n              ...state,\n              uiTouch: {\n                ...state.uiTouch,\n                hasPositionChangedSinceDragStart: true,\n              },\n            },\n          });\n        const draggeeSpec = getDraggeeSpec({ ...props, state }, state.uiTouch);\n\n        const isDisplacementZero = areVectorsEqual(\n          pointerClientPosition,\n          state.uiTouch.startClientPosition\n        );\n\n        state = {\n          ...state,\n          uiTouch: {\n            ...state.uiTouch,\n            hasPositionChangedSinceDragStart:\n              state.uiTouch.hasPositionChangedSinceDragStart ||\n              !isDisplacementZero,\n            currentClientPosition: pointerClientPosition,\n            insertionMarkAddress: getInsertionMarkAddressBasedOnDraggee(\n              props,\n              hypotheticalCanvasItemSpecsAssumingDragPositionMovedSinceDragStart,\n              draggeeSpec,\n              state.uiTouch.draggeeOriginalAddress,\n              pointerClientPosition\n            ),\n          },\n        };\n      }\n\n      if (\n        state.uiTouch !== null &&\n        (state.uiTouch.kind === UiTouchStateKind.Literal ||\n          state.uiTouch.kind === UiTouchStateKind.Dropdown) &&\n        !areVectorsEqual(\n          state.uiTouch.startClientPosition,\n          pointerClientPosition\n        )\n      ) {\n        const dropdownOrLiteralParentBlockAddress =\n          state.uiTouch.kind === UiTouchStateKind.Literal\n            ? state.uiTouch.literalAddress.slice(0, -2)\n            : state.uiTouch.dropdownAddress.slice(0, -2);\n        const hypotheticalPropsAssumingDragPositionMovedSinceDragStart: BlockEditorProps<BlockKind> & {\n          state: { uiTouch: BlockDragState };\n        } = {\n          ...props,\n          state: {\n            ...state,\n            uiTouch: {\n              kind: UiTouchStateKind.BlockDrag,\n              draggeeOriginalAddress: dropdownOrLiteralParentBlockAddress,\n              insertionMarkAddress: null,\n              hasPositionChangedSinceDragStart: true,\n              startClientPosition: state.uiTouch.startClientPosition,\n              currentClientPosition: pointerClientPosition,\n            },\n          },\n        };\n        const hypotheticalCanvasItemSpecsAssumingDragPositionMovedSinceDragStart =\n          getCanvasItemRenderSpecs(\n            hypotheticalPropsAssumingDragPositionMovedSinceDragStart\n          );\n        const hypotheticalDraggeeSpec = getDraggeeSpec(\n          hypotheticalPropsAssumingDragPositionMovedSinceDragStart,\n          hypotheticalPropsAssumingDragPositionMovedSinceDragStart.state.uiTouch\n        );\n\n        state = {\n          ...state,\n          uiTouch: {\n            kind: UiTouchStateKind.BlockDrag,\n            draggeeOriginalAddress: dropdownOrLiteralParentBlockAddress,\n            insertionMarkAddress: getInsertionMarkAddressBasedOnDraggee(\n              hypotheticalPropsAssumingDragPositionMovedSinceDragStart,\n              hypotheticalCanvasItemSpecsAssumingDragPositionMovedSinceDragStart,\n              hypotheticalDraggeeSpec,\n              dropdownOrLiteralParentBlockAddress,\n              pointerClientPosition\n            ),\n            hasPositionChangedSinceDragStart: true,\n            startClientPosition: state.uiTouch.startClientPosition,\n            currentClientPosition: pointerClientPosition,\n          },\n        };\n      }\n\n      if (\n        state.uiTouch !== null &&\n        (state.uiTouch.kind === UiTouchStateKind.DropdownMenuScroll ||\n          state.uiTouch.kind === UiTouchStateKind.DropdownMenuChoice) &&\n        state.dropdownMenu !== null\n      ) {\n        const dropdownMenuSpec = getDropdownMenuRenderSpec({\n          menu: state.dropdownMenu,\n          editorProps: { ...props, state },\n        });\n        const displacement = subVec(\n          pointerClientPosition,\n          state.uiTouch.startClientPosition\n        );\n        const totalScroll = addVec(state.dropdownMenu.scroll, displacement);\n        const minScrollX = -Math.max(\n          0,\n          Math.max(\n            ...dropdownMenuSpec.choiceSpecs.map(\n              (choiceSpec) => choiceSpec.rbox.dimensions.width\n            )\n          ) -\n            (dropdownMenuSpec.rbox.dimensions.width -\n              2 * props.config.sizing.blockDropdownMenuBorder)\n        );\n        const choiceTotalHeight =\n          dropdownMenuSpec.choiceSpecs[dropdownMenuSpec.choiceSpecs.length - 1]\n            .rbox.topLeft.y +\n          dropdownMenuSpec.choiceSpecs[dropdownMenuSpec.choiceSpecs.length - 1]\n            .rbox.dimensions.height -\n          dropdownMenuSpec.choiceSpecs[0].rbox.topLeft.y;\n        const minScrollY = -Math.max(\n          0,\n          choiceTotalHeight - dropdownMenuSpec.rbox.dimensions.height\n        );\n        const startClientPositionAdjustment = {\n          x:\n            totalScroll.x > 0\n              ? totalScroll.x\n              : totalScroll.x < minScrollX\n              ? totalScroll.x - minScrollX\n              : 0,\n          y:\n            totalScroll.y > 0\n              ? totalScroll.y\n              : totalScroll.y < minScrollY\n              ? totalScroll.y - minScrollY\n              : 0,\n        };\n        state = {\n          ...state,\n          uiTouch: {\n            kind: UiTouchStateKind.DropdownMenuScroll,\n            startClientPosition: addVec(\n              state.uiTouch.startClientPosition,\n              startClientPositionAdjustment\n            ),\n            currentClientPosition: pointerClientPosition,\n          },\n        };\n      }\n\n      state = {\n        ...state,\n        cursor: getBlockEditorCursorBasedOnMousePosition(\n          pointerClientPosition,\n          this.props.config.componentInstanceUid,\n          state\n        ),\n      };\n\n      // TODO: Handle other logic\n\n      return state;\n    });\n  }\n\n  onWindowTouchEnd(event: TouchEvent): void {\n    this.onWindowPointerUp({\n      x: event.changedTouches[0].clientX,\n      y: event.changedTouches[0].clientY,\n    });\n  }\n\n  onWindowMouseUp(event: MouseEvent): void {\n    this.onWindowPointerUp({ x: event.clientX, y: event.clientY });\n  }\n\n  onWindowPointerUp(pointerClientPosition: Vec2): void {\n    const { props } = this;\n    props.setState((oldState) => {\n      let state = oldState;\n\n      if (state.canvas.scrollInProgress !== null) {\n        state = {\n          ...state,\n          canvas: {\n            ...state.canvas,\n            scroll: addVec(\n              state.canvas.scroll,\n              subVec(\n                state.canvas.scrollInProgress.currentClientPosition,\n                state.canvas.scrollInProgress.startClientPosition\n              )\n            ),\n            scrollInProgress: null,\n          },\n        };\n      }\n\n      if (state.palette.scrollInProgress !== null) {\n        state = {\n          ...state,\n          palette: {\n            ...state.palette,\n            scroll: addVec(\n              state.palette.scroll,\n              subVec(\n                state.palette.scrollInProgress.currentClientPosition,\n                state.palette.scrollInProgress.startClientPosition\n              )\n            ),\n            scrollInProgress: null,\n          },\n        };\n      }\n\n      if (\n        state.uiTouch !== null &&\n        state.uiTouch.kind === UiTouchStateKind.BlockDrag &&\n        !state.uiTouch.hasPositionChangedSinceDragStart\n      ) {\n        state = { ...state, uiTouch: null };\n      }\n\n      if (\n        state.uiTouch !== null &&\n        state.uiTouch.kind === UiTouchStateKind.BlockDrag\n      ) {\n        const draggeeSpec = getDraggeeSpec(props, state.uiTouch);\n\n        state = {\n          ...state,\n          canvas: {\n            ...state.canvas,\n            items: applyDragToCanvasItems({\n              editorProps: props,\n              canvasItems: state.canvas.items,\n              draggeeSpec,\n              draggeeOriginalAddress: state.uiTouch.draggeeOriginalAddress,\n              insertionAddress: state.uiTouch.insertionMarkAddress,\n            }),\n          },\n          uiTouch: null,\n        };\n      }\n\n      if (\n        state.uiTouch !== null &&\n        state.uiTouch.kind === UiTouchStateKind.Literal &&\n        state.uiTouch.literalAddress[0] !== CANVAS_ADDRESS_PART\n      ) {\n        state = {\n          ...state,\n          uiTouch: null,\n        };\n      }\n\n      if (\n        state.uiTouch !== null &&\n        state.uiTouch.kind === UiTouchStateKind.Dropdown &&\n        state.uiTouch.dropdownAddress[0] !== CANVAS_ADDRESS_PART\n      ) {\n        state = {\n          ...state,\n          uiTouch: null,\n        };\n      }\n\n      if (\n        state.uiTouch !== null &&\n        state.uiTouch.kind === UiTouchStateKind.Literal &&\n        state.uiTouch.literalAddress[0] === CANVAS_ADDRESS_PART\n      ) {\n        const { literalAddress } = state.uiTouch;\n        const literalParentBlock = getSubexpressionParentBlockSpec(\n          {\n            ...props,\n            state,\n          },\n          literalAddress\n        ).block;\n\n        const literalIndex = expectNumericAddressPart(\n          literalAddress[literalAddress.length - 1]\n        );\n        const literal = literalParentBlock.args.expressions[literalIndex];\n        if (!literal.isLiteral) {\n          throw new Error(\n            \"state.uiTouch.literalAddress points to a non-literal node.\"\n          );\n        }\n        state = {\n          ...state,\n          uiTouch: null,\n          literalEditor: {\n            literalAddress,\n            literalSource: literal.source,\n          },\n        };\n      }\n\n      if (\n        state.uiTouch !== null &&\n        state.uiTouch.kind === UiTouchStateKind.Dropdown &&\n        state.uiTouch.dropdownAddress[0] === CANVAS_ADDRESS_PART\n      ) {\n        const { dropdownAddress } = state.uiTouch;\n        const dropdownParentBlock = getDropdownParentBlockSpec(\n          {\n            ...props,\n            state,\n          },\n          dropdownAddress\n        ).block;\n\n        const dropdownIndex = expectNumericAddressPart(\n          dropdownAddress[dropdownAddress.length - 1]\n        );\n        const dropdownValue = dropdownParentBlock.args.dropdowns[dropdownIndex];\n        const dropdownParentBlockSignature: readonly (\n          | CommandSignaturePart\n          | QuerySignaturePart\n        )[] = props.config.defs[dropdownParentBlock.kind].signature;\n        const dropdownChoices = dropdownParentBlockSignature.filter(\n          (part): part is BlockSignatureDropdown =>\n            part.kind === BlockSignaturePartKind.Dropdown\n        )[dropdownIndex].choices;\n        state = {\n          ...state,\n          uiTouch: null,\n          dropdownMenu: {\n            dropdownAddress,\n            value: dropdownValue,\n            choices: dropdownChoices,\n            scroll: { x: 0, y: 0 },\n          },\n        };\n      }\n\n      if (\n        state.uiTouch !== null &&\n        state.uiTouch.kind === UiTouchStateKind.DropdownMenuScroll\n      ) {\n        if (state.dropdownMenu !== null) {\n          state = {\n            ...state,\n            dropdownMenu: {\n              ...state.dropdownMenu,\n              scroll: addVec(\n                state.dropdownMenu.scroll,\n                subVec(\n                  state.uiTouch.currentClientPosition,\n                  state.uiTouch.startClientPosition\n                )\n              ),\n            },\n          };\n        }\n\n        state = { ...state, uiTouch: null };\n      }\n\n      if (\n        state.uiTouch !== null &&\n        state.uiTouch.kind === UiTouchStateKind.DropdownMenuChoice\n      ) {\n        if (state.dropdownMenu !== null) {\n          const { dropdownAddress } = state.dropdownMenu;\n          const dropdownValue =\n            state.dropdownMenu.choices[state.uiTouch.choiceIndex];\n          state = {\n            ...state,\n            literalEditor: null,\n            dropdownMenu: null,\n            canvas: updateDropdownValueInCanvas(\n              state.canvas,\n              dropdownAddress,\n              dropdownValue\n            ),\n          };\n        }\n\n        state = { ...state, uiTouch: null };\n      }\n\n      state = {\n        ...state,\n        cursor: getBlockEditorCursorBasedOnMousePosition(\n          pointerClientPosition,\n          this.props.config.componentInstanceUid,\n          state\n        ),\n      };\n\n      // TODO: Handle other logic\n\n      return state;\n    });\n  }\n\n  onBlockCanvasBackgroundPointerDown(pointerClientPosition: Vec2): void {\n    this.props.setState((oldState) => ({\n      ...oldState,\n      literalEditor: null,\n      dropdownMenu: null,\n      canvas: {\n        ...oldState.canvas,\n        scrollInProgress: {\n          startClientPosition: pointerClientPosition,\n          currentClientPosition: pointerClientPosition,\n        },\n      },\n    }));\n  }\n\n  onBlockPaletteBackgroundPointerDown(pointerClientPosition: Vec2): void {\n    this.props.setState((oldState) => ({\n      ...oldState,\n      literalEditor: null,\n      dropdownMenu: null,\n      palette: {\n        ...oldState.palette,\n        scrollInProgress: {\n          startClientPosition: pointerClientPosition,\n          currentClientPosition: pointerClientPosition,\n        },\n      },\n    }));\n  }\n\n  onBlockPointerDown(pointerClientPosition: Vec2, address: NodeAddress): void {\n    this.props.setState((oldState) => {\n      let state = oldState;\n\n      state = {\n        ...state,\n        literalEditor: null,\n        dropdownMenu: null,\n      };\n\n      if (\n        address[0] === PALETTE_ADDRESS_PART ||\n        (address[0] === CANVAS_ADDRESS_PART &&\n          isPointInBlockCanvasDomElement(\n            pointerClientPosition,\n            this.props.config.componentInstanceUid\n          ))\n      ) {\n        state = {\n          ...state,\n          uiTouch: {\n            kind: UiTouchStateKind.BlockDrag,\n            hasPositionChangedSinceDragStart: false,\n            draggeeOriginalAddress: address,\n            insertionMarkAddress: null,\n            startClientPosition: pointerClientPosition,\n            currentClientPosition: pointerClientPosition,\n          },\n        };\n      }\n\n      state = {\n        ...state,\n        cursor: getBlockEditorCursorBasedOnMousePosition(\n          pointerClientPosition,\n          this.props.config.componentInstanceUid,\n          state\n        ),\n      };\n\n      return state;\n    });\n  }\n\n  onLiteralPointerDown(\n    pointerClientPosition: Vec2,\n    address: NodeAddress\n  ): void {\n    this.props.setState((oldState) => {\n      let state = oldState;\n\n      state = {\n        ...state,\n        literalEditor: null,\n        dropdownMenu: null,\n      };\n\n      state = {\n        ...state,\n        uiTouch: {\n          kind: UiTouchStateKind.Literal,\n          literalAddress: address,\n          startClientPosition: pointerClientPosition,\n        },\n      };\n\n      state = {\n        ...state,\n        cursor: getBlockEditorCursorBasedOnMousePosition(\n          pointerClientPosition,\n          this.props.config.componentInstanceUid,\n          state\n        ),\n      };\n\n      return state;\n    });\n  }\n\n  onDropdownPointerDown(\n    pointerClientPosition: Vec2,\n    address: NodeAddress\n  ): void {\n    this.props.setState((oldState) => {\n      let state = oldState;\n\n      state = {\n        ...state,\n        literalEditor: null,\n        dropdownMenu: null,\n      };\n\n      if (\n        address[0] === PALETTE_ADDRESS_PART ||\n        (address[0] === CANVAS_ADDRESS_PART &&\n          isPointInBlockCanvasDomElement(\n            pointerClientPosition,\n            this.props.config.componentInstanceUid\n          ))\n      ) {\n        state = {\n          ...state,\n          uiTouch: {\n            kind: UiTouchStateKind.Dropdown,\n            dropdownAddress: address,\n            startClientPosition: pointerClientPosition,\n          },\n        };\n      }\n\n      state = {\n        ...state,\n        cursor: getBlockEditorCursorBasedOnMousePosition(\n          pointerClientPosition,\n          this.props.config.componentInstanceUid,\n          state\n        ),\n      };\n\n      return state;\n    });\n  }\n\n  onDropdownMenuChoicePointerDown(\n    currentClientPosition: Vec2,\n    dropdownChoiceIndex: number\n  ): void {\n    this.props.setState((oldState) => {\n      let state = oldState;\n\n      if (state.dropdownMenu === null) {\n        throw new Error(\n          \"Impossible: a dropdown menu choice was touched, but there is no dropdown menu.\"\n        );\n      }\n\n      state = {\n        ...state,\n        uiTouch: {\n          kind: UiTouchStateKind.DropdownMenuChoice,\n          choiceIndex: dropdownChoiceIndex,\n          startClientPosition: currentClientPosition,\n        },\n      };\n\n      return state;\n    });\n  }\n}\n\nexport function updateCanvasToMatchLiteralEditor<\n  BlockKind extends string | number | symbol\n>(\n  canvas: BlockCanvasState<BlockKind>,\n  literalEditor: LiteralEditorState\n): BlockCanvasState<BlockKind> {\n  return {\n    items: canvas.items.map((item, itemIndex) => ({\n      position: item.position,\n      content: updateBlockSequenceToMatchLiteralEditor(\n        item.content,\n        [CANVAS_ADDRESS_PART, itemIndex],\n        literalEditor\n      ),\n    })),\n    scroll: canvas.scroll,\n    scrollInProgress: canvas.scrollInProgress,\n  };\n}\n\nfunction updateBlockSequenceToMatchLiteralEditor<\n  BlockKind extends string | number | symbol\n>(\n  sequence: BlockSequence<BlockKind>,\n  address: NodeAddress,\n  literalEditor: LiteralEditorState\n): BlockSequence<BlockKind> {\n  return sequence.map((block, blockIndex) =>\n    updateBlockToMatchLiteralEditor(\n      block,\n      address.concat([blockIndex]),\n      literalEditor\n    )\n  );\n}\n\nfunction updateBlockToMatchLiteralEditor<\n  BlockKind extends string | number | symbol\n>(\n  block: Block<BlockKind>,\n  address: NodeAddress,\n  literalEditor: LiteralEditorState\n): Block<BlockKind> {\n  return {\n    isLiteral: block.isLiteral,\n    kind: block.kind,\n    args: {\n      expressions: block.args.expressions.map(\n        (expression, expressionIndex): Expression<BlockKind> => {\n          const expressionAddress = address.concat([\n            ARG_EXPRESSION_ADDRESS_PART,\n            expressionIndex,\n          ]);\n\n          if (\n            areNodeAddressesEqual(\n              expressionAddress,\n              literalEditor.literalAddress\n            )\n          ) {\n            return {\n              isLiteral: true,\n              source: literalEditor.literalSource,\n            };\n          }\n\n          if (expression.isLiteral) {\n            return expression;\n          }\n\n          return updateBlockToMatchLiteralEditor(\n            expression,\n            expressionAddress,\n            literalEditor\n          );\n        }\n      ),\n      dropdowns: block.args.dropdowns,\n      sequences: block.args.sequences.map((sequence, sequenceIndex) =>\n        updateBlockSequenceToMatchLiteralEditor(\n          sequence,\n          address.concat([ARG_COMMAND_SEQUENCE_ADDRESS_PART, sequenceIndex]),\n          literalEditor\n        )\n      ),\n    },\n  };\n}\n\nfunction stringifyColor(color: Color32): string {\n  if (!isValidColor(color)) {\n    throw new Error(\n      `Cannot stringify color because it is invalid. color: ${JSON.stringify(\n        color\n      )}.`\n    );\n  }\n\n  return (\n    \"#\" +\n    leftpadWithZero(color.r.toString(16), 2) +\n    leftpadWithZero(color.g.toString(16), 2) +\n    leftpadWithZero(color.b.toString(16), 2) +\n    leftpadWithZero(color.a.toString(16), 2)\n  );\n}\n\nfunction isValidColor(color: Color32): boolean {\n  const { r, g, b, a } = color;\n  return (\n    Number.isInteger(r) &&\n    0 <= r &&\n    r <= 255 &&\n    Number.isInteger(g) &&\n    0 <= g &&\n    g <= 255 &&\n    Number.isInteger(b) &&\n    0 <= b &&\n    b <= 255 &&\n    Number.isInteger(a) &&\n    0 <= a &&\n    a <= 255\n  );\n}\n\nfunction leftpadWithZero(s: string, desiredLength: number): string {\n  if (!Number.isInteger(desiredLength)) {\n    throw new Error(\n      `Cannot leftpad because desiredLength is not an integer. desiredLength: ${desiredLength}.`\n    );\n  }\n\n  if (s.length > desiredLength) {\n    throw new Error(\n      `Cannot leftpad because string is too long to pad. desiredLength: ${desiredLength}. Actual length: ${\n        s.length\n      }. String: ${JSON.stringify(s)}`\n    );\n  }\n\n  return \"0\".repeat(desiredLength - s.length) + s;\n}\n\nfunction BlockView<BlockKind extends string | number | symbol>({\n  spec,\n  editor,\n}: BlockViewProps<BlockKind>): React.ReactElement {\n  const { colors } = editor.props.config;\n  const blockColorTriplet =\n    spec.address[0] === INSERTION_MARK_ADDRESS_PART\n      ? {\n          primary: colors.commandInsertionMark,\n          secondary: TRANSPARENT,\n          tertiary: TRANSPARENT,\n        }\n      : spec.isUnreachable\n      ? colors.unreachableBlocks[spec.block.kind]\n      : colors.blocks[spec.block.kind];\n  const blockDef = editor.props.config.defs[spec.block.kind];\n  const blockBody =\n    blockDef.kind === BlockDefKind.Command ? (\n      <CommandBlockBody\n        teeth={spec.teeth}\n        editorSizing={editor.props.config.sizing}\n        outerColor={blockColorTriplet.tertiary}\n        innerColor={blockColorTriplet.primary}\n      />\n    ) : (\n      <QueryBlockBody\n        rbox={spec.rbox}\n        editorSizing={editor.props.config.sizing}\n        outerColor={blockColorTriplet.tertiary}\n        innerColor={blockColorTriplet.primary}\n      />\n    );\n\n  const labelViews = spec.labelSpecs.map((labelSpec, i) => (\n    <text\n      key={i}\n      x={labelSpec.rbox.topLeft.x}\n      y={labelSpec.rbox.topLeft.y}\n      fontSize={editor.props.config.sizing.blockLabelTextSizePx}\n      fontFamily={editor.props.config.fonts.blockLabelFont}\n      dominantBaseline=\"middle\"\n      fill={stringifyColor(editor.props.config.colors.blockLabelText)}\n    >\n      {labelSpec.text}\n    </text>\n  ));\n\n  const dropdownViews = spec.dropdownSpecs.map((dropdownSpec, i) => (\n    <DropdownView key={i} spec={dropdownSpec} editor={editor} />\n  ));\n\n  return (\n    <>\n      <g data-touch-role={getDataTouchRoleFromBlockAddress(spec.address)}>\n        {blockBody}\n        {labelViews}\n      </g>\n\n      {dropdownViews}\n\n      {spec.subexpressionSpecs.map((subSpec) =>\n        subSpec.kind === RenderSpecKind.Block ? (\n          <BlockView\n            key={subSpec.address.map(stringifyNodeAddressPart).join(\"_\")}\n            spec={subSpec}\n            editor={editor}\n          />\n        ) : (\n          <LiteralView\n            key={subSpec.address.map(stringifyNodeAddressPart).join(\"_\")}\n            spec={subSpec}\n            editor={editor}\n          />\n        )\n      )}\n\n      {spec.subsequenceSpecs.map((subsequenceSpec) => (\n        <BlockSequenceView\n          key={subsequenceSpec.address.map(stringifyNodeAddressPart).join(\"_\")}\n          spec={subsequenceSpec}\n          editor={editor}\n        />\n      ))}\n    </>\n  );\n}\n\nfunction CommandBlockBody({\n  teeth,\n  editorSizing,\n  outerColor,\n  innerColor,\n}: CommandBlockBodyProps): React.ReactElement {\n  if (teeth.length === 0) {\n    throw new Error(\"Attemped to render a CommandBlockBody with no teeth.\");\n  }\n\n  const outerPath = getCommandBlockOuterBodyPath(teeth, editorSizing);\n  const innerPath = getCommandBlockInnerBodyPath(teeth, editorSizing);\n\n  return (\n    <>\n      <path d={outerPath} fill={stringifyColor(outerColor)} />\n      <path d={innerPath} fill={stringifyColor(innerColor)} />\n    </>\n  );\n}\n\nfunction getCommandBlockOuterBodyPath(\n  teeth: readonly CommandBlockTooth[],\n  editorSizing: BlockEditorSizingProps\n): string {\n  if (teeth.length === 0) {\n    throw new Error(\n      \"Called getCommandBlockOuterBodyPath with an empty `teeth` argument.\"\n    );\n  }\n\n  const innerRadius = editorSizing.blockBorderRadius;\n  const outerRadius = innerRadius + editorSizing.blockBorder;\n\n  let outerPath = `M${teeth[0].rbox.topLeft.x + outerRadius} ${\n    teeth[0].rbox.topLeft.y\n  }`;\n\n  for (let toothIndex = 0; toothIndex < teeth.length; ++toothIndex) {\n    const isLastTooth = toothIndex === teeth.length - 1;\n\n    if (isLastTooth) {\n      const blockTLe_to_mTLe = get_blockTLe_to_omTLe_path(\n        teeth,\n        toothIndex,\n        editorSizing\n      );\n\n      const mTLe_to_firstToothBlockTLe = get_omTLe_to_firstToothBlockTLe_path(\n        teeth,\n        toothIndex,\n        editorSizing\n      );\n\n      outerPath += \"\\n\\n\" + blockTLe_to_mTLe;\n      outerPath += \"\\n\\n\" + mTLe_to_firstToothBlockTLe;\n\n      break;\n    }\n\n    const blockTLe_to_mTLe = get_blockTLe_to_omTLe_path(\n      teeth,\n      toothIndex,\n      editorSizing\n    );\n\n    const mTLe_to_nextToothBlockTLe_assumingSequenceArgIndent =\n      get_omTLe_to_nextToothBlockTLe_assumingSequenceArgIndent_path(\n        teeth,\n        toothIndex,\n        editorSizing\n      );\n\n    outerPath += \"\\n\\n\" + blockTLe_to_mTLe;\n    outerPath += \"\\n\\n\" + mTLe_to_nextToothBlockTLe_assumingSequenceArgIndent;\n  }\n\n  return outerPath;\n}\n\nfunction getCommandBlockInnerBodyPath(\n  teeth: readonly CommandBlockTooth[],\n  editorSizing: BlockEditorSizingProps\n): string {\n  if (teeth.length === 0) {\n    throw new Error(\n      \"Called getCommandBlockInnerBodyPath with an empty `teeth` argument.\"\n    );\n  }\n\n  const borderWidth = editorSizing.blockBorder;\n  const innerRadius = editorSizing.blockBorderRadius;\n\n  let innerPath = `M${teeth[0].rbox.topLeft.x + borderWidth + innerRadius} ${\n    teeth[0].rbox.topLeft.y + borderWidth\n  }`;\n\n  for (let toothIndex = 0; toothIndex < teeth.length; ++toothIndex) {\n    const isLastTooth = toothIndex === teeth.length - 1;\n\n    if (isLastTooth) {\n      const blockTLe_to_mTLe = get_blockTLe_to_imTLe_path(\n        teeth,\n        toothIndex,\n        editorSizing\n      );\n\n      const mTLe_to_firstToothBlockTLe = get_imTLe_to_firstToothBlockTLe_path(\n        teeth,\n        toothIndex,\n        editorSizing\n      );\n\n      innerPath += \"\\n\\n\" + blockTLe_to_mTLe;\n      innerPath += \"\\n\\n\" + mTLe_to_firstToothBlockTLe;\n\n      break;\n    }\n\n    const blockTLe_to_mTLe = get_blockTLe_to_imTLe_path(\n      teeth,\n      toothIndex,\n      editorSizing\n    );\n\n    const mTLe_to_nextToothBlockTLe_assumingSequenceArgIndent =\n      get_imTLe_to_nextToothBlockTLe_assumingSequenceArgIndent_path(\n        teeth,\n        toothIndex,\n        editorSizing\n      );\n\n    innerPath += \"\\n\\n\" + blockTLe_to_mTLe;\n    innerPath += \"\\n\\n\" + mTLe_to_nextToothBlockTLe_assumingSequenceArgIndent;\n  }\n\n  return innerPath;\n}\n\nfunction get_blockTLe_to_omTLe_path(\n  teeth: readonly CommandBlockTooth[],\n  toothIndex: number,\n  editorSizing: BlockEditorSizingProps\n): string {\n  return (\n    get_blockTLe_to_ofTRe_path(teeth, toothIndex, editorSizing) +\n    \"\\n\\n\" +\n    get_ofTRe_to_blockBRe_path(teeth, toothIndex, editorSizing) +\n    \"\\n\\n\" +\n    get_blockBRe_to_omTLe_path(teeth, toothIndex, editorSizing)\n  );\n}\n\nfunction get_blockTLe_to_imTLe_path(\n  teeth: readonly CommandBlockTooth[],\n  toothIndex: number,\n  editorSizing: BlockEditorSizingProps\n): string {\n  return (\n    get_blockTLe_to_ifTRe_path(teeth, toothIndex, editorSizing) +\n    \"\\n\\n\" +\n    get_ifTRe_to_blockBRe_path(teeth, toothIndex, editorSizing) +\n    \"\\n\\n\" +\n    get_blockBRe_to_imTLe_path(teeth, toothIndex, editorSizing)\n  );\n}\n\nfunction get_blockTLe_to_ofTRe_path(\n  teeth: readonly CommandBlockTooth[],\n  toothIndex: number,\n  editorSizing: BlockEditorSizingProps\n): string {\n  const tooth = teeth[toothIndex];\n\n  if (!tooth.hasFemaleSocket) {\n    return \"\";\n  }\n\n  const toothX = tooth.rbox.topLeft.x;\n  const toothY = tooth.rbox.topLeft.y;\n  const points = getCommandBlockFemaleSocketPathPoints(editorSizing);\n  const innerRadius = editorSizing.blockBorderRadius;\n  const outerRadius = innerRadius + editorSizing.blockBorder;\n  const femaleSocketIndent =\n    toothIndex === 0\n      ? 0\n      : editorSizing.commandSequenceArgIndent - editorSizing.blockBorder;\n\n  return `L${toothX + femaleSocketIndent + points.ofTLs.x} ${\n    toothY + points.ofTLs.y\n  }\n\n    A${outerRadius} ${outerRadius} 0 0 1 ${\n    toothX + femaleSocketIndent + points.ofTLe.x\n  } ${toothY + points.ofTLe.y}\n\n    L${toothX + femaleSocketIndent + points.ofBLs.x} ${toothY + points.ofBLs.y}\n\n    A${innerRadius} ${innerRadius} 0 0 0 ${\n    toothX + femaleSocketIndent + points.ofBLe.x\n  } ${toothY + points.ofBLe.y}\n\n    L${toothX + femaleSocketIndent + points.ofBRs.x} ${toothY + points.ofBRs.y}\n\n    A${innerRadius} ${innerRadius} 0 0 0 ${\n    toothX + femaleSocketIndent + points.ofBRe.x\n  } ${toothY + points.ofBRe.y}\n\n    L${toothX + femaleSocketIndent + points.ofTRs.x} ${toothY + points.ofTRs.y}\n\n    A${outerRadius} ${outerRadius} 0 0 1 ${\n    toothX + femaleSocketIndent + points.ofTRe.x\n  } ${toothY + points.ofTRe.y}`;\n}\n\nfunction get_blockTLe_to_ifTRe_path(\n  teeth: readonly CommandBlockTooth[],\n  toothIndex: number,\n  editorSizing: BlockEditorSizingProps\n): string {\n  const tooth = teeth[toothIndex];\n\n  if (!tooth.hasFemaleSocket) {\n    return \"\";\n  }\n\n  const toothX = tooth.rbox.topLeft.x;\n  const toothY = tooth.rbox.topLeft.y;\n  const points = getCommandBlockFemaleSocketPathPoints(editorSizing);\n  const innerRadius = editorSizing.blockBorderRadius;\n  const outerRadius = innerRadius + editorSizing.blockBorder;\n  const femaleSocketIndent =\n    toothIndex === 0\n      ? 0\n      : editorSizing.commandSequenceArgIndent - editorSizing.blockBorder;\n\n  return `L${toothX + femaleSocketIndent + points.ifTLs.x} ${\n    toothY + points.ifTLs.y\n  }\n\n    A${innerRadius} ${innerRadius} 0 0 1 ${\n    toothX + femaleSocketIndent + points.ifTLe.x\n  } ${toothY + points.ifTLe.y}\n\n    L${toothX + femaleSocketIndent + points.ifBLs.x} ${toothY + points.ifBLs.y}\n\n    A${outerRadius} ${outerRadius} 0 0 0 ${\n    toothX + femaleSocketIndent + points.ifBLe.x\n  } ${toothY + points.ifBLe.y}\n\n    L${toothX + femaleSocketIndent + points.ifBRs.x} ${toothY + points.ifBRs.y}\n\n    A${outerRadius} ${outerRadius} 0 0 0 ${\n    toothX + femaleSocketIndent + points.ifBRe.x\n  } ${toothY + points.ifBRe.y}\n\n    L${toothX + femaleSocketIndent + points.ifTRs.x} ${toothY + points.ifTRs.y}\n\n    A${innerRadius} ${innerRadius} 0 0 1 ${\n    toothX + femaleSocketIndent + points.ifTRe.x\n  } ${toothY + points.ifTRe.y}`;\n}\n\nfunction get_ofTRe_to_blockBRe_path(\n  teeth: readonly CommandBlockTooth[],\n  toothIndex: number,\n  editorSizing: BlockEditorSizingProps\n): string {\n  const tooth = teeth[toothIndex];\n  const toothX = tooth.rbox.topLeft.x;\n  const toothY = tooth.rbox.topLeft.y;\n  const toothWidth = tooth.rbox.dimensions.width;\n  const toothHeight = tooth.rbox.dimensions.height;\n  const innerRadius = editorSizing.blockBorderRadius;\n  const outerRadius = innerRadius + editorSizing.blockBorder;\n\n  return `L${toothX + toothWidth - outerRadius} ${toothY}\n      \n  A${outerRadius} ${outerRadius} 0 0 1 ${toothX + toothWidth} ${\n    toothY + outerRadius\n  }\n\n  L${toothX + toothWidth} ${toothY + toothHeight - outerRadius}\n\n  A${outerRadius} ${outerRadius} 0 0 1 ${toothX + toothWidth - outerRadius} ${\n    toothY + toothHeight\n  }`;\n}\n\nfunction get_ifTRe_to_blockBRe_path(\n  teeth: readonly CommandBlockTooth[],\n  toothIndex: number,\n  editorSizing: BlockEditorSizingProps\n): string {\n  const tooth = teeth[toothIndex];\n  const toothX = tooth.rbox.topLeft.x;\n  const toothY = tooth.rbox.topLeft.y;\n  const toothWidth = tooth.rbox.dimensions.width;\n  const toothHeight = tooth.rbox.dimensions.height;\n  const borderWidth = editorSizing.blockBorder;\n  const innerRadius = editorSizing.blockBorderRadius;\n\n  return `L${toothX + toothWidth - borderWidth - innerRadius} ${\n    toothY + borderWidth\n  }\n      \n  A${innerRadius} ${innerRadius} 0 0 1 ${toothX + toothWidth - borderWidth} ${\n    toothY + borderWidth + innerRadius\n  }\n\n  L${toothX + toothWidth - borderWidth} ${\n    toothY + toothHeight - borderWidth - innerRadius\n  }\n\n  A${innerRadius} ${innerRadius} 0 0 1 ${\n    toothX + toothWidth - borderWidth - innerRadius\n  } ${toothY + toothHeight - borderWidth}`;\n}\n\nfunction get_blockBRe_to_omTLe_path(\n  teeth: readonly CommandBlockTooth[],\n  toothIndex: number,\n  editorSizing: BlockEditorSizingProps\n): string {\n  const tooth = teeth[toothIndex];\n\n  if (!tooth.hasMaleSocket) {\n    return \"\";\n  }\n\n  const toothX = tooth.rbox.topLeft.x;\n  const toothY = tooth.rbox.topLeft.y;\n  const toothHeight = tooth.rbox.dimensions.height;\n  const points = getCommandBlockFemaleSocketPathPoints(editorSizing);\n  const innerRadius = editorSizing.blockBorderRadius;\n  const outerRadius = innerRadius + editorSizing.blockBorder;\n  const maleOffsetY = toothHeight - editorSizing.blockBorder;\n  const maleSocketIndent =\n    toothIndex === teeth.length - 1\n      ? 0\n      : editorSizing.commandSequenceArgIndent - editorSizing.blockBorder;\n\n  return `L${toothX + maleSocketIndent + points.ifTRe.x} ${\n    toothY + points.ifTRe.y + maleOffsetY\n  }\n\n  A${innerRadius} ${innerRadius} 0 0 0 ${\n    toothX + maleSocketIndent + points.ifTRs.x\n  } ${toothY + points.ifTRs.y + maleOffsetY}\n\n  L${toothX + maleSocketIndent + points.ifBRe.x} ${\n    toothY + points.ifBRe.y + maleOffsetY\n  }\n\n  A${outerRadius} ${outerRadius} 0 0 1 ${\n    toothX + maleSocketIndent + points.ifBRs.x\n  } ${toothY + points.ifBRs.y + maleOffsetY}\n\n  L${toothX + maleSocketIndent + points.ifBLe.x} ${\n    toothY + points.ifBLe.y + maleOffsetY\n  }\n\n  A${outerRadius} ${outerRadius} 0 0 1 ${\n    toothX + maleSocketIndent + points.ifBLs.x\n  } ${toothY + points.ifBLs.y + maleOffsetY}\n\n  L${toothX + maleSocketIndent + points.ifTLe.x} ${\n    toothY + points.ifTLe.y + maleOffsetY\n  }\n\n  A${innerRadius} ${innerRadius} 0 0 0 ${\n    toothX + maleSocketIndent + points.ifTLs.x\n  } ${toothY + points.ifTLs.y + maleOffsetY}`;\n}\n\nfunction get_blockBRe_to_imTLe_path(\n  teeth: readonly CommandBlockTooth[],\n  toothIndex: number,\n  editorSizing: BlockEditorSizingProps\n): string {\n  const tooth = teeth[toothIndex];\n\n  if (!tooth.hasMaleSocket) {\n    return \"\";\n  }\n\n  const toothX = tooth.rbox.topLeft.x;\n  const toothY = tooth.rbox.topLeft.y;\n  const toothHeight = tooth.rbox.dimensions.height;\n  const points = getCommandBlockFemaleSocketPathPoints(editorSizing);\n  const innerRadius = editorSizing.blockBorderRadius;\n  const outerRadius = innerRadius + editorSizing.blockBorder;\n  const maleOffsetY = toothHeight - editorSizing.blockBorder;\n  const maleSocketIndent =\n    toothIndex === teeth.length - 1\n      ? 0\n      : editorSizing.commandSequenceArgIndent - editorSizing.blockBorder;\n\n  return `L${toothX + maleSocketIndent + points.ofTRe.x} ${\n    toothY + points.ofTRe.y + maleOffsetY\n  }\n\n  A${outerRadius} ${outerRadius} 0 0 0 ${\n    toothX + maleSocketIndent + points.ofTRs.x\n  } ${toothY + points.ofTRs.y + maleOffsetY}\n\n  L${toothX + maleSocketIndent + points.ofBRe.x} ${\n    toothY + points.ofBRe.y + maleOffsetY\n  }\n\n  A${innerRadius} ${innerRadius} 0 0 1 ${\n    toothX + maleSocketIndent + points.ofBRs.x\n  } ${toothY + points.ofBRs.y + maleOffsetY}\n\n  L${toothX + maleSocketIndent + points.ofBLe.x} ${\n    toothY + points.ofBLe.y + maleOffsetY\n  }\n\n  A${innerRadius} ${innerRadius} 0 0 1 ${\n    toothX + maleSocketIndent + points.ofBLs.x\n  } ${toothY + points.ofBLs.y + maleOffsetY}\n\n  L${toothX + maleSocketIndent + points.ofTLe.x} ${\n    toothY + points.ofTLe.y + maleOffsetY\n  }\n\n  A${outerRadius} ${outerRadius} 0 0 0 ${\n    toothX + maleSocketIndent + points.ofTLs.x\n  } ${toothY + points.ofTLs.y + maleOffsetY}`;\n}\n\nfunction get_omTLe_to_firstToothBlockTLe_path(\n  teeth: readonly CommandBlockTooth[],\n  toothIndex: number,\n  editorSizing: BlockEditorSizingProps\n): string {\n  const tooth = teeth[toothIndex];\n  const toothX = tooth.rbox.topLeft.x;\n  const toothY = tooth.rbox.topLeft.y;\n  const toothHeight = tooth.rbox.dimensions.height;\n\n  const firstTooth = teeth[0];\n  const firstToothX = firstTooth.rbox.topLeft.x;\n  const firstToothY = firstTooth.rbox.topLeft.y;\n\n  const innerRadius = editorSizing.blockBorderRadius;\n  const outerRadius = innerRadius + editorSizing.blockBorder;\n\n  return `L${toothX + outerRadius} ${toothY + toothHeight}\n    \n    A${outerRadius} ${outerRadius} 0 0 1 ${toothX} ${\n    toothY + toothHeight - outerRadius\n  }\n    \n    L${firstToothX} ${firstToothY + outerRadius}\n    \n    A${outerRadius} ${outerRadius} 0 0 1 ${\n    firstToothX + outerRadius\n  } ${firstToothY}`;\n}\n\nfunction get_imTLe_to_firstToothBlockTLe_path(\n  teeth: readonly CommandBlockTooth[],\n  toothIndex: number,\n  editorSizing: BlockEditorSizingProps\n): string {\n  const tooth = teeth[toothIndex];\n  const toothX = tooth.rbox.topLeft.x;\n  const toothY = tooth.rbox.topLeft.y;\n  const toothHeight = tooth.rbox.dimensions.height;\n\n  const firstTooth = teeth[0];\n  const firstToothX = firstTooth.rbox.topLeft.x;\n  const firstToothY = firstTooth.rbox.topLeft.y;\n\n  const borderWidth = editorSizing.blockBorder;\n  const innerRadius = editorSizing.blockBorderRadius;\n\n  return `L${toothX + borderWidth + innerRadius} ${\n    toothY + toothHeight - borderWidth\n  }\n    \n    A${innerRadius} ${innerRadius} 0 0 1 ${toothX + borderWidth} ${\n    toothY + toothHeight - borderWidth - innerRadius\n  }\n    \n    L${firstToothX + borderWidth} ${firstToothY + borderWidth + innerRadius}\n    \n    A${innerRadius} ${innerRadius} 0 0 1 ${\n    firstToothX + borderWidth + innerRadius\n  } ${firstToothY + borderWidth}`;\n}\n\nfunction get_omTLe_to_nextToothBlockTLe_assumingSequenceArgIndent_path(\n  teeth: readonly CommandBlockTooth[],\n  toothIndex: number,\n  editorSizing: BlockEditorSizingProps\n): string {\n  if (toothIndex >= teeth.length - 1) {\n    throw new Error(\n      \"Called get_omTLe_to_nextToothBlockTLe_assumingSequenceArgIndent_path when there was no next tooth.\"\n    );\n  }\n\n  const tooth = teeth[toothIndex];\n  const toothX = tooth.rbox.topLeft.x;\n  const toothY = tooth.rbox.topLeft.y;\n  const toothHeight = tooth.rbox.dimensions.height;\n\n  const nextTooth = teeth[toothIndex + 1];\n  const nextToothY = nextTooth.rbox.topLeft.y;\n  const innerRadius = editorSizing.blockBorderRadius;\n  const commandSequenceArgIndent = editorSizing.commandSequenceArgIndent;\n\n  return `L${toothX + commandSequenceArgIndent + innerRadius} ${\n    toothY + toothHeight\n  }\n    \n    A${innerRadius} ${innerRadius} 0 0 0 ${toothX + commandSequenceArgIndent} ${\n    toothY + toothHeight + innerRadius\n  }\n    \n    L${toothX + commandSequenceArgIndent} ${nextToothY - innerRadius}\n    \n    A${innerRadius} ${innerRadius} 0 0 0 ${\n    toothX + commandSequenceArgIndent + innerRadius\n  } ${nextToothY}`;\n}\n\nfunction get_imTLe_to_nextToothBlockTLe_assumingSequenceArgIndent_path(\n  teeth: readonly CommandBlockTooth[],\n  toothIndex: number,\n  editorSizing: BlockEditorSizingProps\n): string {\n  if (toothIndex >= teeth.length - 1) {\n    throw new Error(\n      \"Called get_imTLe_to_nextToothBlockTLe_assumingSequenceArgIndent_path when there was no next tooth.\"\n    );\n  }\n\n  const tooth = teeth[toothIndex];\n  const toothX = tooth.rbox.topLeft.x;\n  const toothY = tooth.rbox.topLeft.y;\n  const toothHeight = tooth.rbox.dimensions.height;\n\n  const nextTooth = teeth[toothIndex + 1];\n  const nextToothY = nextTooth.rbox.topLeft.y;\n  const borderWidth = editorSizing.blockBorder;\n  const innerRadius = editorSizing.blockBorderRadius;\n  const outerRadius = innerRadius + borderWidth;\n  const commandSequenceArgIndent = editorSizing.commandSequenceArgIndent;\n\n  return `L${toothX + commandSequenceArgIndent - borderWidth + outerRadius} ${\n    toothY + toothHeight - borderWidth\n  }\n    \n    A${outerRadius} ${outerRadius} 0 0 0 ${\n    toothX + commandSequenceArgIndent - borderWidth\n  } ${toothY + toothHeight - borderWidth + outerRadius}\n    \n    L${toothX + commandSequenceArgIndent - borderWidth} ${\n    nextToothY + borderWidth - outerRadius\n  }\n    \n    A${outerRadius} ${outerRadius} 0 0 0 ${\n    toothX + commandSequenceArgIndent - borderWidth + outerRadius\n  } ${nextToothY + borderWidth}`;\n}\n\nfunction QueryBlockBody({\n  rbox,\n  editorSizing,\n  outerColor,\n  innerColor,\n}: QueryBlockBodyProps): React.ReactElement {\n  const { outerPath, innerPath } =\n    getLandscapePillOuterAndInnerPathsFromBoundingBox(\n      rbox,\n      editorSizing.blockBorder\n    );\n  return (\n    <>\n      <path d={outerPath} fill={stringifyColor(outerColor)} />\n      <path d={innerPath} fill={stringifyColor(innerColor)} />\n    </>\n  );\n}\n\nfunction getLandscapePillOuterAndInnerPathsFromBoundingBox(\n  bbox: Rectangle,\n  borderWidth: number\n): { outerPath: string; innerPath: string } {\n  const outerPath = getLandscapePillPathFromBoundingBox(bbox);\n\n  const { x, y } = bbox.topLeft;\n  const { width, height } = bbox.dimensions;\n  const innerPathBbox = {\n    topLeft: {\n      x: x + borderWidth,\n      y: y + borderWidth,\n    },\n    dimensions: {\n      width: width - 2 * borderWidth,\n      height: height - 2 * borderWidth,\n    },\n  };\n  const innerPath = getLandscapePillPathFromBoundingBox(innerPathBbox);\n\n  return { outerPath, innerPath };\n}\n\nfunction getLandscapePillPathFromBoundingBox(bbox: Rectangle): string {\n  const { x, y } = bbox.topLeft;\n  const { width, height } = bbox.dimensions;\n  const radius = height / 2;\n\n  if (height > width) {\n    throw new Error(\"The width must be greater than or equal to the height.\");\n  }\n\n  return `M${x + radius} ${y}\n\n  L${x + width - radius} ${y}\n\n  A${radius} ${radius} 0 0 1 ${x + width - radius} ${y + height}\n  \n  L${x + radius} ${y + height}\n  \n  A${radius} ${radius} 0 0 1 ${x + radius} ${y}`;\n}\n\nfunction DropdownView<BlockKind extends string | number | symbol>({\n  spec,\n  editor,\n}: DropdownViewProps<BlockKind>): React.ReactElement {\n  const editorProps = editor.props;\n  const { sizing, fonts, colors } = editorProps.config;\n\n  const { x, y } = spec.rbox.topLeft;\n  const dropdownDimensions = spec.rbox.dimensions;\n\n  const blockColorTriplet = spec.isUnreachable\n    ? colors.unreachableBlocks[spec.parentBlockKind]\n    : colors.blocks[spec.parentBlockKind];\n\n  const { outerPath, innerPath } =\n    getLandscapePillOuterAndInnerPathsFromBoundingBox(\n      spec.rbox,\n      sizing.blockDropdownBorder\n    );\n\n  const borderRadius = 0.5 * spec.rbox.dimensions.height;\n\n  const naiveTextDimensions = editor.props.measureText(\n    spec.value,\n    fonts.blockDropdownFont,\n    sizing.blockDropdownTextSizePx\n  );\n  const minimumTextDimensions = editor.props.measureText(\n    MINIMAL_LOREM_IPSUM_TEXT_FOR_FONT_MEASUREMENT,\n    fonts.blockDropdownFont,\n    sizing.blockDropdownTextSizePx\n  );\n  const textDimensions = {\n    width: Math.max(naiveTextDimensions.width, minimumTextDimensions.width),\n    height: Math.max(naiveTextDimensions.height, minimumTextDimensions.height),\n  };\n\n  const arrowScale = sizing.blockDropdownArrowWidth / DROPDOWN_ARROW.width;\n\n  const haloRbox = {\n    topLeft: subVec(spec.rbox.topLeft, {\n      x: sizing.queryInsertionMarkHaloRadius,\n      y: sizing.queryInsertionMarkHaloRadius,\n    }),\n    dimensions: {\n      width:\n        spec.rbox.dimensions.width + 2 * sizing.queryInsertionMarkHaloRadius,\n      height:\n        spec.rbox.dimensions.height + 2 * sizing.queryInsertionMarkHaloRadius,\n    },\n  };\n  const haloBody = getLandscapePillOuterAndInnerPathsFromBoundingBox(\n    haloRbox,\n    0\n  );\n\n  return (\n    <g data-touch-role={getDataTouchRoleFromDropdownAddress(spec.address)}>\n      {spec.hasPendingEditMark && (\n        <path\n          d={haloBody.outerPath}\n          fill={stringifyColor(colors.queryInsertionMarkHalo)}\n        />\n      )}\n\n      <path d={outerPath} fill={stringifyColor(blockColorTriplet.tertiary)} />\n\n      <path d={innerPath} fill={stringifyColor(blockColorTriplet.secondary)} />\n\n      <text\n        x={x + sizing.blockDropdownHorizontalPadding + borderRadius}\n        y={y + 0.5 * dropdownDimensions.height}\n        fontSize={sizing.blockDropdownTextSizePx}\n        fontFamily={fonts.blockDropdownFont}\n        dominantBaseline=\"middle\"\n        fill={stringifyColor(colors.blockDropdownText)}\n      >\n        {spec.value}\n      </text>\n\n      <path\n        transform={`scale(${arrowScale}) translate(${\n          (1 / arrowScale) *\n          (x +\n            sizing.blockDropdownHorizontalPadding +\n            borderRadius +\n            textDimensions.width +\n            sizing.blockDropdownArrowLeftMargin)\n        } ${\n          (1 / arrowScale) *\n          (y +\n            0.5 * dropdownDimensions.height -\n            0.5 * arrowScale * DROPDOWN_ARROW.height)\n        })`}\n        d={DROPDOWN_ARROW.path}\n        fill={stringifyColor(editor.props.config.colors.blockDropdownText)}\n      />\n    </g>\n  );\n}\n\nfunction LiteralView<BlockKind extends string | number | symbol>({\n  spec,\n  editor,\n}: LiteralViewProps<BlockKind>): React.ReactElement {\n  const editorProps = editor.props;\n  const { sizing, colors, fonts } = editorProps.config;\n\n  const { x, y } = spec.rbox.topLeft;\n  const literalDimensions = spec.rbox.dimensions;\n\n  const haloRbox = {\n    topLeft: subVec(spec.rbox.topLeft, {\n      x: sizing.queryInsertionMarkHaloRadius,\n      y: sizing.queryInsertionMarkHaloRadius,\n    }),\n    dimensions: {\n      width:\n        spec.rbox.dimensions.width + 2 * sizing.queryInsertionMarkHaloRadius,\n      height:\n        spec.rbox.dimensions.height + 2 * sizing.queryInsertionMarkHaloRadius,\n    },\n  };\n  const haloBody = getLandscapePillOuterAndInnerPathsFromBoundingBox(\n    haloRbox,\n    0\n  );\n\n  const literalBody = getLandscapePillOuterAndInnerPathsFromBoundingBox(\n    spec.rbox,\n    sizing.blockLiteralBorder\n  );\n\n  const borderRadius = 0.5 * spec.rbox.dimensions.height;\n\n  const blockColorTriplet = spec.isUnreachable\n    ? colors.unreachableBlocks[spec.parentBlockKind]\n    : colors.blocks[spec.parentBlockKind];\n\n  return (\n    <g data-touch-role={getDataTouchRoleFromLiteralAddress(spec.address)}>\n      {spec.hasQueryInsertionMark && (\n        <path\n          d={haloBody.outerPath}\n          fill={stringifyColor(colors.queryInsertionMarkHalo)}\n        />\n      )}\n\n      <path\n        d={literalBody.outerPath}\n        fill={stringifyColor(blockColorTriplet.tertiary)}\n      />\n\n      <path\n        d={literalBody.innerPath}\n        fill={stringifyColor(colors.blockLiteralBackground)}\n      />\n\n      <text\n        x={x + sizing.blockLiteralHorizontalPadding + borderRadius}\n        y={y + 0.5 * literalDimensions.height}\n        fontSize={sizing.blockLiteralTextSizePx}\n        fontFamily={fonts.blockLiteralFont}\n        dominantBaseline=\"middle\"\n        fill={stringifyColor(colors.blockLiteralText)}\n      >\n        {spec.source}\n      </text>\n    </g>\n  );\n}\n\nfunction BlockSequenceView<BlockKind extends string | number | symbol>({\n  spec,\n  editor,\n}: BlockSequenceViewProps<BlockKind>): React.ReactElement {\n  return (\n    <>\n      {spec.blockSpecs.map((blockSpec) => (\n        <BlockView<BlockKind>\n          key={blockSpec.address.map(stringifyNodeAddressPart).join(\"_\")}\n          spec={blockSpec}\n          editor={editor}\n        />\n      ))}\n    </>\n  );\n}\n\nfunction getCanvasItemRenderSpec<BlockKind extends string | number | symbol>({\n  editorProps,\n  item,\n  address,\n  insertionMark,\n  draggeeOriginalAddress,\n  hasDragPositionChangedSinceDragStart,\n  dropdownMenuDropdownAddress,\n}: {\n  editorProps: BlockEditorProps<BlockKind>;\n  item: CanvasItem<BlockKind>;\n  address: NodeAddress;\n  insertionMark: null | InsertionMark<BlockKind>;\n  draggeeOriginalAddress: null | NodeAddress;\n  hasDragPositionChangedSinceDragStart: boolean;\n  dropdownMenuDropdownAddress: null | NodeAddress;\n}): BlockSequenceRenderSpec<BlockKind> {\n  const { position, content } = item;\n  return getBlockSequenceRenderSpec({\n    editorProps,\n    position,\n    sequence: content,\n    address,\n    insertionMark,\n    draggeeOriginalAddress,\n    hasDragPositionChangedSinceDragStart,\n    dropdownMenuDropdownAddress,\n    isUnreachable: !isFirstCommandEntryPoint(editorProps.config.defs, content),\n  });\n}\n\nexport function getBlockSequenceRenderSpec<\n  BlockKind extends string | number | symbol\n>({\n  editorProps,\n  position: rawPosition,\n  sequence,\n  address,\n  insertionMark,\n  draggeeOriginalAddress,\n  hasDragPositionChangedSinceDragStart,\n  dropdownMenuDropdownAddress,\n  isUnreachable,\n}: {\n  editorProps: BlockEditorProps<BlockKind>;\n  position: Vec2;\n  sequence: BlockSequence<BlockKind>;\n  address: NodeAddress;\n  insertionMark: null | InsertionMark<BlockKind>;\n  draggeeOriginalAddress: null | NodeAddress;\n  hasDragPositionChangedSinceDragStart: boolean;\n  dropdownMenuDropdownAddress: null | NodeAddress;\n  isUnreachable: boolean;\n}): BlockSequenceRenderSpec<BlockKind> {\n  const { sizing } = editorProps.config;\n\n  const localDraggeeAddress =\n    draggeeOriginalAddress === null\n      ? null\n      : withoutPrefix(address, draggeeOriginalAddress);\n  const commandsAfterRemovingDraggee =\n    localDraggeeAddress !== null &&\n    localDraggeeAddress.length === 1 &&\n    hasDragPositionChangedSinceDragStart\n      ? sequence.slice(0, expectNumericAddressPart(localDraggeeAddress[0]))\n      : sequence;\n\n  const localInsertionMarkAddress =\n    insertionMark === null\n      ? null\n      : withoutPrefix(address, insertionMark.address);\n  const adjustedPosition = {\n    x: rawPosition.x,\n    y:\n      rawPosition.y +\n      (insertionMark !== null &&\n      insertionMark.address.length === 3 &&\n      localInsertionMarkAddress !== null &&\n      localInsertionMarkAddress.length === 1 &&\n      localInsertionMarkAddress[0] === 0\n        ? -(getDefaultCommandBlockHeight(editorProps) - sizing.blockBorder)\n        : 0),\n  };\n  type Commandlike = Block<BlockKind> | typeof COMMAND_INSERTION_MARK_SENTINEL;\n  const commandlikes: readonly Commandlike[] =\n    localInsertionMarkAddress !== null &&\n    localInsertionMarkAddress.length === 1 &&\n    expectNumericAddressPart(localInsertionMarkAddress[0]) <=\n      commandsAfterRemovingDraggee.length\n      ? identityFunctionToForceTypesafeCast<readonly Commandlike[]>(\n          commandsAfterRemovingDraggee\n        )\n          .slice(0, expectNumericAddressPart(localInsertionMarkAddress[0]))\n          .concat(\n            [COMMAND_INSERTION_MARK_SENTINEL],\n            commandsAfterRemovingDraggee.slice(\n              expectNumericAddressPart(localInsertionMarkAddress[0])\n            )\n          )\n      : commandsAfterRemovingDraggee;\n  const blockSpecs: BlockRenderSpec<BlockKind>[] = [];\n  let y = adjustedPosition.y;\n  let nonInsertionMarkIndex = 0;\n  for (let i = 0; i < commandlikes.length; ++i) {\n    const commandlike = commandlikes[i];\n    if (commandlike === COMMAND_INSERTION_MARK_SENTINEL) {\n      if (insertionMark === null) {\n        throw new Error(\n          \"Impossible: insertionMark is null but reached command insertion mark sentinel.\"\n        );\n      }\n      const spec = getBlockRenderSpec({\n        editorProps,\n        position: { x: adjustedPosition.x, y },\n        block: getInsertionMarkCommand(\n          insertionMark.draggee,\n          editorProps.config.defs\n        ),\n        address: [INSERTION_MARK_ADDRESS_PART],\n        insertionMark,\n        draggeeOriginalAddress,\n        hasDragPositionChangedSinceDragStart,\n        dropdownMenuDropdownAddress,\n        isUnreachable,\n      });\n      blockSpecs.push(spec);\n\n      y += spec.rbox.dimensions.height - sizing.blockBorder;\n      continue;\n    }\n\n    const spec = getBlockRenderSpec({\n      editorProps,\n      position: { x: adjustedPosition.x, y },\n      block: commandlike,\n      address: address.concat([nonInsertionMarkIndex]),\n      insertionMark,\n      draggeeOriginalAddress,\n      hasDragPositionChangedSinceDragStart,\n      dropdownMenuDropdownAddress,\n      isUnreachable,\n    });\n    blockSpecs.push(spec);\n\n    ++nonInsertionMarkIndex;\n\n    y += spec.rbox.dimensions.height - sizing.blockBorder;\n  }\n\n  const dimensions =\n    blockSpecs.length === 0\n      ? {\n          width: 0,\n          height: getMinimumCommandBlockHeight(editorProps),\n        }\n      : {\n          width: Math.max(\n            ...blockSpecs.map((command) => command.rbox.dimensions.width)\n          ),\n          height: y - adjustedPosition.y,\n        };\n\n  return {\n    kind: RenderSpecKind.BlockSequence,\n    sequence,\n    address,\n    rbox: {\n      topLeft: { x: adjustedPosition.x, y: adjustedPosition.y },\n      dimensions,\n    },\n    blockSpecs,\n  };\n}\n\nfunction getBlockRenderSpec<BlockKind extends string | number | symbol>({\n  editorProps,\n  position,\n  block,\n  address,\n  insertionMark,\n  draggeeOriginalAddress,\n  hasDragPositionChangedSinceDragStart,\n  dropdownMenuDropdownAddress,\n  isUnreachable,\n}: {\n  editorProps: BlockEditorProps<BlockKind>;\n  position: Vec2;\n  block: Block<BlockKind>;\n  address: NodeAddress;\n  insertionMark: null | InsertionMark<BlockKind>;\n  draggeeOriginalAddress: null | NodeAddress;\n  hasDragPositionChangedSinceDragStart: boolean;\n  dropdownMenuDropdownAddress: null | NodeAddress;\n  isUnreachable: boolean;\n}): BlockRenderSpec<BlockKind> {\n  const blockDef = editorProps.config.defs[block.kind];\n\n  if (blockDef.kind === BlockDefKind.Command) {\n    return getCommandBlockRenderSpec({\n      editorProps,\n      position,\n      block,\n      blockDef,\n      address,\n      insertionMark,\n      draggeeOriginalAddress,\n      hasDragPositionChangedSinceDragStart,\n      dropdownMenuDropdownAddress,\n      isUnreachable,\n    });\n  }\n\n  return getQueryBlockRenderSpec({\n    editorProps,\n    position,\n    block,\n    blockDef,\n    address,\n    insertionMark,\n    draggeeOriginalAddress,\n    hasDragPositionChangedSinceDragStart,\n    dropdownMenuDropdownAddress,\n    isUnreachable,\n  });\n}\n\nfunction getCommandBlockRenderSpec<BlockKind extends string | number | symbol>({\n  editorProps,\n  position,\n  block,\n  blockDef,\n  address,\n  insertionMark,\n  draggeeOriginalAddress,\n  hasDragPositionChangedSinceDragStart,\n  dropdownMenuDropdownAddress,\n  isUnreachable,\n}: {\n  editorProps: BlockEditorProps<BlockKind>;\n  position: Vec2;\n  block: Block<BlockKind>;\n  blockDef: CommandBlockDef<BlockKind>;\n  address: NodeAddress;\n  insertionMark: null | InsertionMark<BlockKind>;\n  draggeeOriginalAddress: null | NodeAddress;\n  hasDragPositionChangedSinceDragStart: boolean;\n  dropdownMenuDropdownAddress: null | NodeAddress;\n  isUnreachable: boolean;\n}): BlockRenderSpec<BlockKind> {\n  if (address.length === 1 && address[0] === INSERTION_MARK_ADDRESS_PART) {\n    const dummyAddress: NodeAddress = [CANVAS_ADDRESS_PART, 0];\n    const insertionMarkCommandSpec = getCommandBlockRenderSpec({\n      editorProps,\n      position,\n      block,\n      blockDef,\n      address: dummyAddress,\n      insertionMark,\n      draggeeOriginalAddress,\n      hasDragPositionChangedSinceDragStart,\n      dropdownMenuDropdownAddress,\n      isUnreachable,\n    });\n\n    const rbox = {\n      topLeft: position,\n      dimensions: {\n        width: insertionMarkCommandSpec.rbox.dimensions.width,\n        height: getDefaultCommandBlockHeight(editorProps),\n      },\n    };\n    const teeth = [\n      {\n        rbox,\n        hasFemaleSocket: blockDef.hasFemaleSocket,\n        hasMaleSocket: blockDef.hasMaleSocket,\n      },\n    ];\n    return {\n      kind: RenderSpecKind.Block,\n      block,\n      address,\n      isUnreachable,\n      rbox,\n      teeth,\n      labelSpecs: [],\n      dropdownSpecs: [],\n      subexpressionSpecs: [],\n      subsequenceSpecs: [],\n    };\n  }\n\n  const { sizing, defs: blockDefs } = editorProps.config;\n  const minimumNonLabelNonSequencePartX =\n    position.x + getCommandBlockFemaleSocketPathPoints(sizing).ofTRe.x;\n\n  const localDraggeeAddress =\n    draggeeOriginalAddress === null\n      ? null\n      : withoutPrefix(address, draggeeOriginalAddress);\n\n  const parts = getBlockParts(blockDef, block);\n  const toothPartLists = groupBlockPartsByTooth(parts);\n  const sequences: readonly BlockPartCommandSequence<BlockKind>[] =\n    parts.filter(\n      (p): p is BlockPartCommandSequence<BlockKind> =>\n        p.kind === BlockPartKind.CommandSequence\n    );\n\n  const teeth: CommandBlockTooth[] = [];\n  const labelSpecs: LabelRenderSpec[] = [];\n  const dropdownSpecs: DropdownRenderSpec<BlockKind>[] = [];\n  const subexpressionSpecs: ExpressionRenderSpec<BlockKind>[] = [];\n  const subsequenceSpecs: BlockSequenceRenderSpec<BlockKind>[] = [];\n  let currentY = position.y;\n  let previousSequence: null | BlockSequence<BlockKind> = null;\n  let sequenceIndex = 0;\n  let dropdownIndex = 0;\n  let expressionIndex = 0;\n\n  for (let toothIndex = 0; toothIndex < toothPartLists.length; ++toothIndex) {\n    const toothParts = toothPartLists[toothIndex];\n    const toothDimensions = getCommandToothDimensionsFromParts(\n      toothParts,\n      address,\n      expressionIndex,\n      draggeeOriginalAddress,\n      hasDragPositionChangedSinceDragStart,\n      dropdownMenuDropdownAddress,\n      editorProps\n    );\n\n    let currentX = position.x + sizing.interBlockPartHorizontalMargin;\n\n    for (const part of toothParts) {\n      if (part.kind === BlockPartKind.Label) {\n        const dimensions = editorProps.measureText(\n          part.text,\n          editorProps.config.fonts.blockLabelFont,\n          editorProps.config.sizing.blockLabelTextSizePx\n        );\n        labelSpecs.push({\n          kind: RenderSpecKind.Label,\n          text: part.text,\n          rbox: {\n            topLeft: {\n              x: currentX,\n              y: currentY + 0.5 * toothDimensions.height,\n            },\n            dimensions,\n          },\n        });\n        currentX += dimensions.width + sizing.interBlockPartHorizontalMargin;\n        continue;\n      }\n\n      if (part.kind === BlockPartKind.Dropdown) {\n        currentX = Math.max(currentX, minimumNonLabelNonSequencePartX);\n\n        const dropdownDimensions = getDropdownDimensions(\n          part.value,\n          editorProps\n        );\n\n        const dropdownAddress = address.concat([\n          ARG_DROPDOWN_ADDRESS_PART,\n          dropdownIndex,\n        ]);\n\n        dropdownSpecs.push({\n          kind: RenderSpecKind.Dropdown,\n          parentBlockKind: block.kind,\n          value: part.value,\n          hasPendingEditMark:\n            dropdownMenuDropdownAddress !== null &&\n            areNodeAddressesEqual(dropdownAddress, dropdownMenuDropdownAddress),\n          address: dropdownAddress,\n          isUnreachable,\n          rbox: {\n            topLeft: {\n              x: currentX,\n              y:\n                currentY +\n                0.5 * toothDimensions.height -\n                0.5 * dropdownDimensions.height,\n            },\n            dimensions: dropdownDimensions,\n          },\n        });\n        ++dropdownIndex;\n        currentX +=\n          dropdownDimensions.width + sizing.interBlockPartHorizontalMargin;\n        continue;\n      }\n\n      if (part.kind === BlockPartKind.Literal) {\n        currentX = Math.max(currentX, minimumNonLabelNonSequencePartX);\n\n        const literalDimensions = getLiteralDimensions(\n          part.source,\n          editorProps\n        );\n        const literalAddress = address.concat([\n          ARG_EXPRESSION_ADDRESS_PART,\n          expressionIndex,\n        ]);\n\n        subexpressionSpecs.push({\n          kind: RenderSpecKind.Literal,\n          parentBlockKind: block.kind,\n          source: part.source,\n          hasQueryInsertionMark:\n            insertionMark !== null &&\n            areNodeAddressesEqual(literalAddress, insertionMark.address),\n          address: literalAddress,\n          isUnreachable,\n          rbox: {\n            topLeft: {\n              x: currentX,\n              y:\n                currentY +\n                0.5 * toothDimensions.height -\n                0.5 * literalDimensions.height,\n            },\n            dimensions: literalDimensions,\n          },\n        });\n        ++expressionIndex;\n        currentX +=\n          literalDimensions.width + sizing.interBlockPartHorizontalMargin;\n        continue;\n      }\n\n      if (part.kind === BlockPartKind.Block) {\n        currentX = Math.max(currentX, minimumNonLabelNonSequencePartX);\n\n        if (\n          localDraggeeAddress !== null &&\n          localDraggeeAddress.length === 2 &&\n          localDraggeeAddress[0] === ARG_EXPRESSION_ADDRESS_PART &&\n          localDraggeeAddress[1] === expressionIndex &&\n          hasDragPositionChangedSinceDragStart\n        ) {\n          const literalDimensions = getLiteralDimensions(\"\", editorProps);\n          const literalAddress = address.concat([\n            ARG_EXPRESSION_ADDRESS_PART,\n            expressionIndex,\n          ]);\n\n          subexpressionSpecs.push({\n            kind: RenderSpecKind.Literal,\n            parentBlockKind: block.kind,\n            source: \"\",\n            hasQueryInsertionMark:\n              insertionMark !== null &&\n              areNodeAddressesEqual(literalAddress, insertionMark.address),\n            address: literalAddress,\n            isUnreachable,\n            rbox: {\n              topLeft: {\n                x: currentX,\n                y:\n                  currentY +\n                  0.5 * toothDimensions.height -\n                  0.5 * literalDimensions.height,\n              },\n              dimensions: literalDimensions,\n            },\n          });\n          ++expressionIndex;\n          currentX +=\n            literalDimensions.width + sizing.interBlockPartHorizontalMargin;\n          continue;\n        }\n\n        const misplacedButCorrectlySizedSpec = getBlockRenderSpec({\n          editorProps,\n          position: { x: 0, y: 0 },\n          block: part.block,\n          address: address.concat([\n            ARG_EXPRESSION_ADDRESS_PART,\n            expressionIndex,\n          ]),\n          insertionMark,\n          draggeeOriginalAddress,\n          hasDragPositionChangedSinceDragStart,\n          dropdownMenuDropdownAddress,\n          isUnreachable,\n        });\n        const spec = getBlockRenderSpec({\n          editorProps,\n          position: {\n            x: currentX,\n            y:\n              currentY +\n              0.5 *\n                (toothDimensions.height -\n                  misplacedButCorrectlySizedSpec.rbox.dimensions.height),\n          },\n          block: part.block,\n          address: address.concat([\n            ARG_EXPRESSION_ADDRESS_PART,\n            expressionIndex,\n          ]),\n          insertionMark,\n          draggeeOriginalAddress,\n          hasDragPositionChangedSinceDragStart,\n          dropdownMenuDropdownAddress,\n          isUnreachable,\n        });\n        subexpressionSpecs.push(spec);\n        currentX +=\n          spec.rbox.dimensions.width + sizing.interBlockPartHorizontalMargin;\n        ++expressionIndex;\n        continue;\n      }\n    }\n\n    const isLastTooth = toothIndex === toothPartLists.length - 1;\n    teeth.push({\n      rbox: {\n        topLeft: { x: position.x, y: currentY },\n        dimensions: {\n          width: toothDimensions.width,\n          // Ensure that empty teeth have a non-zero height.\n          height: Math.max(\n            toothDimensions.height,\n            getMinimumCommandBlockHeight(editorProps)\n          ),\n        },\n      },\n      hasFemaleSocket:\n        previousSequence === null\n          ? blockDef.hasFemaleSocket\n          : previousSequence.length === 0\n          ? true\n          : (\n              blockDefs[\n                previousSequence[previousSequence.length - 1].kind\n              ] as CommandBlockDef<BlockKind>\n            ).hasMaleSocket,\n      hasMaleSocket: isLastTooth ? blockDef.hasMaleSocket : true,\n    });\n    currentY += toothDimensions.height - sizing.blockBorder;\n\n    if (sequenceIndex < sequences.length) {\n      const sequence = sequences[sequenceIndex];\n      const originalSequenceIndex = sequenceIndex;\n      ++sequenceIndex;\n\n      const spec = getBlockSequenceRenderSpec<BlockKind>({\n        editorProps,\n        position: {\n          x: position.x + sizing.commandSequenceArgIndent - sizing.blockBorder,\n          y: currentY,\n        },\n        sequence: sequence.sequence,\n        address: address.concat([\n          ARG_COMMAND_SEQUENCE_ADDRESS_PART,\n          originalSequenceIndex,\n        ]),\n        insertionMark,\n        draggeeOriginalAddress,\n        hasDragPositionChangedSinceDragStart,\n        dropdownMenuDropdownAddress,\n        isUnreachable,\n      });\n      subsequenceSpecs.push(spec);\n      currentY += spec.rbox.dimensions.height;\n      previousSequence = sequence.sequence;\n    }\n  }\n\n  const lastTooth = teeth[teeth.length - 1];\n  const lastToothBottom =\n    lastTooth.rbox.topLeft.y + lastTooth.rbox.dimensions.height;\n  const maxToothWidth = Math.max(\n    ...teeth.map((tooth) => tooth.rbox.dimensions.width)\n  );\n  const rbox = {\n    topLeft: position,\n    dimensions: {\n      width: maxToothWidth,\n      height: lastToothBottom - position.y,\n    },\n  };\n\n  const teethWithAdjustedWidth = teeth.map((tooth) => ({\n    ...tooth,\n    rbox: {\n      ...tooth.rbox,\n      dimensions: { ...tooth.rbox.dimensions, width: maxToothWidth },\n    },\n  }));\n\n  return {\n    kind: RenderSpecKind.Block,\n    block,\n    address,\n    isUnreachable,\n    rbox,\n    teeth: teethWithAdjustedWidth,\n    labelSpecs,\n    dropdownSpecs,\n    subexpressionSpecs,\n    subsequenceSpecs,\n  };\n}\n\nfunction groupBlockPartsByTooth<BlockKind extends string | number | symbol>(\n  parts: readonly BlockPart<BlockKind>[]\n): readonly (readonly BlockPart<BlockKind>[])[] {\n  const toothPartLists: (readonly BlockPart<BlockKind>[])[] = [];\n  const currentToothParts: BlockPart<BlockKind>[] = [];\n\n  for (const part of parts) {\n    if (\n      part.kind === BlockPartKind.Label ||\n      part.kind === BlockPartKind.Dropdown ||\n      part.kind === BlockPartKind.Literal ||\n      part.kind === BlockPartKind.Block\n    ) {\n      currentToothParts.push(part);\n      continue;\n    }\n\n    if (part.kind === BlockPartKind.CommandSequence) {\n      toothPartLists.push(currentToothParts.slice());\n      currentToothParts.splice(0, currentToothParts.length);\n      continue;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const _exhaustivenessCheck: never = part;\n  }\n\n  toothPartLists.push(currentToothParts.slice());\n  return toothPartLists;\n}\n\nfunction getCommandToothDimensionsFromParts<\n  BlockKind extends string | number | symbol\n>(\n  toothParts: readonly BlockPart<BlockKind>[],\n  commandAddress: NodeAddress,\n  totalExpressionsInPreviousTeeth: number,\n  draggeeOriginalAddress: null | NodeAddress,\n  hasDragPositionChangedSinceDragStart: boolean,\n  dropdownMenuDropdownAddress: null | NodeAddress,\n  editorProps: BlockEditorProps<BlockKind>\n): Dimensions {\n  const { sizing } = editorProps.config;\n\n  const minimumNonLabelNonSequencePartX =\n    getCommandBlockFemaleSocketPathPoints(sizing).ofTRe.x;\n\n  let expressionIndex = totalExpressionsInPreviousTeeth;\n\n  let currentX = sizing.commandBlockHorizontalPadding;\n  let maxHeight = 0;\n  for (let partIndex = 0; partIndex < toothParts.length; ++partIndex) {\n    const part = toothParts[partIndex];\n    const leftMargin =\n      partIndex === 0 ? 0 : sizing.interBlockPartHorizontalMargin;\n    if (part.kind === BlockPartKind.Label) {\n      const dimensions = editorProps.measureText(\n        part.text,\n        editorProps.config.fonts.blockLabelFont,\n        editorProps.config.sizing.blockLabelTextSizePx\n      );\n      currentX += leftMargin + dimensions.width;\n      maxHeight = Math.max(maxHeight, dimensions.height);\n      continue;\n    }\n\n    if (part.kind === BlockPartKind.Dropdown) {\n      currentX = Math.max(currentX, minimumNonLabelNonSequencePartX);\n      const dimensions = getDropdownDimensions(part.value, editorProps);\n      currentX += leftMargin + dimensions.width;\n      maxHeight = Math.max(maxHeight, dimensions.height);\n      continue;\n    }\n\n    if (part.kind === BlockPartKind.Literal) {\n      currentX = Math.max(currentX, minimumNonLabelNonSequencePartX);\n      ++expressionIndex;\n      const dimensions = getLiteralDimensions(part.source, editorProps);\n      currentX += leftMargin + dimensions.width;\n      maxHeight = Math.max(maxHeight, dimensions.height);\n      continue;\n    }\n\n    if (part.kind === BlockPartKind.Block) {\n      currentX = Math.max(currentX, minimumNonLabelNonSequencePartX);\n\n      const localDraggeeAddress =\n        draggeeOriginalAddress === null\n          ? null\n          : withoutPrefix(commandAddress, draggeeOriginalAddress);\n      if (\n        localDraggeeAddress !== null &&\n        localDraggeeAddress.length === 2 &&\n        localDraggeeAddress[0] === ARG_EXPRESSION_ADDRESS_PART &&\n        localDraggeeAddress[1] === expressionIndex &&\n        hasDragPositionChangedSinceDragStart\n      ) {\n        ++expressionIndex;\n        const dimensions = getLiteralDimensions(\"\", editorProps);\n        currentX += leftMargin + dimensions.width;\n        maxHeight = Math.max(maxHeight, dimensions.height);\n        continue;\n      }\n\n      // We only need to calculate the dimensions of the block spec,\n      // and can ignore the rest of the spec.\n      // Therefore, we can use dummy values for the arguments that will not\n      // affect the dimensions of the block spec.\n      const dummyPosition = { x: 0, y: 0 };\n      const dummyAddress: NodeAddress = [DRAGGEE_ADDRESS_PART];\n      const dummyInsertionMark = null;\n      const dummyIsUnreachable = false;\n\n      const spec = getBlockRenderSpec({\n        editorProps,\n        position: dummyPosition,\n        block: part.block,\n        address: dummyAddress,\n        insertionMark: dummyInsertionMark,\n        draggeeOriginalAddress,\n        hasDragPositionChangedSinceDragStart,\n        dropdownMenuDropdownAddress,\n        isUnreachable: dummyIsUnreachable,\n      });\n      ++expressionIndex;\n      const { dimensions } = spec.rbox;\n      currentX += leftMargin + dimensions.width;\n      maxHeight = Math.max(maxHeight, dimensions.height);\n      continue;\n    }\n\n    if (part.kind === BlockPartKind.CommandSequence) {\n      throw new Error(\n        \"Impossible: A tooth should never contain a command sequence.\"\n      );\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const _exhaustivenessCheck: never = part;\n  }\n\n  const minToothWidth =\n    getCommandBlockFemaleSocketPathPoints(sizing).ofTRe.x +\n    sizing.commandSocket.indent;\n\n  return {\n    width: Math.max(\n      currentX + sizing.commandBlockHorizontalPadding,\n      minToothWidth\n    ),\n    height:\n      maxHeight +\n      sizing.commandSocket.height +\n      2 * sizing.commandBlockVerticalPadding,\n  };\n}\n\nfunction getQueryRboxDimensionsFromParts<\n  BlockKind extends string | number | symbol\n>(\n  blockParts: readonly BlockPart<BlockKind>[],\n  queryAddress: NodeAddress,\n  draggeeOriginalAddress: null | NodeAddress,\n  hasDragPositionChangedSinceDragStart: boolean,\n  dropdownMenuDropdownAddress: null | NodeAddress,\n  editorProps: BlockEditorProps<BlockKind>\n): Dimensions {\n  const { sizing, fonts } = editorProps.config;\n\n  let expressionIndex = 0;\n\n  const partDimensions: Dimensions[] = blockParts.map((part): Dimensions => {\n    if (part.kind === BlockPartKind.Label) {\n      return editorProps.measureText(\n        part.text,\n        fonts.blockLabelFont,\n        sizing.blockLabelTextSizePx\n      );\n    }\n\n    if (part.kind === BlockPartKind.Dropdown) {\n      return getDropdownDimensions(part.value, editorProps);\n    }\n\n    if (part.kind === BlockPartKind.Literal) {\n      ++expressionIndex;\n      return getLiteralDimensions(part.source, editorProps);\n    }\n\n    if (part.kind === BlockPartKind.Block) {\n      const localDraggeeAddress =\n        draggeeOriginalAddress === null\n          ? null\n          : withoutPrefix(queryAddress, draggeeOriginalAddress);\n      if (\n        localDraggeeAddress !== null &&\n        localDraggeeAddress.length === 2 &&\n        localDraggeeAddress[0] === ARG_EXPRESSION_ADDRESS_PART &&\n        localDraggeeAddress[1] === expressionIndex &&\n        hasDragPositionChangedSinceDragStart\n      ) {\n        ++expressionIndex;\n        return getLiteralDimensions(\"\", editorProps);\n      }\n\n      // We only need to calculate the dimensions of the block spec,\n      // and can ignore the rest of the spec.\n      // Therefore, we can use dummy values for the arguments that will not\n      // affect the dimensions of the block spec.\n      const dummyPosition = { x: 0, y: 0 };\n      const dummyAddress: NodeAddress = [DRAGGEE_ADDRESS_PART];\n      const dummyInsertionMark = null;\n      const dummyIsUnreachable = false;\n\n      const spec = getBlockRenderSpec({\n        editorProps,\n        position: dummyPosition,\n        block: part.block,\n        address: dummyAddress,\n        insertionMark: dummyInsertionMark,\n        draggeeOriginalAddress,\n        hasDragPositionChangedSinceDragStart,\n        dropdownMenuDropdownAddress,\n        isUnreachable: dummyIsUnreachable,\n      });\n      ++expressionIndex;\n      return spec.rbox.dimensions;\n    }\n\n    if (part.kind === BlockPartKind.CommandSequence) {\n      throw new Error(\n        \"Impossible: A query should never contain a command sequence.\"\n      );\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const exhaustivenessCheck: never = part;\n    return exhaustivenessCheck;\n  });\n\n  const totalWidth = sumArray(partDimensions.map((d) => d.width));\n  const maxHeight = Math.max(...partDimensions.map((d) => d.height));\n  const rboxHeight = maxHeight + 2 * sizing.queryBlockVerticalPadding;\n\n  const radius = 0.5 * rboxHeight;\n\n  const totalInterBlockPartHorizontalMargin =\n    sizing.interBlockPartHorizontalMargin * (partDimensions.length - 1);\n\n  const leftPadding =\n    blockParts[0].kind === BlockPartKind.Label\n      ? radius\n      : sizing.queryBlockVerticalPadding;\n  const rightPadding =\n    blockParts[blockParts.length - 1].kind === BlockPartKind.Label\n      ? radius\n      : sizing.queryBlockVerticalPadding;\n\n  return {\n    width:\n      totalWidth +\n      totalInterBlockPartHorizontalMargin +\n      leftPadding +\n      rightPadding,\n    height: rboxHeight,\n  };\n}\n\nfunction getDropdownDimensions<BlockKind extends string | number | symbol>(\n  dropdownValue: string,\n  editorProps: BlockEditorProps<BlockKind>\n): Dimensions {\n  const { sizing, fonts } = editorProps.config;\n  const naiveTextDimensions = editorProps.measureText(\n    dropdownValue,\n    fonts.blockDropdownFont,\n    sizing.blockDropdownTextSizePx\n  );\n  const minimumTextDimensions = editorProps.measureText(\n    MINIMAL_LOREM_IPSUM_TEXT_FOR_FONT_MEASUREMENT,\n    fonts.blockDropdownFont,\n    sizing.blockDropdownTextSizePx\n  );\n  const textDimensions = {\n    width: Math.max(naiveTextDimensions.width, minimumTextDimensions.width),\n    height: Math.max(naiveTextDimensions.height, minimumTextDimensions.height),\n  };\n  const textDimensionsWithPadding = {\n    width: textDimensions.width + 2 * sizing.blockDropdownHorizontalPadding,\n    height: textDimensions.height + 2 * sizing.blockDropdownVerticalPadding,\n  };\n  const arrowDimensions = {\n    width: sizing.blockDropdownArrowWidth,\n    height:\n      (DROPDOWN_ARROW.height * sizing.blockDropdownArrowWidth) /\n      DROPDOWN_ARROW.width,\n  };\n  const arrowDimensionsWithMargin = {\n    width: arrowDimensions.width + sizing.blockDropdownArrowLeftMargin,\n    height: arrowDimensions.height + sizing.blockDropdownArrowVerticalMargin,\n  };\n  const dropdownRadius = 0.5 * textDimensionsWithPadding.height;\n  return {\n    width:\n      textDimensionsWithPadding.width +\n      arrowDimensionsWithMargin.width +\n      2 * dropdownRadius,\n    height: Math.max(\n      textDimensionsWithPadding.height,\n      arrowDimensionsWithMargin.height\n    ),\n  };\n}\n\nfunction getLiteralDimensions<BlockKind extends string | number | symbol>(\n  literalSource: string,\n  editorProps: BlockEditorProps<BlockKind>\n): Dimensions {\n  const { sizing, fonts } = editorProps.config;\n  const naiveTextDimensions = editorProps.measureText(\n    literalSource,\n    fonts.blockDropdownFont,\n    sizing.blockDropdownTextSizePx\n  );\n  const minimumTextDimensions = editorProps.measureText(\n    MINIMAL_LOREM_IPSUM_TEXT_FOR_FONT_MEASUREMENT,\n    fonts.blockDropdownFont,\n    sizing.blockDropdownTextSizePx\n  );\n  const textDimensions = {\n    width: Math.max(naiveTextDimensions.width, minimumTextDimensions.width),\n    height: Math.max(naiveTextDimensions.height, minimumTextDimensions.height),\n  };\n  const textDimensionsWithPadding = {\n    width: textDimensions.width + 2 * sizing.blockLiteralHorizontalPadding,\n    height: textDimensions.height + 2 * sizing.blockLiteralVerticalPadding,\n  };\n  const literalRadius = 0.5 * textDimensionsWithPadding.height;\n  return {\n    width: textDimensionsWithPadding.width + 2 * literalRadius,\n    height: textDimensionsWithPadding.height,\n  };\n}\n\nfunction sumArray(arr: readonly number[]): number {\n  return arr.reduce((acc, x) => acc + x, 0);\n}\n\nfunction getQueryBlockRenderSpec<BlockKind extends string | number | symbol>({\n  editorProps,\n  position,\n  block,\n  blockDef,\n  address,\n  insertionMark,\n  draggeeOriginalAddress,\n  hasDragPositionChangedSinceDragStart,\n  dropdownMenuDropdownAddress,\n  isUnreachable,\n}: {\n  editorProps: BlockEditorProps<BlockKind>;\n  position: Vec2;\n  block: Block<BlockKind>;\n  blockDef: QueryBlockDef<BlockKind>;\n  address: NodeAddress;\n  insertionMark: null | InsertionMark<BlockKind>;\n  draggeeOriginalAddress: null | NodeAddress;\n  hasDragPositionChangedSinceDragStart: boolean;\n  dropdownMenuDropdownAddress: null | NodeAddress;\n  isUnreachable: boolean;\n}): BlockRenderSpec<BlockKind> {\n  const { sizing, fonts } = editorProps.config;\n\n  const localDraggeeAddress =\n    draggeeOriginalAddress === null\n      ? null\n      : withoutPrefix(address, draggeeOriginalAddress);\n\n  const parts = getBlockParts(blockDef, block);\n\n  const labelSpecs: LabelRenderSpec[] = [];\n  const dropdownSpecs: DropdownRenderSpec<BlockKind>[] = [];\n  const subexpressionSpecs: ExpressionRenderSpec<BlockKind>[] = [];\n  let currentY = position.y;\n\n  const rboxDimensions = getQueryRboxDimensionsFromParts(\n    parts,\n    address,\n    draggeeOriginalAddress,\n    hasDragPositionChangedSinceDragStart,\n    dropdownMenuDropdownAddress,\n    editorProps\n  );\n  const queryRadius = 0.5 * rboxDimensions.height;\n\n  const leftPadding =\n    parts[0].kind === BlockPartKind.Label\n      ? queryRadius\n      : sizing.queryBlockVerticalPadding;\n\n  let currentX = position.x + leftPadding;\n  let dropdownIndex = 0;\n  let expressionIndex = 0;\n\n  for (const part of parts) {\n    if (part.kind === BlockPartKind.Label) {\n      const dimensions = editorProps.measureText(\n        part.text,\n        fonts.blockLabelFont,\n        sizing.blockLabelTextSizePx\n      );\n      labelSpecs.push({\n        kind: RenderSpecKind.Label,\n        text: part.text,\n        rbox: {\n          topLeft: {\n            x: currentX,\n            y: currentY + 0.5 * rboxDimensions.height,\n          },\n          dimensions,\n        },\n      });\n      currentX += dimensions.width + sizing.interBlockPartHorizontalMargin;\n      continue;\n    }\n\n    if (part.kind === BlockPartKind.Dropdown) {\n      const dropdownDimensions = getDropdownDimensions(part.value, editorProps);\n\n      const dropdownAddress = address.concat([\n        ARG_DROPDOWN_ADDRESS_PART,\n        dropdownIndex,\n      ]);\n\n      dropdownSpecs.push({\n        kind: RenderSpecKind.Dropdown,\n        parentBlockKind: block.kind,\n        value: part.value,\n        hasPendingEditMark:\n          dropdownMenuDropdownAddress !== null &&\n          areNodeAddressesEqual(dropdownAddress, dropdownMenuDropdownAddress),\n        address: dropdownAddress,\n        isUnreachable,\n        rbox: {\n          topLeft: {\n            x: currentX,\n            y:\n              currentY +\n              0.5 * rboxDimensions.height -\n              0.5 * dropdownDimensions.height,\n          },\n          dimensions: dropdownDimensions,\n        },\n      });\n      ++dropdownIndex;\n      currentX +=\n        dropdownDimensions.width + sizing.interBlockPartHorizontalMargin;\n      continue;\n    }\n\n    if (part.kind === BlockPartKind.Literal) {\n      const literalDimensions = getLiteralDimensions(part.source, editorProps);\n      const literalAddress = address.concat([\n        ARG_EXPRESSION_ADDRESS_PART,\n        expressionIndex,\n      ]);\n\n      subexpressionSpecs.push({\n        kind: RenderSpecKind.Literal,\n        parentBlockKind: block.kind,\n        source: part.source,\n        address: literalAddress,\n        isUnreachable,\n        hasQueryInsertionMark:\n          insertionMark !== null &&\n          areNodeAddressesEqual(literalAddress, insertionMark.address),\n        rbox: {\n          topLeft: {\n            x: currentX,\n            y:\n              currentY +\n              0.5 * rboxDimensions.height -\n              0.5 * literalDimensions.height,\n          },\n          dimensions: literalDimensions,\n        },\n      });\n      ++expressionIndex;\n      currentX +=\n        literalDimensions.width + sizing.interBlockPartHorizontalMargin;\n      continue;\n    }\n\n    if (part.kind === BlockPartKind.Block) {\n      if (\n        localDraggeeAddress !== null &&\n        localDraggeeAddress.length === 2 &&\n        localDraggeeAddress[0] === ARG_EXPRESSION_ADDRESS_PART &&\n        localDraggeeAddress[1] === expressionIndex &&\n        hasDragPositionChangedSinceDragStart\n      ) {\n        const literalDimensions = getLiteralDimensions(\"\", editorProps);\n        const literalAddress = address.concat([\n          ARG_EXPRESSION_ADDRESS_PART,\n          expressionIndex,\n        ]);\n\n        subexpressionSpecs.push({\n          kind: RenderSpecKind.Literal,\n          parentBlockKind: block.kind,\n          source: \"\",\n          hasQueryInsertionMark:\n            insertionMark !== null &&\n            areNodeAddressesEqual(literalAddress, insertionMark.address),\n          address: literalAddress,\n          isUnreachable,\n          rbox: {\n            topLeft: {\n              x: currentX,\n              y:\n                currentY +\n                0.5 * rboxDimensions.height -\n                0.5 * literalDimensions.height,\n            },\n            dimensions: literalDimensions,\n          },\n        });\n        ++expressionIndex;\n        currentX +=\n          literalDimensions.width + sizing.interBlockPartHorizontalMargin;\n        continue;\n      }\n\n      const misplacedButCorrectlySizedSpec = getBlockRenderSpec({\n        editorProps,\n        position: { x: 0, y: 0 },\n        block: part.block,\n        address: address.concat([ARG_EXPRESSION_ADDRESS_PART, expressionIndex]),\n        insertionMark,\n        draggeeOriginalAddress,\n        hasDragPositionChangedSinceDragStart,\n        dropdownMenuDropdownAddress,\n        isUnreachable,\n      });\n      const spec = getBlockRenderSpec({\n        editorProps,\n        position: {\n          x: currentX,\n          y:\n            currentY +\n            0.5 *\n              (rboxDimensions.height -\n                misplacedButCorrectlySizedSpec.rbox.dimensions.height),\n        },\n        block: part.block,\n        address: address.concat([ARG_EXPRESSION_ADDRESS_PART, expressionIndex]),\n        insertionMark,\n        draggeeOriginalAddress,\n        hasDragPositionChangedSinceDragStart,\n        dropdownMenuDropdownAddress,\n        isUnreachable,\n      });\n      subexpressionSpecs.push(spec);\n      currentX +=\n        spec.rbox.dimensions.width + sizing.interBlockPartHorizontalMargin;\n      ++expressionIndex;\n      continue;\n    }\n  }\n\n  const rbox = {\n    topLeft: position,\n    dimensions: rboxDimensions,\n  };\n\n  return {\n    kind: RenderSpecKind.Block,\n    block,\n    address,\n    isUnreachable,\n    rbox,\n    teeth: [],\n    labelSpecs,\n    dropdownSpecs,\n    subexpressionSpecs,\n    subsequenceSpecs: [],\n  };\n}\n\nfunction getBlockParts<BlockKind extends string | number | symbol>(\n  blockDef: BlockDef<BlockKind>,\n  block: Block<BlockKind>\n): readonly BlockPart<BlockKind>[] {\n  const { dropdowns, expressions, sequences } = block.args;\n\n  const parts: BlockPart<BlockKind>[] = [];\n  let dropdownIndex = 0;\n  let expressionIndex = 0;\n  let sequenceIndex = 0;\n\n  for (const signaturePart of blockDef.signature) {\n    if (signaturePart.kind === BlockSignaturePartKind.Label) {\n      parts.push({\n        kind: BlockPartKind.Label,\n        text: signaturePart.text,\n      });\n      continue;\n    }\n\n    if (signaturePart.kind === BlockSignaturePartKind.Dropdown) {\n      parts.push({\n        kind: BlockPartKind.Dropdown,\n        value: dropdowns[dropdownIndex],\n      });\n      ++dropdownIndex;\n      continue;\n    }\n\n    if (signaturePart.kind === BlockSignaturePartKind.Expression) {\n      const expression = expressions[expressionIndex];\n      ++expressionIndex;\n\n      if (expression.isLiteral) {\n        parts.push({\n          kind: BlockPartKind.Literal,\n          source: expression.source,\n        });\n        continue;\n      }\n\n      parts.push({\n        kind: BlockPartKind.Block,\n        block: expression,\n      });\n      continue;\n    }\n\n    if (signaturePart.kind === BlockSignaturePartKind.CommandSequence) {\n      const sequence = sequences[sequenceIndex];\n      ++sequenceIndex;\n\n      parts.push({\n        kind: BlockPartKind.CommandSequence,\n        sequence,\n      });\n      continue;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const _exhaustivenessCheck: never = signaturePart;\n  }\n\n  return parts;\n}\n\nfunction getCommandBlockFemaleSocketPathPoints(\n  sizing: BlockEditorSizingProps\n): CommandBlockFemaleSocketPathPoints {\n  const border = sizing.blockBorder;\n  const bmin = sizing.commandSocket.minorBase;\n  const bmaj = sizing.commandSocket.majorBase;\n  const h = sizing.commandSocket.height;\n  const halfDiff = (bmaj - bmin) / 2;\n  const theta = Math.atan(halfDiff / h);\n  const k = h / halfDiff;\n  const { indent } = sizing.commandSocket;\n  /** Outer corner radius */\n  const ro = sizing.blockBorderRadius + sizing.blockBorder;\n  /** Inner corner radius */\n  const ri = sizing.blockBorderRadius;\n\n  const ofTLs = { x: indent, y: 0 };\n  const fTLc = { x: indent, y: -ro };\n  const ofTLe = addVec(fTLc, {\n    x: ro * Math.cos(theta),\n    y: ro * Math.sin(theta),\n  });\n  const ofTLt = addVec(ofTLe, { x: ofTLe.y / k, y: -ofTLe.y });\n  const ofBLt = addVec(ofTLt, { x: h / k, y: -h });\n  const ofBLf = addVec(ofBLt, { x: -ri / k, y: ri });\n  const fBLc = addVec(ofBLf, { x: ri / Math.cos(theta), y: 0 });\n  const ofBLs = subVec(fBLc, {\n    x: ri * Math.cos(theta),\n    y: ri * Math.sin(theta),\n  });\n  const ofBLe = addVec(fBLc, { x: 0, y: -ri });\n  const ofBRt = addVec(ofBLt, { x: bmin, y: 0 });\n  const ofBRf = addVec(ofBRt, { x: ri / k, y: ri });\n  const fBRc = subVec(ofBRf, { x: ri / Math.cos(theta), y: 0 });\n  const ofBRs = addVec(fBRc, { x: 0, y: -ri });\n  const ofBRe = addVec(fBRc, {\n    x: ri * Math.cos(theta),\n    y: ri * -Math.sin(theta),\n  });\n  const ofTRt = addVec(ofTLt, { x: bmaj, y: 0 });\n  const ofTRe = addVec(ofTRt, subVec(ofTLt, ofTLs));\n  const fTRc = addVec(ofTRe, { x: 0, y: -ro });\n  const ofTRs = addVec(fTRc, {\n    x: -ro * Math.cos(theta),\n    y: ro * Math.sin(theta),\n  });\n  const ifTLs = addVec(ofTLs, { x: 0, y: -border });\n  const ifTLe = addVec(fTLc, {\n    x: ri * Math.cos(theta),\n    y: ri * Math.sin(theta),\n  });\n  const ifBLs = subVec(fBLc, {\n    x: ro * Math.cos(theta),\n    y: ro * Math.sin(theta),\n  });\n  const ifBLe = addVec(fBLc, { x: 0, y: -ro });\n  const ifBRs = addVec(fBRc, { x: 0, y: -ro });\n  const ifBRe = addVec(fBRc, {\n    x: ro * Math.cos(theta),\n    y: -ro * Math.sin(theta),\n  });\n  const ifTRs = addVec(fTRc, {\n    x: -ri * Math.cos(theta),\n    y: ri * Math.sin(theta),\n  });\n  const ifTRe = addVec(fTRc, { x: 0, y: ri });\n\n  return {\n    ofTLs: invertY(ofTLs),\n    ofTLe: invertY(ofTLe),\n    ofBLs: invertY(ofBLs),\n    ofBLe: invertY(ofBLe),\n    ofBRs: invertY(ofBRs),\n    ofBRe: invertY(ofBRe),\n    ofTRs: invertY(ofTRs),\n    ofTRe: invertY(ofTRe),\n\n    ifTLs: invertY(ifTLs),\n    ifTLe: invertY(ifTLe),\n    ifBLs: invertY(ifBLs),\n    ifBLe: invertY(ifBLe),\n    ifBRs: invertY(ifBRs),\n    ifBRe: invertY(ifBRe),\n    ifTRs: invertY(ifTRs),\n    ifTRe: invertY(ifTRe),\n  };\n}\n\nfunction getMinimumCommandBlockHeight<\n  BlockKind extends string | number | symbol\n>(editorProps: BlockEditorProps<BlockKind>): number {\n  const { sizing } = editorProps.config;\n  return (\n    0 + sizing.commandSocket.height + 2 * sizing.commandBlockVerticalPadding\n  );\n}\n\nfunction getDefaultCommandBlockHeight<\n  BlockKind extends string | number | symbol\n>(editorProps: BlockEditorProps<BlockKind>): number {\n  const { sizing, fonts } = editorProps.config;\n  const textDimensions = editorProps.measureText(\n    MINIMAL_LOREM_IPSUM_TEXT_FOR_FONT_MEASUREMENT,\n    fonts.blockLabelFont,\n    sizing.blockLabelTextSizePx\n  );\n  return (\n    textDimensions.height +\n    sizing.commandSocket.height +\n    2 * sizing.commandBlockVerticalPadding\n  );\n}\n\nfunction identityFunctionToForceTypesafeCast<T>(x: T): T {\n  return x;\n}\n\nfunction expectNumericAddressPart(part: NodeAddressPart): number {\n  if (Number.isInteger(part) && (part as number) >= 0) {\n    return part as number;\n  }\n\n  throw new Error(\n    `Expected numeric address part (i.e., a non-negative integer) but got the address part: ${String(\n      part\n    )}.`\n  );\n}\n\nfunction isFirstCommandEntryPoint<BlockKind extends string | number | symbol>(\n  defs: BlockDefs<BlockKind>,\n  commands: readonly Block<BlockKind>[]\n): boolean {\n  if (commands.length === 0) {\n    return false;\n  }\n\n  const def = defs[commands[0].kind];\n  return def.kind === BlockDefKind.Command && def.isEntryPoint;\n}\n\n/**\n * If `list` starts with `prefix`, returns `list` without `prefix`.\n * Otherwise, returns `null`.\n */\nfunction withoutPrefix<T>(\n  prefix: readonly T[],\n  list: readonly T[]\n): null | readonly T[] {\n  if (prefix.length > list.length) {\n    return null;\n  }\n\n  for (let i = 0; i < prefix.length; ++i) {\n    if (prefix[i] !== list[i]) {\n      return null;\n    }\n  }\n\n  return list.slice(prefix.length);\n}\n\nfunction getInsertionMarkCommand<BlockKind extends string | number | symbol>(\n  draggee: BlockSequence<BlockKind>,\n  defs: BlockDefs<BlockKind>\n): Block<BlockKind> {\n  if (draggee.length === 0) {\n    throw new Error(\n      \"Cannot get insertion mark command for empty command sequence.\"\n    );\n  }\n\n  const topCommand = draggee[0];\n  const topDef = defs[topCommand.kind];\n  if (topDef.kind !== BlockDefKind.Command) {\n    throw new Error(\"Expected top command to be a command block.\");\n  }\n\n  if (!topDef.hasFemaleSocket) {\n    return draggee[draggee.length - 1];\n  }\n\n  return topCommand;\n}\n\nfunction translateBlockSpec<BlockKind extends string | number | symbol>(\n  spec: BlockRenderSpec<BlockKind>,\n  displacement: Vec2\n): BlockRenderSpec<BlockKind> {\n  const rbox = {\n    topLeft: addVec(spec.rbox.topLeft, displacement),\n    dimensions: spec.rbox.dimensions,\n  };\n\n  const teeth = spec.teeth.map((tooth) => ({\n    rbox: {\n      topLeft: addVec(tooth.rbox.topLeft, displacement),\n      dimensions: tooth.rbox.dimensions,\n    },\n    hasFemaleSocket: tooth.hasFemaleSocket,\n    hasMaleSocket: tooth.hasMaleSocket,\n  }));\n\n  const labelSpecs = spec.labelSpecs.map((s) =>\n    translateLabelSpec(s, displacement)\n  );\n  const dropdownSpecs = spec.dropdownSpecs.map((s) =>\n    translateDropdownSpec(s, displacement)\n  );\n  const subexpressionSpecs = spec.subexpressionSpecs.map((s) =>\n    translateExpressionSpec(s, displacement)\n  );\n  const subsequenceSpecs = spec.subsequenceSpecs.map((s) =>\n    translateBlockSequenceSpec(s, displacement)\n  );\n\n  return {\n    kind: RenderSpecKind.Block,\n    block: spec.block,\n    address: spec.address,\n    isUnreachable: spec.isUnreachable,\n    rbox,\n    teeth,\n    labelSpecs,\n    dropdownSpecs,\n    subexpressionSpecs,\n    subsequenceSpecs,\n  };\n}\n\nfunction translateBlockSequenceSpec<BlockKind extends string | number | symbol>(\n  spec: BlockSequenceRenderSpec<BlockKind>,\n  displacement: Vec2\n): BlockSequenceRenderSpec<BlockKind> {\n  const rbox = {\n    topLeft: addVec(spec.rbox.topLeft, displacement),\n    dimensions: spec.rbox.dimensions,\n  };\n\n  const blockSpecs = spec.blockSpecs.map((s) =>\n    translateBlockSpec(s, displacement)\n  );\n\n  return {\n    kind: RenderSpecKind.BlockSequence,\n    sequence: spec.sequence,\n    address: spec.address,\n    rbox,\n    blockSpecs,\n  };\n}\n\nfunction translateExpressionSpec<BlockKind extends string | number | symbol>(\n  spec: ExpressionRenderSpec<BlockKind>,\n  displacement: Vec2\n): ExpressionRenderSpec<BlockKind> {\n  if (spec.kind === RenderSpecKind.Literal) {\n    return translateLiteralSpec(spec, displacement);\n  }\n\n  return translateBlockSpec(spec, displacement);\n}\n\nfunction translateLiteralSpec<BlockKind extends string | number | symbol>(\n  spec: LiteralRenderSpec<BlockKind>,\n  displacement: Vec2\n): LiteralRenderSpec<BlockKind> {\n  const rbox = {\n    topLeft: addVec(spec.rbox.topLeft, displacement),\n    dimensions: spec.rbox.dimensions,\n  };\n\n  return {\n    kind: RenderSpecKind.Literal,\n    parentBlockKind: spec.parentBlockKind,\n    source: spec.source,\n    hasQueryInsertionMark: spec.hasQueryInsertionMark,\n    address: spec.address,\n    isUnreachable: spec.isUnreachable,\n    rbox,\n  };\n}\n\nfunction translateDropdownSpec<BlockKind extends string | number | symbol>(\n  spec: DropdownRenderSpec<BlockKind>,\n  displacement: Vec2\n): DropdownRenderSpec<BlockKind> {\n  const rbox = {\n    topLeft: addVec(spec.rbox.topLeft, displacement),\n    dimensions: spec.rbox.dimensions,\n  };\n\n  return {\n    kind: RenderSpecKind.Dropdown,\n    parentBlockKind: spec.parentBlockKind,\n    value: spec.value,\n    hasPendingEditMark: spec.hasPendingEditMark,\n    address: spec.address,\n    isUnreachable: spec.isUnreachable,\n    rbox,\n  };\n}\n\nfunction translateLabelSpec(\n  spec: LabelRenderSpec,\n  displacement: Vec2\n): LabelRenderSpec {\n  const rbox = {\n    topLeft: addVec(spec.rbox.topLeft, displacement),\n    dimensions: spec.rbox.dimensions,\n  };\n\n  return {\n    kind: RenderSpecKind.Label,\n    text: spec.text,\n    rbox,\n  };\n}\n\nfunction readdressBlockSpecAndMarkAsReachableAndRemovePendingEditMark<\n  BlockKind extends string | number | symbol\n>(\n  spec: BlockRenderSpec<BlockKind>,\n  newAddress: NodeAddress\n): BlockRenderSpec<BlockKind> {\n  return {\n    kind: RenderSpecKind.Block,\n    block: spec.block,\n    address: newAddress,\n    isUnreachable: false,\n    rbox: spec.rbox,\n    teeth: spec.teeth,\n    labelSpecs: spec.labelSpecs,\n    dropdownSpecs: spec.dropdownSpecs.map((s, i) =>\n      readdressDropdownSpecAndMarkAsReachableAndRemovePendingEditMark(\n        s,\n        newAddress.concat([ARG_DROPDOWN_ADDRESS_PART, i])\n      )\n    ),\n    subexpressionSpecs: spec.subexpressionSpecs.map((s, i) =>\n      readdressExpressionSpecAndMarkAsReachableAndRemovePendingEditMark(\n        s,\n        newAddress.concat([ARG_EXPRESSION_ADDRESS_PART, i])\n      )\n    ),\n    subsequenceSpecs: spec.subsequenceSpecs.map((s, i) =>\n      readdressBlockSequenceSpecAndMarkAsReachableAndRemovePendingEditMark(\n        s,\n        newAddress.concat([ARG_COMMAND_SEQUENCE_ADDRESS_PART, i])\n      )\n    ),\n  };\n}\n\nfunction readdressBlockSequenceSpecAndMarkAsReachableAndRemovePendingEditMark<\n  BlockKind extends string | number | symbol\n>(\n  spec: BlockSequenceRenderSpec<BlockKind>,\n  newAddress: NodeAddress\n): BlockSequenceRenderSpec<BlockKind> {\n  return {\n    kind: RenderSpecKind.BlockSequence,\n    sequence: spec.sequence,\n    address: newAddress,\n    rbox: spec.rbox,\n    blockSpecs: spec.blockSpecs.map((s, i) =>\n      readdressBlockSpecAndMarkAsReachableAndRemovePendingEditMark(\n        s,\n        newAddress.concat([i])\n      )\n    ),\n  };\n}\n\nfunction readdressExpressionSpecAndMarkAsReachableAndRemovePendingEditMark<\n  BlockKind extends string | number | symbol\n>(\n  spec: ExpressionRenderSpec<BlockKind>,\n  newAddress: NodeAddress\n): ExpressionRenderSpec<BlockKind> {\n  if (spec.kind === RenderSpecKind.Literal) {\n    return readdressLiteralSpecAndMarkAsReachableAndRemovePendingEditMark(\n      spec,\n      newAddress\n    );\n  }\n\n  return readdressBlockSpecAndMarkAsReachableAndRemovePendingEditMark(\n    spec,\n    newAddress\n  );\n}\n\nfunction readdressLiteralSpecAndMarkAsReachableAndRemovePendingEditMark<\n  BlockKind extends string | number | symbol\n>(\n  spec: LiteralRenderSpec<BlockKind>,\n  newAddress: NodeAddress\n): LiteralRenderSpec<BlockKind> {\n  return {\n    kind: RenderSpecKind.Literal,\n    parentBlockKind: spec.parentBlockKind,\n    source: spec.source,\n    hasQueryInsertionMark: spec.hasQueryInsertionMark,\n    address: newAddress,\n    isUnreachable: false,\n    rbox: spec.rbox,\n  };\n}\n\nfunction readdressDropdownSpecAndMarkAsReachableAndRemovePendingEditMark<\n  BlockKind extends string | number | symbol\n>(\n  spec: DropdownRenderSpec<BlockKind>,\n  newAddress: NodeAddress\n): DropdownRenderSpec<BlockKind> {\n  return {\n    kind: RenderSpecKind.Dropdown,\n    parentBlockKind: spec.parentBlockKind,\n    value: spec.value,\n    hasPendingEditMark: false,\n    address: newAddress,\n    isUnreachable: false,\n    rbox: spec.rbox,\n  };\n}\n\nfunction getDraggeeFromBlockSequenceUsingLocalAddress<\n  BlockKind extends string | number | symbol\n>(\n  spec: BlockSequenceRenderSpec<BlockKind>,\n  dragDisplacement: Vec2,\n  localAddress: NodeAddress\n): BlockSequenceRenderSpec<BlockKind> {\n  const rawSpec =\n    getLongestPossibleSubsequenceSpecFromSequenceSpecStartingAtLocalAddress(\n      spec,\n      localAddress\n    );\n  const translated = translateBlockSequenceSpec(rawSpec, dragDisplacement);\n  return readdressBlockSequenceSpecAndMarkAsReachableAndRemovePendingEditMark(\n    translated,\n    [DRAGGEE_ADDRESS_PART]\n  );\n}\n\nfunction getLongestPossibleSubsequenceSpecFromSequenceSpecStartingAtLocalAddress<\n  BlockKind extends string | number | symbol\n>(\n  spec: BlockSequenceRenderSpec<BlockKind>,\n  localAddress: NodeAddress\n): BlockSequenceRenderSpec<BlockKind> {\n  if (localAddress.length === 0) {\n    return spec;\n  }\n\n  if (localAddress.length > 1) {\n    const commandIndex = expectNumericAddressPart(localAddress[0]);\n    return getLongestPossibleSubsequenceSpecFromBlockSpecStartingAtLocalAddress(\n      spec.blockSpecs[commandIndex],\n      localAddress.slice(1)\n    );\n  }\n\n  if (localAddress.length === 1) {\n    const dragIndex = expectNumericAddressPart(localAddress[0]);\n    const slicedSpecs = spec.blockSpecs.slice(dragIndex);\n    const lastSlicedSpec = slicedSpecs[slicedSpecs.length - 1];\n    const dummyAddress: NodeAddress = [DRAGGEE_ADDRESS_PART];\n    return {\n      kind: RenderSpecKind.BlockSequence,\n      sequence: spec.sequence.slice(dragIndex),\n      address: dummyAddress,\n      rbox: {\n        topLeft: slicedSpecs[0].rbox.topLeft,\n        dimensions: {\n          width: Math.max(...slicedSpecs.map((s) => s.rbox.dimensions.width)),\n          height:\n            lastSlicedSpec.rbox.topLeft.y +\n            lastSlicedSpec.rbox.dimensions.height -\n            slicedSpecs[0].rbox.topLeft.y,\n        },\n      },\n      blockSpecs: slicedSpecs,\n    };\n  }\n\n  console.error(\"Invalid local address.\", { spec, localAddress });\n  throw new Error(\"Invalid local address.\");\n}\n\nfunction getLongestPossibleSubsequenceSpecFromBlockSpecStartingAtLocalAddress<\n  BlockKind extends string | number | symbol\n>(\n  spec: BlockRenderSpec<BlockKind>,\n  localAddress: NodeAddress\n): BlockSequenceRenderSpec<BlockKind> {\n  if (localAddress.length === 0) {\n    const dummySequenceAddress: NodeAddress = spec.address.slice(0, -1);\n    return {\n      kind: RenderSpecKind.BlockSequence,\n      sequence: [spec.block],\n      address: dummySequenceAddress,\n      blockSpecs: [spec],\n      rbox: spec.rbox,\n    };\n  }\n\n  if (localAddress[0] === ARG_EXPRESSION_ADDRESS_PART) {\n    const subexpressionIndex = expectNumericAddressPart(localAddress[1]);\n    const subexpression = spec.subexpressionSpecs[subexpressionIndex];\n\n    if (subexpression.kind === RenderSpecKind.Literal) {\n      throw new Error(\n        \"Impossible: a block literal node is on the draggee path.\"\n      );\n    }\n\n    return getLongestPossibleSubsequenceSpecFromBlockSpecStartingAtLocalAddress(\n      subexpression,\n      localAddress.slice(2)\n    );\n  }\n\n  if (localAddress[0] === ARG_COMMAND_SEQUENCE_ADDRESS_PART) {\n    const subsequenceIndex = expectNumericAddressPart(localAddress[1]);\n    const subsequenceSpec = spec.subsequenceSpecs[subsequenceIndex];\n    return getLongestPossibleSubsequenceSpecFromSequenceSpecStartingAtLocalAddress(\n      subsequenceSpec,\n      localAddress.slice(2)\n    );\n  }\n\n  console.error(\"Invalid local address.\", { spec, localAddress });\n  throw new Error(\"Invalid local address.\");\n}\n\nfunction getDataTouchRoleFromBlockAddress(address: NodeAddress): string {\n  return (\n    DATA_TOUCH_ROLES.blockAddressPrefix +\n    address.map(stringifyNodeAddressPart).join(\"_\")\n  );\n}\n\nfunction getDataTouchRoleFromDropdownAddress(address: NodeAddress): string {\n  return (\n    DATA_TOUCH_ROLES.dropdownAddressPrefix +\n    address.map(stringifyNodeAddressPart).join(\"_\")\n  );\n}\n\nfunction getDataTouchRoleFromLiteralAddress(address: NodeAddress): string {\n  return (\n    DATA_TOUCH_ROLES.literalAddressPrefix +\n    address.map(stringifyNodeAddressPart).join(\"_\")\n  );\n}\n\nfunction stringifyNodeAddressPart(part: NodeAddressPart): string {\n  if (typeof part === \"string\" && isNodeAddressPartString(part)) {\n    return part;\n  }\n\n  if (Number.isInteger(part) && part >= 0) {\n    return String(part);\n  }\n\n  throw new Error(\n    `Expected address part to be a non-negative integer or a NodeAddressPartString, but got: ${String(\n      part\n    )}.`\n  );\n}\n\nfunction getBlockAddressFromDataTouchRole(role: string): null | NodeAddress {\n  if (!role.startsWith(DATA_TOUCH_ROLES.blockAddressPrefix)) {\n    return null;\n  }\n\n  const parts = role\n    .slice(DATA_TOUCH_ROLES.blockAddressPrefix.length)\n    .split(\"_\");\n  const parsed = parts.map(parseNodeAddressPart);\n  if (parsed.some((part) => part === null)) {\n    return null;\n  }\n\n  return parsed as NodeAddress;\n}\n\nfunction getLiteralAddressFromDataTouchRole(role: string): null | NodeAddress {\n  if (!role.startsWith(DATA_TOUCH_ROLES.literalAddressPrefix)) {\n    return null;\n  }\n\n  const parts = role\n    .slice(DATA_TOUCH_ROLES.literalAddressPrefix.length)\n    .split(\"_\");\n  const parsed = parts.map(parseNodeAddressPart);\n  if (parsed.some((part) => part === null)) {\n    return null;\n  }\n\n  return parsed as NodeAddress;\n}\n\nfunction getDropdownAddressFromDataTouchRole(role: string): null | NodeAddress {\n  if (!role.startsWith(DATA_TOUCH_ROLES.dropdownAddressPrefix)) {\n    return null;\n  }\n\n  const parts = role\n    .slice(DATA_TOUCH_ROLES.dropdownAddressPrefix.length)\n    .split(\"_\");\n  const parsed = parts.map(parseNodeAddressPart);\n  if (parsed.some((part) => part === null)) {\n    return null;\n  }\n\n  return parsed as NodeAddress;\n}\n\nfunction parseNodeAddressPart(part: string): null | NodeAddressPart {\n  if (isNodeAddressPartString(part)) {\n    return part;\n  }\n\n  const asNumber = Number.parseInt(part, 10);\n  if (Number.isInteger(asNumber) && asNumber >= 0) {\n    return asNumber;\n  }\n\n  return null;\n}\n\nfunction isNodeAddressPartString(s: string): s is NodeAddressPartString {\n  return Boolean(NODE_ADDRESS_PART_STRINGS[s as NodeAddressPartString]);\n}\n\nfunction getTouchRoleAtClientPosition(\n  clientPosition: Vec2,\n  editorComponentInstanceUid: string\n): null | string {\n  const root = document.getElementById(\n    editorComponentInstanceUid + DOM_ID_SUFFIXES.root\n  );\n  if (root === null) {\n    return null;\n  }\n\n  const elements = document.elementsFromPoint(\n    clientPosition.x,\n    clientPosition.y\n  );\n  for (const element of elements) {\n    const role = getTouchRoleOrNearestAncestorTouchRole(element);\n    if (role !== null && root.contains(element)) {\n      return role;\n    }\n  }\n  return null;\n}\n\nfunction getTouchRoleOrNearestAncestorTouchRole(\n  element: Element\n): null | string {\n  let current: Element | null = element;\n  while (current !== null) {\n    const role = current.getAttribute(\"data-touch-role\");\n    if (role !== null && role.length > 0) {\n      return role;\n    }\n\n    current = current.parentElement;\n  }\n\n  return null;\n}\n\nexport function getCanvasItemRenderSpecs<\n  BlockKind extends string | number | symbol\n>(\n  editorProps: BlockEditorProps<BlockKind>\n): readonly BlockSequenceRenderSpec<BlockKind>[] {\n  const { state } = editorProps;\n  const draggeeSpec = getDraggeeSpecOrNull(editorProps);\n  const { uiTouch: nodeTouch } = state;\n  const insertionMark: null | InsertionMark<BlockKind> =\n    nodeTouch !== null &&\n    nodeTouch.kind === UiTouchStateKind.BlockDrag &&\n    nodeTouch.hasPositionChangedSinceDragStart &&\n    nodeTouch.insertionMarkAddress !== null &&\n    draggeeSpec !== null\n      ? {\n          address: nodeTouch.insertionMarkAddress,\n          draggee: draggeeSpec.sequence,\n        }\n      : null;\n  const draggeeOriginalAddress =\n    nodeTouch !== null && nodeTouch.kind === UiTouchStateKind.BlockDrag\n      ? nodeTouch.draggeeOriginalAddress\n      : null;\n  const hasDragPositionChangedSinceDragStart =\n    nodeTouch !== null && nodeTouch.kind === UiTouchStateKind.BlockDrag\n      ? nodeTouch.hasPositionChangedSinceDragStart\n      : false;\n  const dropdownMenuDropdownAddress =\n    state.dropdownMenu === null ? null : state.dropdownMenu.dropdownAddress;\n\n  return editorProps.state.canvas.items.map((item, i) =>\n    getCanvasItemRenderSpec({\n      editorProps,\n      item,\n      address: [CANVAS_ADDRESS_PART, i],\n      insertionMark,\n      draggeeOriginalAddress,\n      hasDragPositionChangedSinceDragStart,\n      dropdownMenuDropdownAddress,\n    })\n  );\n}\n\nfunction getDraggeeSpecOrNull<BlockKind extends string | number | symbol>(\n  editorProps: BlockEditorProps<BlockKind>\n): null | BlockSequenceRenderSpec<BlockKind> {\n  const { uiTouch: nodeTouch } = editorProps.state;\n  if (!(nodeTouch !== null && nodeTouch.kind === UiTouchStateKind.BlockDrag)) {\n    return null;\n  }\n\n  return getDraggeeSpec(editorProps, nodeTouch);\n}\n\nfunction getDraggeeSpec<BlockKind extends string | number | symbol>(\n  editorProps: BlockEditorProps<BlockKind>,\n  drag: BlockDragState\n): BlockSequenceRenderSpec<BlockKind> {\n  const { canvas } = editorProps.state;\n\n  const { draggeeOriginalAddress } = drag;\n  const dragDisplacement = subVec(\n    drag.currentClientPosition,\n    drag.startClientPosition\n  );\n\n  if (draggeeOriginalAddress[0] === PALETTE_ADDRESS_PART) {\n    const scrollDisplacement =\n      canvas.scrollInProgress === null\n        ? canvas.scroll\n        : addVec(\n            canvas.scroll,\n            subVec(\n              canvas.scrollInProgress.currentClientPosition,\n              canvas.scrollInProgress.startClientPosition\n            )\n          );\n    const totalDisplacement = subVec(dragDisplacement, scrollDisplacement);\n    const draggeeSpecInOriginalPosition =\n      getPaletteBlockRenderSpecs(editorProps)[\n        expectNumericAddressPart(draggeeOriginalAddress[1])\n      ];\n    const translatedSpec = translateBlockSpec(\n      draggeeSpecInOriginalPosition,\n      totalDisplacement\n    );\n\n    const dummyAddress: NodeAddress = [DRAGGEE_ADDRESS_PART];\n    return readdressBlockSequenceSpecAndMarkAsReachableAndRemovePendingEditMark(\n      {\n        kind: RenderSpecKind.BlockSequence,\n        sequence: [translatedSpec.block],\n        address: dummyAddress,\n        blockSpecs: [translatedSpec],\n        rbox: translatedSpec.rbox,\n      },\n      [DRAGGEE_ADDRESS_PART]\n    );\n  }\n\n  if (draggeeOriginalAddress[0] === CANVAS_ADDRESS_PART) {\n    const { state } = editorProps;\n    const itemIndex = expectNumericAddressPart(draggeeOriginalAddress[1]);\n    const canvasItemSpec = getCanvasItemRenderSpec({\n      editorProps,\n      item: state.canvas.items[itemIndex],\n      address: [CANVAS_ADDRESS_PART, itemIndex],\n      insertionMark: null,\n      draggeeOriginalAddress: null,\n      hasDragPositionChangedSinceDragStart: false,\n      dropdownMenuDropdownAddress: null,\n    });\n    const totalDisplacement = dragDisplacement;\n    return getDraggeeFromBlockSequenceUsingLocalAddress(\n      canvasItemSpec,\n      totalDisplacement,\n      draggeeOriginalAddress.slice(2)\n    );\n  }\n\n  throw new Error(\n    `Impossible draggee address: [${draggeeOriginalAddress\n      .map(String)\n      .join(\", \")}]`\n  );\n}\n\nexport function getPaletteBlockRenderSpecs<\n  BlockKind extends string | number | symbol\n>(\n  editorProps: BlockEditorProps<BlockKind>\n): readonly BlockRenderSpec<BlockKind>[] {\n  const { state } = editorProps;\n  const { sizing, defs: blockDefs } = editorProps.config;\n  const { blockKinds, scroll, scrollInProgress } = state.palette;\n  const totalScroll =\n    scrollInProgress === null\n      ? scroll\n      : addVec(\n          scroll,\n          subVec(\n            scrollInProgress.currentClientPosition,\n            scrollInProgress.startClientPosition\n          )\n        );\n  let y = totalScroll.y + sizing.paletteTopPadding;\n  const specs: BlockRenderSpec<BlockKind>[] = [];\n  for (let i = 0; i < blockKinds.length; ++i) {\n    const blockKind = blockKinds[i];\n    const spec = getBlockRenderSpec({\n      editorProps,\n      position: { x: totalScroll.x + sizing.paletteLeftPadding, y },\n      block: {\n        isLiteral: false,\n        kind: blockKind,\n        args: blockDefs[blockKind].defaultArgs,\n      },\n      address: [PALETTE_ADDRESS_PART, i],\n      insertionMark: null,\n      draggeeOriginalAddress:\n        state.uiTouch !== null &&\n        state.uiTouch.kind === UiTouchStateKind.BlockDrag\n          ? state.uiTouch.draggeeOriginalAddress\n          : null,\n      hasDragPositionChangedSinceDragStart:\n        state.uiTouch !== null &&\n        state.uiTouch.kind === UiTouchStateKind.BlockDrag\n          ? state.uiTouch.hasPositionChangedSinceDragStart\n          : false,\n      dropdownMenuDropdownAddress: null,\n      isUnreachable: false,\n    });\n    specs.push(spec);\n\n    y += spec.rbox.dimensions.height + sizing.paletteInterblockMargin;\n  }\n  return specs;\n}\n\nfunction getInsertionMarkAddressBasedOnDraggee<\n  BlockKind extends string | number | symbol\n>(\n  editorProps: BlockEditorProps<BlockKind>,\n  canvasItemSpecs: readonly BlockSequenceRenderSpec<BlockKind>[],\n  draggeeSpec: BlockSequenceRenderSpec<BlockKind>,\n  draggeeOriginalAddress: NodeAddress,\n  dragCurrentClientPosition: Vec2\n): null | NodeAddress {\n  if (\n    !isPointInBlockCanvasDomElement(\n      dragCurrentClientPosition,\n      editorProps.config.componentInstanceUid\n    )\n  ) {\n    return null;\n  }\n\n  const { defs } = editorProps.config;\n  const isQuery =\n    defs[draggeeSpec.sequence[0].kind].kind === BlockDefKind.Query;\n\n  if (isQuery) {\n    return getQueryInsertionMarkAddressBasedOnDraggeeAssumingDragIsInBlockCanvas(\n      editorProps,\n      canvasItemSpecs,\n      draggeeSpec\n    );\n  }\n\n  return getCommandInsertionMarkAddressBasedOnDraggeeAssumingDragIsInBlockCanvas(\n    editorProps,\n    canvasItemSpecs,\n    draggeeSpec,\n    draggeeOriginalAddress\n  );\n}\n\nfunction getQueryInsertionMarkAddressBasedOnDraggeeAssumingDragIsInBlockCanvas<\n  BlockKind extends string | number | symbol\n>(\n  editorProps: BlockEditorProps<BlockKind>,\n  canvasItemSpecs: readonly BlockSequenceRenderSpec<BlockKind>[],\n  draggeeSpec: BlockSequenceRenderSpec<BlockKind>\n): null | NodeAddress {\n  const { snapHorizontalRange, snapVerticalRange } = editorProps.config.sizing;\n\n  const candidates = canvasItemSpecs.flatMap(\n    getQueryInsertionMarkCandidatesFromBlockSequenceSpec\n  );\n\n  let closest = null;\n  let minSquareDistance = Infinity;\n  for (const candidate of candidates) {\n    const displacement = getDisplacementBetweenQueryBodyLeftCircleCenters(\n      candidate.rbox,\n      draggeeSpec.rbox\n    );\n    const squareDistance =\n      displacement.x * displacement.x + displacement.y * displacement.y;\n    if (\n      squareDistance < minSquareDistance &&\n      Math.abs(displacement.x) <= snapHorizontalRange &&\n      Math.abs(displacement.y) <= snapVerticalRange\n    ) {\n      closest = candidate.address;\n      minSquareDistance = squareDistance;\n    }\n  }\n\n  return closest;\n}\n\nfunction getQueryInsertionMarkCandidatesFromBlockSpec<\n  BlockKind extends string | number | symbol\n>(spec: BlockRenderSpec<BlockKind>): readonly QueryInsertionMarkCandidate[] {\n  const candidates: QueryInsertionMarkCandidate[] = [];\n\n  for (const subSpec of spec.subexpressionSpecs) {\n    if (subSpec.kind === RenderSpecKind.Literal) {\n      const literalSpec: LiteralRenderSpec<BlockKind> = subSpec;\n      candidates.push({\n        address: literalSpec.address,\n        rbox: literalSpec.rbox,\n      });\n      continue;\n    }\n\n    candidates.push(...getQueryInsertionMarkCandidatesFromBlockSpec(subSpec));\n  }\n\n  for (const subSpec of spec.subsequenceSpecs) {\n    candidates.push(\n      ...getQueryInsertionMarkCandidatesFromBlockSequenceSpec(subSpec)\n    );\n  }\n\n  return candidates;\n}\n\nfunction getQueryInsertionMarkCandidatesFromBlockSequenceSpec<\n  BlockKind extends string | number | symbol\n>(\n  spec: BlockSequenceRenderSpec<BlockKind>\n): readonly QueryInsertionMarkCandidate[] {\n  return spec.blockSpecs.flatMap(getQueryInsertionMarkCandidatesFromBlockSpec);\n}\n\nfunction getDisplacementBetweenQueryBodyLeftCircleCenters(\n  a: Rectangle,\n  b: Rectangle\n): Vec2 {\n  const aRadius = 0.5 * a.dimensions.height;\n  const aCenterX = a.topLeft.x + aRadius;\n  const aCenterY = a.topLeft.y + aRadius;\n\n  const bRadius = 0.5 * b.dimensions.height;\n  const bCenterX = b.topLeft.x + bRadius;\n  const bCenterY = b.topLeft.y + bRadius;\n\n  const dx = aCenterX - bCenterX;\n  const dy = aCenterY - bCenterY;\n\n  return { x: dx, y: dy };\n}\n\nfunction getCommandInsertionMarkAddressBasedOnDraggeeAssumingDragIsInBlockCanvas<\n  BlockKind extends string | number | symbol\n>(\n  editorProps: BlockEditorProps<BlockKind>,\n  canvasItemSpecs: readonly BlockSequenceRenderSpec<BlockKind>[],\n  draggeeSpec: BlockSequenceRenderSpec<BlockKind>,\n  draggeeOriginalAddress: NodeAddress\n): null | NodeAddress {\n  const naiveAddress =\n    getCommandInsertionMarkAddressBasedOnDraggeeIgnoringSocketFit(\n      editorProps,\n      canvasItemSpecs,\n      draggeeSpec,\n      draggeeOriginalAddress\n    );\n  if (naiveAddress === null) {\n    return null;\n  }\n\n  const afterInsertion = applyDragToCanvasItems({\n    editorProps,\n    canvasItems: canvasItemSpecs.map(getCanvasItemFromSpec),\n    draggeeSpec,\n    draggeeOriginalAddress,\n    insertionAddress: naiveAddress,\n  });\n  if (\n    doCanvasItemsContainIllegalSocketMatches(\n      afterInsertion,\n      editorProps.config.defs\n    )\n  ) {\n    return null;\n  }\n\n  const { canvas } = editorProps.state;\n  const totalScroll =\n    canvas.scrollInProgress === null\n      ? canvas.scroll\n      : addVec(\n          canvas.scroll,\n          subVec(\n            canvas.scrollInProgress.currentClientPosition,\n            canvas.scrollInProgress.startClientPosition\n          )\n        );\n  const { canvasBounds } = editorProps.config.sizing;\n  const translatedCanvasBounds = {\n    topLeft: subVec(canvasBounds.topLeft, totalScroll),\n    dimensions: canvasBounds.dimensions,\n  };\n  if (!doRectanglesOverlap(draggeeSpec.rbox, translatedCanvasBounds)) {\n    return null;\n  }\n\n  return naiveAddress;\n}\n\nfunction getCanvasItemFromSpec<BlockKind extends string | number | symbol>(\n  spec: BlockSequenceRenderSpec<BlockKind>\n): CanvasItem<BlockKind> {\n  return {\n    position: spec.rbox.topLeft,\n    content: spec.sequence,\n  };\n}\n\nfunction applyDragToCanvasItems<BlockKind extends string | number | symbol>({\n  editorProps,\n  canvasItems: originalCanvasItems,\n  draggeeSpec,\n  draggeeOriginalAddress,\n  insertionAddress,\n}: {\n  editorProps: BlockEditorProps<BlockKind>;\n  canvasItems: readonly CanvasItem<BlockKind>[];\n  draggeeSpec: BlockSequenceRenderSpec<BlockKind>;\n  draggeeOriginalAddress: NodeAddress;\n  insertionAddress: null | NodeAddress;\n}): readonly CanvasItem<BlockKind>[] {\n  // We don't prune empty block sequences until right before we return,\n  // since doing so could invalidate the insertion address.\n  const afterRemoval =\n    draggeeOriginalAddress[0] === CANVAS_ADDRESS_PART\n      ? applyRemovalToCanvasItemsWithoutPruningEmptyBlockSequences(\n          originalCanvasItems,\n          draggeeOriginalAddress\n        )\n      : originalCanvasItems;\n\n  // If the dropped block is outside the canvas bounds, we simply discard it.\n  const { uiTouch } = editorProps.state;\n  const isBlockDragOutsideCanvas =\n    uiTouch !== null &&\n    uiTouch.kind === UiTouchStateKind.BlockDrag &&\n    !isPointInBlockCanvasDomElement(\n      uiTouch.currentClientPosition,\n      editorProps.config.componentInstanceUid\n    );\n  if (isBlockDragOutsideCanvas) {\n    return doesBlockSequenceContainUndeletableBlock(\n      draggeeSpec.sequence,\n      editorProps.config.defs\n    )\n      ? originalCanvasItems\n      : afterRemoval.filter((item) => item.content.length > 0);\n  }\n\n  // We either _insert_ the draggee, or we simply _release_ it as-is.\n\n  const draggee = draggeeSpec.sequence;\n  const afterInsertionOrDisplacement =\n    // If the draggee is close to a compatible block,\n    // we insert it there.\n    insertionAddress !== null\n      ? applyInsertionToCanvasItems(\n          editorProps,\n          afterRemoval,\n          draggee,\n          insertionAddress\n        )\n      : // Otherwise, we release it.\n        afterRemoval.concat([getCanvasItemFromSpec(draggeeSpec)]);\n\n  return afterInsertionOrDisplacement.filter((item) => item.content.length > 0);\n}\n\nfunction applyRemovalToCanvasItemsWithoutPruningEmptyBlockSequences<\n  BlockKind extends string | number | symbol\n>(\n  canvasItems: readonly CanvasItem<BlockKind>[],\n  removalAddress: NodeAddress\n): readonly CanvasItem<BlockKind>[] {\n  return canvasItems.map((originalItem, itemIndex) => {\n    const localAddress: null | NodeAddress = withoutPrefix(\n      [CANVAS_ADDRESS_PART, itemIndex],\n      removalAddress\n    );\n    const updatedContent = removeNodeAtLocalAddressFromBlockSequence(\n      originalItem.content,\n      localAddress\n    );\n    return { position: originalItem.position, content: updatedContent };\n  });\n}\n\nfunction removeNodeAtLocalAddressFromBlock<\n  BlockKind extends string | number | symbol\n>(block: Block<BlockKind>, localAddress: null | NodeAddress): Block<BlockKind> {\n  if (localAddress === null) {\n    return block;\n  }\n\n  if (localAddress.length < 2) {\n    throw new Error(\n      \"Illegal localAddress passed to removeNodeAtLocalAddressFromBlock.\"\n    );\n  }\n\n  if (\n    localAddress.length === 2 &&\n    localAddress[0] === ARG_EXPRESSION_ADDRESS_PART\n  ) {\n    const removalIndex = expectNumericAddressPart(localAddress[1]);\n    return {\n      ...block,\n      args: {\n        ...block.args,\n        expressions: block.args.expressions.map((original, i) =>\n          i === removalIndex ? { isLiteral: true, source: \"\" } : original\n        ),\n      },\n    };\n  }\n\n  return {\n    isLiteral: false,\n    kind: block.kind,\n    args: {\n      dropdowns: block.args.dropdowns,\n      expressions: block.args.expressions.map((expression, expressionIndex) =>\n        expression.isLiteral\n          ? expression\n          : removeNodeAtLocalAddressFromBlock(\n              expression,\n              withoutPrefix(\n                [ARG_EXPRESSION_ADDRESS_PART, expressionIndex],\n                localAddress\n              )\n            )\n      ),\n      sequences: block.args.sequences.map((sequence, sequenceIndex) =>\n        removeNodeAtLocalAddressFromBlockSequence(\n          sequence,\n          withoutPrefix(\n            [ARG_COMMAND_SEQUENCE_ADDRESS_PART, sequenceIndex],\n            localAddress\n          )\n        )\n      ),\n    },\n  };\n}\n\nfunction removeNodeAtLocalAddressFromBlockSequence<\n  BlockKind extends string | number | symbol\n>(\n  sequence: BlockSequence<BlockKind>,\n  localAddress: null | NodeAddress\n): BlockSequence<BlockKind> {\n  if (localAddress === null) {\n    return sequence;\n  }\n\n  if (localAddress.length < 1) {\n    throw new Error(\n      \"Illegal localAddress passed to removeNodeAtLocalAddressFromBlockSequence.\"\n    );\n  }\n\n  if (localAddress.length === 1) {\n    const removalIndex = expectNumericAddressPart(localAddress[0]);\n    return sequence.slice(0, removalIndex);\n  }\n\n  return sequence.map((original, i) =>\n    removeNodeAtLocalAddressFromBlock(\n      original,\n      withoutPrefix([i], localAddress)\n    )\n  );\n}\n\nfunction applyInsertionToCanvasItems<\n  BlockKind extends string | number | symbol\n>(\n  editorProps: BlockEditorProps<BlockKind>,\n  canvasItems: readonly CanvasItem<BlockKind>[],\n  draggee: BlockSequence<BlockKind>,\n  insertionAddress: NodeAddress\n): readonly CanvasItem<BlockKind>[] {\n  return canvasItems.map((originalItem, itemIndex) => {\n    const localAddress: null | NodeAddress = withoutPrefix(\n      [CANVAS_ADDRESS_PART, itemIndex],\n      insertionAddress\n    );\n    const updatedContent = insertNodeAtLocalAddressIntoBlockSequence(\n      originalItem.content,\n      draggee,\n      localAddress\n    );\n\n    const adjustedPosition =\n      localAddress !== null &&\n      localAddress.length === 1 &&\n      localAddress[0] === 0\n        ? subVec(originalItem.position, {\n            x: 0,\n            y: getBlockSequenceRenderSpec({\n              editorProps,\n              position: { x: 0, y: 0 },\n              address: insertionAddress,\n              insertionMark: null,\n              draggeeOriginalAddress: null,\n              hasDragPositionChangedSinceDragStart: false,\n              dropdownMenuDropdownAddress: null,\n              isUnreachable: false,\n              sequence: draggee,\n            }).rbox.dimensions.height,\n          })\n        : originalItem.position;\n    return { position: adjustedPosition, content: updatedContent };\n  });\n}\n\nfunction insertNodeAtLocalAddressIntoBlock<\n  BlockKind extends string | number | symbol\n>(\n  block: Block<BlockKind>,\n  draggee: BlockSequence<BlockKind>,\n  localAddress: null | NodeAddress\n): Block<BlockKind> {\n  if (localAddress === null) {\n    return block;\n  }\n\n  if (localAddress.length < 2) {\n    throw new Error(\n      \"Illegal localAddress passed to insertNodeAtLocalAddressIntoBlock.\"\n    );\n  }\n\n  if (\n    localAddress.length === 2 &&\n    localAddress[0] === ARG_EXPRESSION_ADDRESS_PART\n  ) {\n    if (draggee.length > 1) {\n      throw new Error(\n        \"Impossible: a block sequence with more than one block is being inserted into an expression slot.\"\n      );\n    }\n\n    const insertionIndex = expectNumericAddressPart(localAddress[1]);\n    return {\n      ...block,\n      args: {\n        ...block.args,\n        expressions: block.args.expressions.map((original, index) =>\n          index === insertionIndex ? draggee[0] : original\n        ),\n      },\n    };\n  }\n\n  return {\n    isLiteral: false,\n    kind: block.kind,\n    args: {\n      dropdowns: block.args.dropdowns,\n      expressions: block.args.expressions.map((expression, expressionIndex) =>\n        expression.isLiteral\n          ? expression\n          : insertNodeAtLocalAddressIntoBlock(\n              expression,\n              draggee,\n              withoutPrefix(\n                [ARG_EXPRESSION_ADDRESS_PART, expressionIndex],\n                localAddress\n              )\n            )\n      ),\n      sequences: block.args.sequences.map((sequence, sequenceIndex) =>\n        insertNodeAtLocalAddressIntoBlockSequence(\n          sequence,\n          draggee,\n          withoutPrefix(\n            [ARG_COMMAND_SEQUENCE_ADDRESS_PART, sequenceIndex],\n            localAddress\n          )\n        )\n      ),\n    },\n  };\n}\n\nfunction insertNodeAtLocalAddressIntoBlockSequence<\n  BlockKind extends string | number | symbol\n>(\n  sequence: BlockSequence<BlockKind>,\n  draggee: BlockSequence<BlockKind>,\n  localAddress: null | NodeAddress\n): BlockSequence<BlockKind> {\n  if (localAddress === null) {\n    return sequence;\n  }\n\n  if (localAddress.length < 1) {\n    throw new Error(\n      \"Illegal localAddress passed to insertNodeAtLocalAddressIntoBlockSequence.\"\n    );\n  }\n\n  if (localAddress.length === 1) {\n    const insertionIndex = expectNumericAddressPart(localAddress[0]);\n    return [\n      ...sequence.slice(0, insertionIndex),\n      ...draggee,\n      ...sequence.slice(insertionIndex),\n    ];\n  }\n\n  return sequence.map((original, i) =>\n    insertNodeAtLocalAddressIntoBlock(\n      original,\n      draggee,\n      withoutPrefix([i], localAddress)\n    )\n  );\n}\n\nfunction doCanvasItemsContainIllegalSocketMatches<\n  BlockKind extends string | number | symbol\n>(\n  canvasItems: readonly CanvasItem<BlockKind>[],\n  defs: BlockDefs<BlockKind>\n): boolean {\n  return canvasItems.some((item) => {\n    const blocks = item.content;\n    if (\n      blocks.length === 0 ||\n      defs[blocks[0].kind].kind === BlockDefKind.Query\n    ) {\n      return false;\n    }\n    const firstCommand = blocks[0];\n    if (blocks.length === 1) {\n      return doBlockSubsequencesContainMaleOrNonFinalFemaleSocket(\n        firstCommand,\n        defs\n      );\n    }\n\n    const firstCommandDef = defs[firstCommand.kind];\n    const isFirstCommandIllegal =\n      (firstCommandDef.kind === BlockDefKind.Command &&\n        !firstCommandDef.hasMaleSocket) ||\n      doBlockSubsequencesContainMaleOrNonFinalFemaleSocket(firstCommand, defs);\n    if (isFirstCommandIllegal) {\n      return true;\n    }\n\n    const { length } = blocks;\n\n    return blocks.slice(1).some((command, commandIndexMinusOne) => {\n      const def = defs[command.kind];\n      if (def.kind !== BlockDefKind.Command) {\n        return false;\n      }\n\n      const commandIndex = commandIndexMinusOne + 1;\n      const isMale = def.hasMaleSocket && !def.hasFemaleSocket;\n      const isNonFinalFemaleSocket =\n        !def.hasMaleSocket &&\n        def.hasFemaleSocket &&\n        commandIndex !== length - 1;\n      return (\n        isMale ||\n        isNonFinalFemaleSocket ||\n        doBlockSubsequencesContainMaleOrNonFinalFemaleSocket(command, defs)\n      );\n    });\n  });\n}\n\nfunction doBlockSubsequencesContainMaleOrNonFinalFemaleSocket<\n  BlockKind extends string | number | symbol\n>(block: Block<BlockKind>, defs: BlockDefs<BlockKind>): boolean {\n  return block.args.sequences.some((sequence) =>\n    doesBlockSequenceContainMaleOrNonFinalFemaleSocket(sequence, defs)\n  );\n}\n\nfunction doesBlockSequenceContainMaleOrNonFinalFemaleSocket<\n  BlockKind extends string | number | symbol\n>(sequence: BlockSequence<BlockKind>, defs: BlockDefs<BlockKind>): boolean {\n  const { length } = sequence;\n  return sequence.some((command, commandIndex) => {\n    const def = defs[command.kind];\n    if (def.kind !== BlockDefKind.Command) {\n      return false;\n    }\n\n    // The code below has some seemingly unnecessary type annotations.\n    // However, at the time of writing, if I remove them,\n    // the linter will trigger a @typescript-eslint/strict-boolean-expressions warning.\n    // I believe this is a false positive (i.e., bug).\n    // But until it gets fixed, I'll keep the type annotations.\n    const { hasFemaleSocket, hasMaleSocket } =\n      identityFunctionToForceTypesafeCast<{\n        hasFemaleSocket: boolean;\n        hasMaleSocket: boolean;\n      }>(def);\n    const isMale: boolean = hasMaleSocket && !hasFemaleSocket;\n    const isNonFinalFemaleSocket =\n      !hasMaleSocket && hasFemaleSocket && commandIndex !== length - 1;\n    return (\n      isMale ||\n      isNonFinalFemaleSocket ||\n      doBlockSubsequencesContainMaleOrNonFinalFemaleSocket(command, defs)\n    );\n  });\n}\n\nfunction getCommandInsertionMarkAddressBasedOnDraggeeIgnoringSocketFit<\n  BlockKind extends string | number | symbol\n>(\n  editorProps: BlockEditorProps<BlockKind>,\n  canvasItemSpecs: readonly BlockSequenceRenderSpec<BlockKind>[],\n  draggeeSpec: BlockSequenceRenderSpec<BlockKind>,\n  draggeeOriginalAddress: NodeAddress\n): null | NodeAddress {\n  for (let i = canvasItemSpecs.length - 1; i >= 0; --i) {\n    const address =\n      getCommandInsertionMarkAddressBasedOnDraggeeWithinBlocklikeSpec(\n        editorProps,\n        canvasItemSpecs[i],\n        draggeeSpec,\n        canvasItemSpecs,\n        draggeeOriginalAddress\n      );\n    if (address !== null) {\n      return address;\n    }\n  }\n\n  return null;\n}\n\nfunction getCommandInsertionMarkAddressBasedOnDraggeeWithinBlocklikeSpec<\n  BlockKind extends string | number | symbol\n>(\n  editorProps: BlockEditorProps<BlockKind>,\n  spec: BlockSequenceRenderSpec<BlockKind>,\n  draggeeSpec: BlockSequenceRenderSpec<BlockKind>,\n  canvasItemRenderSpecs: readonly BlockSequenceRenderSpec<BlockKind>[],\n  draggeeOriginalAddress: NodeAddress\n): null | NodeAddress {\n  const sortedCandidates =\n    getCommandInsertionMarkCandidatesFromBlockSequenceSpec(\n      spec,\n      draggeeSpec,\n      canvasItemRenderSpecs,\n      draggeeOriginalAddress\n    )\n      .slice()\n      .sort((a, b) => a.rbox.topLeft.y - b.rbox.topLeft.y);\n\n  if (sortedCandidates.length === 0) {\n    return null;\n  }\n\n  const { snapHorizontalRange, snapVerticalRange } = editorProps.config.sizing;\n\n  const draggeeLeft = draggeeSpec.rbox.topLeft.x;\n  const draggeeTop = draggeeSpec.rbox.topLeft.y;\n  const draggeeBottom = draggeeTop + draggeeSpec.rbox.dimensions.height;\n\n  const topCandidate = sortedCandidates[0];\n  const topCandidateLeft = topCandidate.rbox.topLeft.x;\n  const topCandidateTop = topCandidate.rbox.topLeft.y;\n  const xDistanceFromTopCandidate = Math.abs(draggeeLeft - topCandidateLeft);\n  if (\n    draggeeTop <= topCandidateTop &&\n    Math.max(0, topCandidateTop - draggeeBottom) <= snapVerticalRange &&\n    xDistanceFromTopCandidate <= snapHorizontalRange\n  ) {\n    return topCandidate.topAddress;\n  }\n\n  const bottomCandidate = sortedCandidates[sortedCandidates.length - 1];\n  const bottomCandidateLeft = bottomCandidate.rbox.topLeft.x;\n  const bottomCandidateTop = bottomCandidate.rbox.topLeft.y;\n  const bottomCandidateBottom =\n    bottomCandidateTop + bottomCandidate.rbox.dimensions.height;\n  const xDistanceFromBottomCandidate = Math.abs(\n    draggeeLeft - bottomCandidateLeft\n  );\n  if (\n    draggeeTop >= bottomCandidateTop &&\n    Math.max(0, draggeeTop - bottomCandidateBottom) <= snapVerticalRange &&\n    xDistanceFromBottomCandidate <= snapHorizontalRange\n  ) {\n    return bottomCandidate.bottomAddress;\n  }\n\n  for (\n    let currentIndex = 1;\n    currentIndex < sortedCandidates.length;\n    ++currentIndex\n  ) {\n    const current = sortedCandidates[currentIndex];\n    const currentLeft = current.rbox.topLeft.x;\n    const currentTop = current.rbox.topLeft.y;\n    const previous = sortedCandidates[currentIndex - 1];\n    const previousLeft = previous.rbox.topLeft.x;\n    const previousTop = previous.rbox.topLeft.y;\n    const xDistance = Math.min(\n      Math.abs(draggeeLeft - currentLeft),\n      Math.abs(draggeeLeft - previousLeft)\n    );\n    if (\n      previousTop <= draggeeTop &&\n      draggeeTop <= currentTop &&\n      xDistance <= snapHorizontalRange\n    ) {\n      if (current.topAddress !== null) {\n        return current.topAddress;\n      }\n      return previous.bottomAddress;\n    }\n  }\n\n  return null;\n}\n\nfunction getCommandInsertionMarkCandidatesFromBlockSpec<\n  BlockKind extends string | number | symbol\n>(\n  spec: BlockRenderSpec<BlockKind>,\n  draggeeeSpec: BlockSequenceRenderSpec<BlockKind>,\n  canvasItemContents: readonly BlockSequenceRenderSpec<BlockKind>[],\n  draggeeOriginalAddress: NodeAddress\n): readonly CommandInsertionMarkCandidate[] {\n  if (\n    spec.address.length === 1 &&\n    spec.address[0] === INSERTION_MARK_ADDRESS_PART\n  ) {\n    return [];\n  }\n\n  const candidates: CommandInsertionMarkCandidate[] = [];\n\n  for (let toothIndex = 0; toothIndex < spec.teeth.length; ++toothIndex) {\n    const tooth = spec.teeth[toothIndex];\n    const topAddress = getToothTopAddress(\n      spec.address,\n      toothIndex,\n      canvasItemContents\n    );\n    const bottomAddress = getToothBottomAddress(\n      spec.address,\n      toothIndex,\n      toothIndex === spec.teeth.length - 1\n    );\n    candidates.push({ topAddress, bottomAddress, rbox: tooth.rbox });\n  }\n\n  for (const subSpec of spec.subsequenceSpecs) {\n    candidates.push(\n      ...getCommandInsertionMarkCandidatesFromBlockSequenceSpec(\n        subSpec,\n        draggeeeSpec,\n        canvasItemContents,\n        draggeeOriginalAddress\n      )\n    );\n  }\n\n  return candidates;\n}\n\nfunction getCommandInsertionMarkCandidatesFromBlockSequenceSpec<\n  BlockKind extends string | number | symbol\n>(\n  sequenceSpec: BlockSequenceRenderSpec<BlockKind>,\n  draggeeSpec: BlockSequenceRenderSpec<BlockKind>,\n  canvasItemRenderSpecs: readonly BlockSequenceRenderSpec<BlockKind>[],\n  draggeeOriginalAddress: NodeAddress\n): readonly CommandInsertionMarkCandidate[] {\n  return sequenceSpec.blockSpecs.flatMap((commandSpec) => {\n    return getCommandInsertionMarkCandidatesFromBlockSpec(\n      commandSpec,\n      draggeeSpec,\n      canvasItemRenderSpecs,\n      draggeeOriginalAddress\n    );\n  });\n}\n\nfunction getToothTopAddress<BlockKind extends string | number | symbol>(\n  commandAddress: NodeAddress,\n  toothIndex: number,\n  canvasItemRenderSpecs: readonly BlockSequenceRenderSpec<BlockKind>[]\n): null | NodeAddress {\n  if (toothIndex === 0) {\n    return commandAddress;\n  }\n\n  const sequenceAboveThisToothAddress = commandAddress.concat([\n    ARG_COMMAND_SEQUENCE_ADDRESS_PART,\n    toothIndex - 1,\n  ]);\n  const specForSequenceAboveThisTooth =\n    getBlockSequenceSpecFromAncestorBlockSequenceSpecAndLocalAddress(\n      canvasItemRenderSpecs[expectNumericAddressPart(commandAddress[1])],\n      sequenceAboveThisToothAddress.slice(2)\n    );\n\n  return sequenceAboveThisToothAddress.concat([\n    specForSequenceAboveThisTooth.blockSpecs.filter((spec) => {\n      const isInsertionMark =\n        spec.address.length === 1 &&\n        spec.address[0] === INSERTION_MARK_ADDRESS_PART;\n      return !isInsertionMark;\n    }).length,\n  ]);\n}\n\nfunction getBlockSequenceSpecFromAncestorBlockSequenceSpecAndLocalAddress<\n  BlockKind extends string | number | symbol\n>(\n  spec: BlockSequenceRenderSpec<BlockKind>,\n  localAddress: NodeAddress\n): BlockSequenceRenderSpec<BlockKind> {\n  if (localAddress.length === 0) {\n    return spec;\n  }\n\n  const subSpec = spec.blockSpecs.filter(\n    (spec) =>\n      !(\n        spec.address.length === 1 &&\n        spec.address[0] === INSERTION_MARK_ADDRESS_PART\n      )\n  )[expectNumericAddressPart(localAddress[0])];\n  return getBlockSequenceSpecFromAncestorBlockSpecAndLocalAddress(\n    subSpec,\n    localAddress.slice(1)\n  );\n}\n\nfunction getBlockSequenceSpecFromAncestorBlockSpecAndLocalAddress<\n  BlockKind extends string | number | symbol\n>(\n  spec: BlockRenderSpec<BlockKind>,\n  localAddress: NodeAddress\n): BlockSequenceRenderSpec<BlockKind> {\n  if (localAddress.length === 0) {\n    throw new Error(\"Invalid local address.\");\n  }\n\n  if (localAddress[0] === ARG_EXPRESSION_ADDRESS_PART) {\n    const subSpec =\n      spec.subexpressionSpecs[expectNumericAddressPart(localAddress[1])];\n    if (subSpec.kind === RenderSpecKind.Block) {\n      return getBlockSequenceSpecFromAncestorBlockSpecAndLocalAddress(\n        subSpec,\n        localAddress.slice(2)\n      );\n    }\n  }\n\n  if (localAddress[0] === ARG_COMMAND_SEQUENCE_ADDRESS_PART) {\n    const subSpec =\n      spec.subsequenceSpecs[expectNumericAddressPart(localAddress[1])];\n\n    return getBlockSequenceSpecFromAncestorBlockSequenceSpecAndLocalAddress(\n      subSpec,\n      localAddress.slice(2)\n    );\n  }\n\n  throw new Error(\"Invalid local address.\");\n}\n\nfunction getToothBottomAddress(\n  commandAddress: NodeAddress,\n  toothIndex: number,\n  isLastTooth: boolean\n): null | NodeAddress {\n  if (isLastTooth) {\n    const lastPart = expectNumericAddressPart(\n      commandAddress[commandAddress.length - 1]\n    );\n    return commandAddress.slice(0, -1).concat(lastPart + 1);\n  }\n\n  return commandAddress.concat([\n    ARG_COMMAND_SEQUENCE_ADDRESS_PART,\n    toothIndex,\n    0,\n  ]);\n}\n\nfunction doRectanglesOverlap(a: Rectangle, b: Rectangle): boolean {\n  const aLeft = a.topLeft.x;\n  const aRight = aLeft + a.dimensions.width;\n  const aTop = a.topLeft.y;\n  const aBottom = aTop + a.dimensions.height;\n\n  const bLeft = b.topLeft.x;\n  const bRight = bLeft + b.dimensions.width;\n  const bTop = b.topLeft.y;\n  const bBottom = bTop + b.dimensions.height;\n\n  return aLeft < bRight && aRight > bLeft && aTop < bBottom && aBottom > bTop;\n}\n\nexport function areNodeAddressesEqual(a: NodeAddress, b: NodeAddress): boolean {\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (let i = 0; i < a.length; ++i) {\n    if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction doesBlockSequenceContainUndeletableBlock<\n  BlockKind extends string | number | symbol\n>(sequence: BlockSequence<BlockKind>, defs: BlockDefs<BlockKind>): boolean {\n  return sequence.some((block) =>\n    isBlockOrAnyDescendantUndeletable(block, defs)\n  );\n}\n\nfunction isBlockOrAnyDescendantUndeletable<\n  BlockKind extends string | number | symbol\n>(block: Block<BlockKind>, defs: BlockDefs<BlockKind>): boolean {\n  const isUndeletable = !defs[block.kind].isDeletable;\n  if (isUndeletable) {\n    return true;\n  }\n\n  for (const expression of block.args.expressions) {\n    if (expression.isLiteral) {\n      continue;\n    }\n\n    if (isBlockOrAnyDescendantUndeletable(expression, defs)) {\n      return true;\n    }\n  }\n\n  for (const sequence of block.args.sequences) {\n    if (doesBlockSequenceContainUndeletableBlock(sequence, defs)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction areVectorsEqual(a: Vec2, b: Vec2): boolean {\n  return a.x === b.x && a.y === b.y;\n}\n\nfunction getSubexpressionParentBlockSpec<\n  BlockKind extends string | number | symbol\n>(\n  props: BlockEditorProps<BlockKind>,\n  subexpressionAddress: NodeAddress\n): BlockRenderSpec<BlockKind> {\n  return getLongestPossibleSubsequenceSpecFromSequenceSpecStartingAtLocalAddress(\n    getCanvasItemRenderSpecs(props)[\n      expectNumericAddressPart(subexpressionAddress[1])\n    ],\n    subexpressionAddress.slice(2, -2)\n  ).blockSpecs[0];\n}\n\nfunction getDropdownParentBlockSpec<BlockKind extends string | number | symbol>(\n  props: BlockEditorProps<BlockKind>,\n  dropdownAddress: NodeAddress\n): BlockRenderSpec<BlockKind> {\n  return getLongestPossibleSubsequenceSpecFromSequenceSpecStartingAtLocalAddress(\n    getCanvasItemRenderSpecs(props)[\n      expectNumericAddressPart(dropdownAddress[1])\n    ],\n    dropdownAddress.slice(2, -2)\n  ).blockSpecs[0];\n}\n\nfunction DropdownMenu<BlockKind extends string | number | symbol>({\n  menu,\n  editorProps,\n}: {\n  menu: DropdownMenuState;\n  editorProps: BlockEditorProps<BlockKind>;\n}): React.ReactElement {\n  const { sizing, colors, fonts } = editorProps.config;\n  const { dropdownAddress } = menu;\n  const dropdownParentBlockSpec = getDropdownParentBlockSpec(\n    editorProps,\n    dropdownAddress\n  );\n\n  const menuSpec = getDropdownMenuRenderSpec({ menu, editorProps });\n\n  const blockColorTriplet = dropdownParentBlockSpec.isUnreachable\n    ? colors.unreachableBlocks[dropdownParentBlockSpec.block.kind]\n    : colors.blocks[dropdownParentBlockSpec.block.kind];\n\n  const clipPath = {\n    topLeft: addVec(menuSpec.rbox.topLeft, {\n      x: sizing.blockDropdownMenuBorder,\n      y: sizing.blockDropdownMenuBorder,\n    }),\n    dimensions: {\n      width:\n        menuSpec.rbox.dimensions.width - 2 * sizing.blockDropdownMenuBorder,\n      height:\n        menuSpec.rbox.dimensions.height - 2 * sizing.blockDropdownMenuBorder,\n    },\n  };\n\n  return (\n    <>\n      <defs>\n        <clipPath\n          id={\n            editorProps.config.componentInstanceUid +\n            DOM_ID_SUFFIXES.dropdownMenuClipPath\n          }\n        >\n          <rect\n            x={clipPath.topLeft.x}\n            y={clipPath.topLeft.y}\n            rx={\n              sizing.blockDropdownMenuBorderRadius -\n              sizing.blockDropdownMenuBorder\n            }\n            ry={\n              sizing.blockDropdownMenuBorderRadius -\n              sizing.blockDropdownMenuBorder\n            }\n            width={clipPath.dimensions.width}\n            height={clipPath.dimensions.height}\n          />\n        </clipPath>\n      </defs>\n\n      <rect\n        x={menuSpec.rbox.topLeft.x}\n        y={menuSpec.rbox.topLeft.y}\n        rx={sizing.blockDropdownMenuBorderRadius}\n        ry={sizing.blockDropdownMenuBorderRadius}\n        width={menuSpec.rbox.dimensions.width}\n        height={menuSpec.rbox.dimensions.height}\n        fill={stringifyColor(blockColorTriplet.tertiary)}\n      />\n\n      <g\n        clipPath={`url(#${editorProps.config.componentInstanceUid}${DOM_ID_SUFFIXES.dropdownMenuClipPath})`}\n      >\n        {menuSpec.choiceSpecs.map((choiceSpec, choiceIndex) => (\n          <g\n            key={choiceIndex}\n            data-touch-role={\n              DATA_TOUCH_ROLES.dropdownChoicePrefix + choiceIndex\n            }\n          >\n            <rect\n              x={choiceSpec.rbox.topLeft.x}\n              y={choiceSpec.rbox.topLeft.y}\n              width={choiceSpec.rbox.dimensions.width}\n              height={choiceSpec.rbox.dimensions.height}\n              fill={stringifyColor(blockColorTriplet.primary)}\n            />\n\n            <text\n              x={choiceSpec.textRbox.topLeft.x}\n              y={choiceSpec.textRbox.topLeft.y}\n              dominantBaseline=\"middle\"\n              fontFamily={fonts.blockDropdownMenuFont}\n              fontSize={sizing.blockDropdownMenuTextSizePx}\n              fill={stringifyColor(colors.blockDropdownText)}\n            >\n              {choiceSpec.text}\n            </text>\n\n            {choiceIndex > 0 && (\n              <rect\n                x={choiceSpec.rbox.topLeft.x}\n                y={\n                  choiceSpec.rbox.topLeft.y + choiceSpec.rbox.dimensions.height\n                }\n                width={choiceSpec.rbox.dimensions.width}\n                height={sizing.blockDropdownMenuInterChoiceDividerHeight}\n                fill={stringifyColor(blockColorTriplet.tertiary)}\n              />\n            )}\n          </g>\n        ))}\n      </g>\n    </>\n  );\n}\n\nfunction getDropdownMenuRenderSpec<BlockKind extends string | number | symbol>({\n  menu,\n  editorProps,\n}: {\n  menu: DropdownMenuState;\n  editorProps: BlockEditorProps<BlockKind>;\n}): DropdownMenuRenderSpec {\n  const { state } = editorProps;\n  const { sizing, fonts } = editorProps.config;\n  const { canvas } = state;\n  const totalCanvasScroll =\n    canvas.scrollInProgress === null\n      ? canvas.scroll\n      : addVec(\n          canvas.scroll,\n          subVec(\n            canvas.scrollInProgress.currentClientPosition,\n            canvas.scrollInProgress.startClientPosition\n          )\n        );\n  const { dropdownAddress } = menu;\n  const dropdownParentBlockSpec = getDropdownParentBlockSpec(\n    editorProps,\n    dropdownAddress\n  );\n  const dropdownIndex = expectNumericAddressPart(\n    dropdownAddress[dropdownAddress.length - 1]\n  );\n  const dropdownSpec = dropdownParentBlockSpec.dropdownSpecs[dropdownIndex];\n  const dropdownSvgCoords = addVec(\n    dropdownSpec.rbox.topLeft,\n    totalCanvasScroll\n  );\n  const dropdownSvgCenter = addVec(dropdownSvgCoords, {\n    x: 0.5 * dropdownSpec.rbox.dimensions.width,\n    y: 0.5 * dropdownSpec.rbox.dimensions.height,\n  });\n  const canvasCenter = addVec(sizing.canvasBounds.topLeft, {\n    x: 0.5 * sizing.canvasBounds.dimensions.width,\n    y: 0.5 * sizing.canvasBounds.dimensions.height,\n  });\n  const totalMenuScroll =\n    state.uiTouch !== null &&\n    state.uiTouch.kind === UiTouchStateKind.DropdownMenuScroll\n      ? addVec(\n          menu.scroll,\n          subVec(\n            state.uiTouch.currentClientPosition,\n            state.uiTouch.startClientPosition\n          )\n        )\n      : menu.scroll;\n\n  const choiceSpecsWithUnadjustedRboxes: DropdownMenuChoiceRenderSpec[] = [];\n  let currentY = totalMenuScroll.y + sizing.blockDropdownMenuBorder;\n  for (const choiceText of menu.choices) {\n    const textDimensions = editorProps.measureText(\n      choiceText,\n      fonts.blockDropdownMenuFont,\n      sizing.blockDropdownMenuTextSizePx\n    );\n\n    const rbox = {\n      topLeft: {\n        x:\n          dropdownSvgCoords.x +\n          totalMenuScroll.x +\n          sizing.blockDropdownMenuBorder,\n        y: currentY,\n      },\n      dimensions: {\n        width:\n          textDimensions.width + 2 * sizing.blockDropdownMenuHorizontalPadding,\n        height:\n          textDimensions.height +\n          2 * sizing.blockDropdownMenuChoiceVerticalMargin,\n      },\n    };\n\n    choiceSpecsWithUnadjustedRboxes.push({\n      text: choiceText,\n      textRbox: {\n        topLeft: {\n          x:\n            dropdownSvgCoords.x +\n            totalMenuScroll.x +\n            sizing.blockDropdownMenuBorder +\n            sizing.blockDropdownMenuHorizontalPadding,\n          y:\n            sizing.blockDropdownMenuChoiceVerticalMargin +\n            currentY +\n            0.5 * textDimensions.height,\n        },\n        dimensions: {\n          width: textDimensions.width,\n          height: textDimensions.height,\n        },\n      },\n      rbox,\n    });\n\n    currentY +=\n      rbox.dimensions.height + sizing.blockDropdownMenuInterChoiceDividerHeight;\n  }\n\n  const maxChoiceSpecWidth = Math.max(\n    ...choiceSpecsWithUnadjustedRboxes.map((s) => s.rbox.dimensions.width)\n  );\n\n  const lastUnadjustedRbox =\n    choiceSpecsWithUnadjustedRboxes[choiceSpecsWithUnadjustedRboxes.length - 1]\n      .rbox;\n  const menuHeight = Math.min(\n    sizing.blockDropdownMenuDimensions.height,\n    lastUnadjustedRbox.topLeft.y +\n      lastUnadjustedRbox.dimensions.height +\n      sizing.blockDropdownMenuBorder,\n    dropdownSvgCenter.y <= canvasCenter.y\n      ? sizing.canvasBounds.topLeft.y +\n          sizing.canvasBounds.dimensions.height -\n          dropdownSvgCoords.y\n      : dropdownSvgCoords.y - sizing.canvasBounds.topLeft.y\n  );\n  const menuY =\n    dropdownSvgCenter.y <= canvasCenter.y\n      ? dropdownSvgCoords.y + dropdownSpec.rbox.dimensions.height\n      : dropdownSvgCoords.y - menuHeight;\n\n  const menuOuterRbox: Rectangle = {\n    topLeft: { x: dropdownSvgCoords.x, y: menuY },\n    dimensions: {\n      width: Math.min(\n        sizing.blockDropdownMenuDimensions.width,\n        maxChoiceSpecWidth + 2 * sizing.blockDropdownMenuBorder\n      ),\n      height: menuHeight,\n    },\n  };\n\n  const choiceSpecs = choiceSpecsWithUnadjustedRboxes.map((spec) => ({\n    text: spec.text,\n    textRbox: {\n      topLeft: addVec(spec.textRbox.topLeft, {\n        x: 0,\n        y: menuY,\n      }),\n      dimensions: spec.textRbox.dimensions,\n    },\n    rbox: {\n      topLeft: addVec(spec.rbox.topLeft, { x: 0, y: menuY }),\n      dimensions: { ...spec.rbox.dimensions, width: maxChoiceSpecWidth },\n    },\n  }));\n\n  return {\n    choiceSpecs,\n    rbox: menuOuterRbox,\n  };\n}\n\nfunction getDropdownChoiceIndexFromDataTouchRole(\n  touchRole: string\n): null | number {\n  const withoutPrefix = touchRole.slice(\n    DATA_TOUCH_ROLES.dropdownChoicePrefix.length\n  );\n  const parsed = Number.parseInt(withoutPrefix, 10);\n\n  if (Number.isInteger(parsed) && parsed >= 0) {\n    return parsed;\n  }\n\n  return null;\n}\n\nfunction updateDropdownValueInCanvas<\n  BlockKind extends string | number | symbol\n>(\n  canvas: BlockCanvasState<BlockKind>,\n  dropdownAddress: NodeAddress,\n  newDropdownValue: string\n): BlockCanvasState<BlockKind> {\n  if (dropdownAddress[0]! !== CANVAS_ADDRESS_PART) {\n    throw new Error(\n      \"Non-canvas dropdown address passed to updateDropdownValueInCanvas.\"\n    );\n  }\n\n  return {\n    items: canvas.items.map((item, itemIndex) => {\n      if (itemIndex !== dropdownAddress[1]) {\n        return item;\n      }\n\n      return {\n        position: item.position,\n        content: updateDropdownValueInBlockSequenceUsingLocalAddress(\n          item.content,\n          dropdownAddress.slice(2),\n          newDropdownValue\n        ),\n      };\n    }),\n    scroll: canvas.scroll,\n    scrollInProgress: canvas.scrollInProgress,\n  };\n}\n\nfunction updateDropdownValueInBlockSequenceUsingLocalAddress<\n  BlockKind extends string | number | symbol\n>(\n  sequence: BlockSequence<BlockKind>,\n  localDropdownAddress: NodeAddress,\n  newDropdownValue: string\n): BlockSequence<BlockKind> {\n  return sequence.map((block, blockIndex) => {\n    if (localDropdownAddress[0] !== blockIndex) {\n      return block;\n    }\n\n    return updateDropdownValueInBlockUsingLocalAddress(\n      block,\n      localDropdownAddress.slice(1),\n      newDropdownValue\n    );\n  });\n}\n\nfunction updateDropdownValueInBlockUsingLocalAddress<\n  BlockKind extends string | number | symbol\n>(\n  block: Block<BlockKind>,\n  localDropdownAddress: NodeAddress,\n  newDropdownValue: string\n): Block<BlockKind> {\n  return {\n    isLiteral: false,\n    kind: block.kind,\n    args: {\n      dropdowns: block.args.dropdowns.map((original, dropdownIndex) =>\n        localDropdownAddress.length === 2 &&\n        localDropdownAddress[0] === ARG_DROPDOWN_ADDRESS_PART &&\n        localDropdownAddress[1] === dropdownIndex\n          ? newDropdownValue\n          : original\n      ),\n      expressions: block.args.expressions.map((original, expressionIndex) => {\n        if (original.isLiteral) {\n          return original;\n        }\n\n        if (\n          localDropdownAddress[0] === ARG_EXPRESSION_ADDRESS_PART &&\n          localDropdownAddress[1] === expressionIndex\n        ) {\n          return updateDropdownValueInBlockUsingLocalAddress(\n            original,\n            localDropdownAddress.slice(2),\n            newDropdownValue\n          );\n        }\n\n        return original;\n      }),\n      sequences: block.args.sequences.map((original, sequenceIndex) => {\n        if (\n          localDropdownAddress[0] === ARG_COMMAND_SEQUENCE_ADDRESS_PART &&\n          localDropdownAddress[1] === sequenceIndex\n        ) {\n          return updateDropdownValueInBlockSequenceUsingLocalAddress(\n            original,\n            localDropdownAddress.slice(2),\n            newDropdownValue\n          );\n        }\n\n        return original;\n      }),\n    },\n  };\n}\n\nfunction isPointInBlockCanvasDomElement(\n  clientPosition: Vec2,\n  editorComponentInstanceUid: string\n): boolean {\n  const targetId =\n    editorComponentInstanceUid + DOM_ID_SUFFIXES.canvasBackground;\n  const elements = document.elementsFromPoint(\n    clientPosition.x,\n    clientPosition.y\n  );\n  return elements.some((e) => e.id === targetId);\n}\n\nfunction getBlockEditorCursorBasedOnMousePosition(\n  pointerClientPosition: Vec2,\n  componentInstanceUid: string,\n  state: BlockEditorState<unknown>\n): BlockEditorCursor {\n  const touchRoleAtClientPosition = getTouchRoleAtClientPosition(\n    pointerClientPosition,\n    componentInstanceUid\n  );\n\n  const { uiTouch } = state;\n\n  if (uiTouch !== null && uiTouch.kind === UiTouchStateKind.BlockDrag) {\n    return \"grabbing\";\n  }\n\n  if (\n    touchRoleAtClientPosition !== null &&\n    touchRoleAtClientPosition.startsWith(DATA_TOUCH_ROLES.blockAddressPrefix)\n  ) {\n    return \"grab\";\n  }\n\n  if (\n    touchRoleAtClientPosition !== null &&\n    touchRoleAtClientPosition.startsWith(DATA_TOUCH_ROLES.literalAddressPrefix)\n  ) {\n    return \"text\";\n  }\n\n  if (\n    touchRoleAtClientPosition !== null &&\n    (touchRoleAtClientPosition.startsWith(\n      DATA_TOUCH_ROLES.dropdownAddressPrefix\n    ) ||\n      touchRoleAtClientPosition.startsWith(\n        DATA_TOUCH_ROLES.dropdownChoicePrefix\n      ))\n  ) {\n    return \"pointer\";\n  }\n\n  return \"default\";\n}\n","import { stringifyColor, typecheckedAssertNever } from \"./App\";\nimport { Color32 } from \"./BlockEditor\";\n\nexport enum CanvasElementKind {\n  Group = \"Group\",\n  Image = \"Image\",\n  Text = \"Text\",\n  Path = \"Path\",\n  Clear = \"Clear\",\n}\n\nexport enum PathInstructionKind {\n  MoveTo = \"MoveTo\",\n  LineTo = \"LineTo\",\n  ArcTo = \"ArcTo\",\n}\n\nexport enum TransformKind {\n  Translate = \"Translate\",\n  Rotate = \"Rotate\",\n  Scale = \"Scale\",\n}\n\nexport const NULL_CANVAS_ELEMENT: CanvasElement = {\n  kind: CanvasElementKind.Group,\n  children: [],\n};\n\nexport type CanvasElement =\n  | CanvasGroup\n  | CanvasImage\n  | CanvasText_\n  | CanvasPath_\n  | CanvasClear;\n\nexport interface CanvasGroup {\n  readonly kind: CanvasElementKind.Group;\n  readonly children: readonly CanvasElement[];\n  readonly clipPath?: Path;\n  readonly transform?: readonly Transform[];\n  readonly alpha?: number;\n}\n\nexport interface CanvasImage {\n  readonly kind: CanvasElementKind.Image;\n  readonly source: CanvasImageSource;\n  readonly dx: number;\n  readonly dy: number;\n  readonly dw: number;\n  readonly dh: number;\n}\n\nexport interface CanvasText_ extends CanvasTextFont {\n  readonly kind: CanvasElementKind.Text;\n  readonly text: string;\n  readonly x: number;\n  readonly y: number;\n  readonly maxWidth?: number;\n  readonly fill?: Color32;\n}\n\nexport interface CanvasTextFont {\n  readonly fontWeight?: number;\n  readonly fontSize: number;\n  readonly fontFamily: string;\n\n  readonly textBaseline?: CanvasRenderingContext2D[\"textBaseline\"];\n  readonly textAlign?: CanvasRenderingContext2D[\"textAlign\"];\n}\n\nexport interface CanvasPath_ {\n  readonly kind: CanvasElementKind.Path;\n  readonly path: Path | Path2D;\n  readonly stroke?: Color32;\n  readonly strokeWidth?: number;\n  readonly fill?: Color32;\n}\n\nexport interface CanvasClear {\n  readonly kind: CanvasElementKind.Clear;\n  readonly x: number;\n  readonly y: number;\n  readonly w: number;\n  readonly h: number;\n}\n\nexport type Path = readonly PathInstruction[];\n\nexport type PathInstruction = MoveTo | LineTo | ArcTo;\n\nexport interface MoveTo {\n  readonly kind: PathInstructionKind.MoveTo;\n  readonly x: number;\n  readonly y: number;\n}\n\nexport interface LineTo {\n  readonly kind: PathInstructionKind.LineTo;\n  readonly x: number;\n  readonly y: number;\n}\n\nexport interface ArcTo {\n  readonly kind: PathInstructionKind.ArcTo;\n  readonly x1: number;\n  readonly y1: number;\n  readonly x2: number;\n  readonly y2: number;\n  readonly radius: number;\n}\n\nexport type Transform = Translate | Rotate | Scale;\n\nexport interface Translate {\n  readonly kind: TransformKind.Translate;\n  readonly x: number;\n  readonly y: number;\n}\n\nexport interface Rotate {\n  readonly kind: TransformKind.Rotate;\n  readonly angle: number;\n}\n\nexport interface Scale {\n  readonly kind: TransformKind.Scale;\n  readonly x: number;\n  readonly y: number;\n}\n\nexport function paintCanvasElement(\n  element: CanvasElement,\n  ctx: CanvasRenderingContext2D\n): void {\n  switch (element.kind) {\n    case CanvasElementKind.Group:\n      ctx.save();\n\n      applyGroupModifications(element, ctx);\n\n      for (const child of element.children) {\n        paintCanvasElement(child, ctx);\n      }\n\n      ctx.restore();\n\n      break;\n\n    case CanvasElementKind.Image:\n      ctx.drawImage(\n        element.source,\n        element.dx,\n        element.dy,\n        element.dw,\n        element.dh\n      );\n\n      break;\n\n    case CanvasElementKind.Text:\n      ctx.save();\n\n      applyFont(element, ctx);\n\n      if (element.fill !== undefined) {\n        ctx.fillStyle = stringifyColor(element.fill);\n        ctx.fillText(element.text, element.x, element.y, element.maxWidth);\n      }\n\n      ctx.restore();\n\n      break;\n\n    case CanvasElementKind.Path:\n      ctx.save();\n\n      if (element.path instanceof Path2D) {\n        if (element.fill !== undefined) {\n          ctx.fillStyle = stringifyColor(element.fill);\n          ctx.fill(element.path);\n        }\n\n        if (element.strokeWidth !== undefined && element.stroke !== undefined) {\n          ctx.strokeStyle = stringifyColor(element.stroke);\n          ctx.lineWidth = element.strokeWidth;\n          ctx.stroke(element.path);\n        }\n      } else {\n        ctx.beginPath();\n\n        for (const instruction of element.path) {\n          executePathInstruction(instruction, ctx);\n        }\n\n        ctx.closePath();\n\n        if (element.fill !== undefined) {\n          ctx.fillStyle = stringifyColor(element.fill);\n          ctx.fill();\n        }\n\n        if (element.strokeWidth !== undefined && element.stroke !== undefined) {\n          ctx.strokeStyle = stringifyColor(element.stroke);\n          ctx.lineWidth = element.strokeWidth;\n          ctx.stroke();\n        }\n      }\n\n      ctx.restore();\n\n      break;\n\n    case CanvasElementKind.Clear:\n      ctx.clearRect(element.x, element.y, element.w, element.h);\n      break;\n\n    default:\n      typecheckedAssertNever(element);\n  }\n}\n\nexport function applyFont(\n  font: CanvasTextFont,\n  ctx: CanvasRenderingContext2D\n): void {\n  ctx.font = `${font.fontWeight ?? \"\"} ${font.fontSize}px ${font.fontFamily}`\n    .replace(/ {2,}/g, \" \")\n    .trim();\n\n  ctx.textBaseline = font.textBaseline ?? ctx.textBaseline;\n  ctx.textAlign = font.textAlign ?? ctx.textAlign;\n}\n\nfunction applyGroupModifications(\n  element: CanvasGroup,\n  ctx: CanvasRenderingContext2D\n): void {\n  applyTransforms(element.transform ?? [], ctx);\n\n  ctx.globalAlpha *= element.alpha ?? 1;\n\n  if (element.clipPath !== undefined) {\n    ctx.beginPath();\n\n    for (const instruction of element.clipPath) {\n      executePathInstruction(instruction, ctx);\n    }\n\n    ctx.closePath();\n\n    ctx.clip();\n  }\n}\n\nfunction applyTransforms(\n  transforms: readonly Transform[],\n  ctx: CanvasRenderingContext2D\n): void {\n  for (const t of transforms) {\n    applyTransform(t, ctx);\n  }\n}\n\nfunction applyTransform(\n  transform: Transform,\n  ctx: CanvasRenderingContext2D\n): void {\n  switch (transform.kind) {\n    case TransformKind.Translate:\n      ctx.translate(transform.x, transform.y);\n      break;\n\n    case TransformKind.Rotate:\n      ctx.rotate(transform.angle);\n      break;\n\n    case TransformKind.Scale:\n      ctx.scale(transform.x, transform.y);\n      break;\n\n    default:\n      typecheckedAssertNever(transform);\n  }\n}\n\nfunction executePathInstruction(\n  inst: PathInstruction,\n  ctx: CanvasRenderingContext2D\n): void {\n  switch (inst.kind) {\n    case PathInstructionKind.MoveTo:\n      ctx.moveTo(inst.x, inst.y);\n      break;\n\n    case PathInstructionKind.LineTo:\n      ctx.lineTo(inst.x, inst.y);\n      break;\n\n    case PathInstructionKind.ArcTo:\n      ctx.arcTo(inst.x1, inst.y1, inst.x2, inst.y2, inst.radius);\n      break;\n\n    default:\n      typecheckedAssertNever(inst);\n  }\n}\n","export const GAME_VERSION = \"1.30.0\";\n","export enum UiLanguage {\n  English = \"en-US\",\n  Japanese = \"ja-JP\",\n}\n","export const SETTINGS_VERSION = 1;\n","import { registerPlugin } from '@capacitor/core';\r\n\r\nimport type { SafeAreaPlugin } from './definitions';\r\n\r\nconst SafeArea = registerPlugin<SafeAreaPlugin>('SafeArea', {\r\n  web: () => import('./web').then(m => new m.SafeAreaWeb()),\r\n});\r\n\r\nexport * from './definitions';\r\nexport { SafeArea };\r\n","import { SafeArea, SafeAreaInsets } from \"capacitor-plugin-safe-area\";\n\nexport type SafeAreaChangeListener = (insets: SafeAreaInsets) => void;\n\nconst listeners: SafeAreaChangeListener[] = [];\n\nSafeArea.addListener(\"safeAreaChanged\", (data) => {\n  for (const listener of listeners) {\n    listener(data);\n  }\n});\n\nexport function getSafeAreaInsets(): Promise<SafeAreaInsets> {\n  return SafeArea.getSafeAreaInsets();\n}\n\nexport function addSafeAreaChangeListener(\n  listener: SafeAreaChangeListener\n): void {\n  if (listeners.includes(listener)) {\n    return;\n  }\n\n  listeners.push(listener);\n}\n\nexport function removeSafeAreaChangeListener(\n  listener: SafeAreaChangeListener\n): void {\n  while (true) {\n    const i = listeners.indexOf(listener);\n    if (i === -1) {\n      break;\n    }\n\n    listeners.splice(i, 1);\n  }\n}\n","import { registerPlugin } from '@capacitor/core';\n\nimport type { PreferencesPlugin } from './definitions';\n\nconst Preferences = registerPlugin<PreferencesPlugin>('Preferences', {\n  web: () => import('./web').then(m => new m.PreferencesWeb()),\n});\n\nexport * from './definitions';\nexport { Preferences };\n","import { registerPlugin } from '@capacitor/core';\n\nimport type { SplashScreenPlugin } from './definitions';\n\nconst SplashScreen = registerPlugin<SplashScreenPlugin>('SplashScreen', {\n  web: () => import('./web').then(m => new m.SplashScreenWeb()),\n});\n\nexport * from './definitions';\nexport { SplashScreen };\n","import button_pop from \"./button_pop.mp3\";\n\nexport const audioUrls = { button_pop } as const;\n","import React from \"react\";\nimport prand from \"pure-rand\";\nimport {\n  buttonOverlays,\n  convertRectangleFromExtendedHomeCoordsToNonextendedHomeCoords,\n  CREDITS_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS,\n  damageOverlays,\n  images,\n  JAPANESE_TEXT_BBOX_IN_EXTENDED_HOME_COORDS,\n  LANGUAGE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS,\n  LOADING_SCREEN_CASTLE_CODERS_TEXT_BBOX_IN_EXTENDED_HOME_COORDS,\n  NONEXTENDED_HOME_BACKGROUND_DIMENSIONS,\n  RESET_TO_LEVEL_ONE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS,\n  SETTINGS_BOX_BBOX_IN_NONEXTENDED_HOME_COORDS,\n  SETTINGS_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS,\n  SETTINGS_SCREEN_CLOSE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS,\n  START_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS,\n} from \"./images\";\nimport { fonts } from \"./fonts\";\nimport \"./App.css\";\nimport { Vec2, addVec, scaleVec, subVec } from \"./vec2\";\nimport {\n  BlockArgs,\n  BlockCanvasState,\n  BlockDef,\n  BlockDefKind,\n  BlockDefs,\n  BlockEditor,\n  BlockEditorColorProps,\n  BlockEditorConfig,\n  BlockEditorFontProps,\n  BlockEditorProps,\n  BlockEditorSizingProps,\n  BlockEditorState,\n  BlockSignatureDropdown,\n  BlockSignatureExpression,\n  BlockSignatureLabel,\n  BlockSignaturePartKind,\n  CANVAS_ADDRESS_PART,\n  Color32,\n  ColorTriplet,\n  CommandSignaturePart,\n  Rectangle,\n  UiTouchStateKind,\n  updateCanvasToMatchLiteralEditor,\n  Block,\n  NodeAddress,\n  BlockSequence,\n  areNodeAddressesEqual,\n  ARG_COMMAND_SEQUENCE_ADDRESS_PART,\n  ARG_EXPRESSION_ADDRESS_PART,\n  getBlockSequenceRenderSpec,\n  BlockSequenceRenderSpec,\n  BlockRenderSpec,\n  RenderSpecKind,\n  ReadonlyRecord,\n  CanvasItem,\n  Literal,\n  getPaletteBlockRenderSpecs,\n  getCanvasItemRenderSpecs,\n  UiTouchState,\n  Expression,\n} from \"./BlockEditor\";\nimport {\n  CanvasElement,\n  CanvasElementKind,\n  CanvasTextFont,\n  applyFont,\n  NULL_CANVAS_ELEMENT,\n  paintCanvasElement,\n  PathInstructionKind,\n  TransformKind,\n  CanvasText_,\n  Transform,\n  CanvasImage,\n} from \"./paintCanvas\";\nimport { GAME_VERSION } from \"./GAME_VERSION\";\nimport { UiLanguage } from \"./language\";\nimport { SETTINGS_VERSION } from \"./SETTINGS_VERSION\";\nimport type { SafeAreaInsets } from \"capacitor-plugin-safe-area\";\nimport {\n  addSafeAreaChangeListener,\n  getSafeAreaInsets,\n  removeSafeAreaChangeListener,\n} from \"./safeArea\";\nimport { saveData, loadData } from \"./storage\";\nimport { SplashScreen } from \"@capacitor/splash-screen\";\nimport { Howl } from \"howler\";\nimport { audioUrls } from \"./audio\";\n\nenum UiTextKind {\n  PleaseSwitchToLandscape = \"PleaseSwitchToLandscape\",\n  EditCode = \"EditCode\",\n  ViewMap = \"ViewMap\",\n  StartBattle = \"StartBattle\",\n  LevelCleared = \"LevelCleared\",\n  LevelFailed = \"LevelFailed\",\n  NextLevel = \"NextLevel\",\n  CannotAdvance = \"CannotAdvance\",\n  CannotRetreat = \"CannotRetreat\",\n  CannotAttack = \"CannotAttack\",\n  CannotHeal = \"CannotHeal\",\n  CloseLiteralEditor = \"CloseLiteralEditor\",\n  Home = \"Home\",\n  StartPuzzleFromBeginning = \"StartPuzzleFromBeginning\",\n  StartPuzzleFromLastSaved = \"StartPuzzleFromLastSaved\",\n  Settings = \"Settings\",\n  FlagAndCurrentLanguage = \"FlagAndCurrentLanguage\",\n  Credits = \"Credits\",\n  ResetToLevelOne = \"ResetToLevelOne\",\n  CreditScreenTitle = \"CreditScreenTitle\",\n  CreditScreenNames = \"CreditScreenNames\",\n  CreditScreenGameInfo = \"CreditScreenGameInfo\",\n  Stage2ComingSoon = \"Stage2ComingSoon\",\n  LoadingDotDotDot = \"LoadingDotDotDot\",\n  TutorialLevel1Part1_MoveTheHero = \"TutorialLevel1Part1_MoveTheHero\",\n  TutorialLevel1Part2_DragBlueBlock = \"TutorialLevel1Part2_DragBlueBlock\",\n  TutorialLevel1Part3_DragAnotherBlock = \"TutorialLevel1Part3_DragAnotherBlock\",\n  TutorialLevel1Part4_PressView = \"TutorialLevel1Part4_PressView\",\n  TutorialLevel1Part5_PressPlay = \"TutorialLevel1Part5_PressPlay\",\n  TutorialLevel2Part1_MoveTheHero = \"TutorialLevel2Part1_MoveTheHero\",\n  TutorialLevel9Part1_ScrollDown = \"TutorialLevel9Part1_ScrollDown\",\n  TutorialLevel9Part2_ScrollUp = \"TutorialLevel9Part2_ScrollUp\",\n  TutorialLevel9Part3_DragLessThan = \"TutorialLevel9Part3_DragLessThan\",\n  TutorialLevel9Part4_DragHealth = \"TutorialLevel9Part4_DragHealth\",\n  TutorialLevel9Part5_Type20 = \"TutorialLevel9Part5_Type20\",\n  AreYouSureYouWantToResetToLevelOne = \"AreYouSureYouWantToResetToLevelOne\",\n  ConfirmReset = \"ConfirmReset\",\n  CancelReset = \"CancelReset\",\n}\n\nenum BlockKind {\n  WhenBattleStarts = \"WhenBattleStarts\",\n  MoveForward = \"MoveForward\",\n  Attack = \"Attack\",\n  Heal = \"Heal\",\n  MoveBackward = \"MoveBackward\",\n  Forever = \"Forever\",\n  If = \"If\",\n  XInFront = \"XInFront\",\n  And = \"And\",\n  Or = \"Or\",\n  Not = \"Not\",\n  Health = \"Health\",\n  LessThan = \"LessThan\",\n  Equal = \"Equal\",\n  GreaterThan = \"GreaterThan\",\n}\n\nenum InactiveBlockKind {\n  WhenBattleStarts = \"Inactive\" + BlockKind.WhenBattleStarts,\n  MoveForward = \"Inactive\" + BlockKind.MoveForward,\n  Attack = \"Inactive\" + BlockKind.Attack,\n  Heal = \"Inactive\" + BlockKind.Heal,\n  MoveBackward = \"Inactive\" + BlockKind.MoveBackward,\n  Forever = \"Inactive\" + BlockKind.Forever,\n  If = \"Inactive\" + BlockKind.If,\n  XInFront = \"Inactive\" + BlockKind.XInFront,\n  And = \"Inactive\" + BlockKind.And,\n  Or = \"Inactive\" + BlockKind.Or,\n  Not = \"Inactive\" + BlockKind.Not,\n  Health = \"Inactive\" + BlockKind.Health,\n  LessThan = \"Inactive\" + BlockKind.LessThan,\n  Equal = \"Inactive\" + BlockKind.Equal,\n  GreaterThan = \"Inactive\" + BlockKind.GreaterThan,\n}\n\ntype TutorialBlockKind =\n  | BlockKind.WhenBattleStarts\n  | BlockKind.MoveForward\n  | BlockKind.LessThan\n  | BlockKind.Health;\n\ntype MinimapBlockKind = BlockKind | InactiveBlockKind;\n\nenum BattleEventKind {\n  EvalBlock = \"EvalBlock\",\n  Advance = \"Advance\",\n  Attack = \"Attack\",\n  Heal = \"Heal\",\n  Retreat = \"Retreat\",\n  Summon = \"Summon\",\n  FailHeroAction = \"FailHeroAction\",\n  ClimbStairs = \"ClimbStairs\",\n  FailLevel = \"FailLevel\",\n}\n\nenum SquareKind {\n  Empty = \"Empty\",\n  Hero = \"Hero\",\n  Goblin = \"Goblin\",\n  GiantGoblin = \"GiantGoblin\",\n  Witch = \"Witch\",\n}\n\nenum AnimationKind {\n  Loading = \"Loading\",\n  StaticHome = \"StaticHome\",\n  Edit = \"Edit\",\n  StaticSettings = \"StaticSettings\",\n  StaticConfirmResetToLevelOne = \"StaticConfirmResetToLevelOne\",\n  HomeToView = \"HomeToView\",\n  EditToView = \"EditToView\",\n  ViewToEdit = \"ViewToEdit\",\n  ViewToHome = \"ViewToHome\",\n  EditToHome = \"EditToHome\",\n  PlayBattle = \"PlayBattle\",\n  PauseBattle = \"PauseBattle\",\n  NextLevel = \"NextLevel\",\n  OpenSettings = \"OpenSettings\",\n  CloseSettings = \"CloseSettings\",\n  Credits = \"Credits\",\n}\n\nenum Level {\n  Level1 = 1,\n  Level2 = 2,\n  Level3 = 3,\n  Level4 = 4,\n  Level5 = 5,\n  Level6 = 6,\n  Level7 = 7,\n  Level8 = 8,\n  Level9 = 9,\n  Level10 = 10,\n}\nconst LAST_LEVEL = Math.max(\n  ...Object.values(Level).filter((x): x is Level => Number.isInteger(x))\n) as Level;\n\nconst UI_TEXT_FONT_FAMILY =\n  '\"Checkpoint\", \"Twemoji Country Flags\", Helvetica, Arial, sans-serif';\nconst ERROR_ALERT_TEXT_FONT_FAMILY = UI_TEXT_FONT_FAMILY;\nconst BATTLE_OUTCOME_TEXT_FONT_FAMILY = UI_TEXT_FONT_FAMILY;\nconst BUTTON_TEXT_FONT_FAMILY = UI_TEXT_FONT_FAMILY;\n\nconst HEALTH_TEXT_FONT_FAMILY = '\"Lato Regular\", Helvetica, Arial, sans-serif';\n\nconst BLOCK_TEXT_FONT_FAMILY = '\"Noto Sans JP\", Helvetica, Arial, sans-serif';\n\nconst TEXT_SENTINELS = {\n  useManualBreaking: \"{USE_MANUAL_BREAKING}\",\n  break_: \"{BR}\",\n  editButton: \"{EDIT_BUTTON}\",\n  viewButton: \"{VIEW_BUTTON}\",\n  playButton: \"{PLAY_BUTTON}\",\n  changeToBlockFont: \"{CHANGE_TO_BLOCK_FONT}\",\n  changeToUiFont: \"{CHANGE_TO_UI_FONT}\",\n} as const;\n\ntype TextSentinel = (typeof TEXT_SENTINELS)[keyof typeof TEXT_SENTINELS];\n\nconst ALL_PUZZLE_SCREEN_BUTTON_ICON_SENTINELS = [\n  TEXT_SENTINELS.editButton,\n  TEXT_SENTINELS.viewButton,\n  TEXT_SENTINELS.playButton,\n] as const;\n\ntype PuzzleScreenButtonIconTextSentinel =\n  (typeof ALL_PUZZLE_SCREEN_BUTTON_ICON_SENTINELS)[number];\n\nconst PUZZLE_SCREEN_BUTTON_ICON_SENTINEL_IMAGES: ReadonlyRecord<\n  PuzzleScreenButtonIconTextSentinel,\n  HTMLImageElement\n> = {\n  [TEXT_SENTINELS.editButton]: images.buttons.puzzle.edit,\n  [TEXT_SENTINELS.viewButton]: images.buttons.puzzle.view,\n  [TEXT_SENTINELS.playButton]: images.buttons.puzzle.play,\n};\n\nconst ALL_FONT_CHANGE_SENTINELS = [\n  TEXT_SENTINELS.changeToBlockFont,\n  TEXT_SENTINELS.changeToUiFont,\n] as const;\n\ntype FontChangeTextSentinel = (typeof ALL_FONT_CHANGE_SENTINELS)[number];\n\nconst FONT_CHANGE_SENTINEL_FONT_FAMILIES: ReadonlyRecord<\n  FontChangeTextSentinel,\n  string\n> = {\n  [TEXT_SENTINELS.changeToBlockFont]: BLOCK_TEXT_FONT_FAMILY,\n  [TEXT_SENTINELS.changeToUiFont]: UI_TEXT_FONT_FAMILY,\n};\n\nconst LOCALIZED_UI_TEXT: ReadonlyRecord<\n  UiLanguage,\n  ReadonlyRecord<UiTextKind, string>\n> = {\n  [UiLanguage.English]: {\n    [UiTextKind.PleaseSwitchToLandscape]:\n      \"Please switch your device's orientation to landscape.\",\n    [UiTextKind.EditCode]: \"Edit\",\n    [UiTextKind.ViewMap]: \"View Map\",\n    [UiTextKind.StartBattle]: \"Start Battle\",\n    [UiTextKind.LevelCleared]: \"Level Complete!\",\n    [UiTextKind.LevelFailed]: \"Level Failed.\",\n    [UiTextKind.NextLevel]: \"Next Level\",\n    [UiTextKind.CannotAdvance]: \"Cannot move forward\",\n    [UiTextKind.CannotRetreat]: \"Cannot move backward\",\n    [UiTextKind.CannotAttack]: \"Nothing to attack\",\n    [UiTextKind.CannotHeal]: `Max health reached`,\n    [UiTextKind.CloseLiteralEditor]: \"Close\",\n    [UiTextKind.Home]: \"Home\",\n    [UiTextKind.StartPuzzleFromBeginning]: \"Start\",\n    [UiTextKind.StartPuzzleFromLastSaved]: \"Start\",\n    [UiTextKind.Settings]: \"Settings\",\n    [UiTextKind.FlagAndCurrentLanguage]: \"🇺🇸 English\",\n    [UiTextKind.Credits]: \"Credits\",\n    [UiTextKind.ResetToLevelOne]: \"Reset to Level 1\",\n    [UiTextKind.CreditScreenTitle]: \"Credits\",\n    [UiTextKind.CreditScreenNames]:\n      \"Kyle Lin\\nmayuge__san\\nPointer icons courtesy of Flaticon\",\n    [UiTextKind.CreditScreenGameInfo]: `Castle Coders ${GAME_VERSION}\\nCopyright 2024 Zaqlo Studios.\\nAll rights reserved.`,\n    [UiTextKind.Stage2ComingSoon]: \"Stage 1 complete!\\nStage 2 coming soon.\",\n    [UiTextKind.LoadingDotDotDot]: \"Loading...\",\n    [UiTextKind.TutorialLevel1Part1_MoveTheHero]: `Use code blocks to\\nmove the hero to the stairs!\\n\\nPress ${TEXT_SENTINELS.editButton} to open\\nthe code block editor.`,\n    [UiTextKind.TutorialLevel1Part2_DragBlueBlock]:\n      \"Drag the blue block and connect it\\nto the bottom of the yellow block.\",\n    [UiTextKind.TutorialLevel1Part3_DragAnotherBlock]:\n      \"Drag another blue block to the\\nbottom of the stack.\",\n    [UiTextKind.TutorialLevel1Part4_PressView]: `Nice work!\\nPress ${TEXT_SENTINELS.viewButton} to continue.`,\n    [UiTextKind.TutorialLevel1Part5_PressPlay]: `Press ${TEXT_SENTINELS.playButton} to continue.`,\n    [UiTextKind.TutorialLevel2Part1_MoveTheHero]:\n      \"Use the code blocks to\\nmove the hero to the stairs!\\nHint: You must defeat\\nthe goblin blocking your way\\nbefore you can move forward.\",\n    [UiTextKind.TutorialLevel9Part1_ScrollDown]: \"Scroll down.\",\n    [UiTextKind.TutorialLevel9Part2_ScrollUp]: \"Scroll up.\",\n    [UiTextKind.TutorialLevel9Part3_DragLessThan]: `Drag the green “${TEXT_SENTINELS.changeToBlockFont}<${TEXT_SENTINELS.changeToUiFont}” block\\nonto the canvas.`,\n    [UiTextKind.TutorialLevel9Part4_DragHealth]: `Drag the light blue “${TEXT_SENTINELS.changeToBlockFont}HP${TEXT_SENTINELS.changeToUiFont}” block\\ninto the left side of the “${TEXT_SENTINELS.changeToBlockFont}<${TEXT_SENTINELS.changeToUiFont}” block.`,\n    [UiTextKind.TutorialLevel9Part5_Type20]: `Tap the right side of the “${TEXT_SENTINELS.changeToBlockFont}<${TEXT_SENTINELS.changeToUiFont}” block.\\nThen, type “${TEXT_SENTINELS.changeToBlockFont}20${TEXT_SENTINELS.changeToUiFont}” (without the quotes).`,\n    [UiTextKind.AreYouSureYouWantToResetToLevelOne]: \"Reset to level 1?\",\n    [UiTextKind.ConfirmReset]: \"Reset\",\n    [UiTextKind.CancelReset]: \"Cancel\",\n  },\n  [UiLanguage.Japanese]: {\n    [UiTextKind.PleaseSwitchToLandscape]: `${TEXT_SENTINELS.useManualBreaking}デバイスの${TEXT_SENTINELS.break_}画面を${TEXT_SENTINELS.break_}横に${TEXT_SENTINELS.break_}回転${TEXT_SENTINELS.break_}させて${TEXT_SENTINELS.break_}ください。`,\n    [UiTextKind.EditCode]: \"編集\",\n    [UiTextKind.ViewMap]: \"戦場を見る\",\n    [UiTextKind.StartBattle]: \"バトル開始\",\n    [UiTextKind.LevelCleared]: \"レベルクリア！\",\n    [UiTextKind.LevelFailed]: \"レベル失敗\",\n    [UiTextKind.NextLevel]: \"次のレベルへ\",\n    [UiTextKind.CannotAdvance]: \"進めない\",\n    [UiTextKind.CannotRetreat]: \"戻れない\",\n    [UiTextKind.CannotAttack]: \"攻撃対象がない\",\n    [UiTextKind.CannotHeal]: `HPの上限に達した`,\n    [UiTextKind.CloseLiteralEditor]: \"閉じる\",\n    [UiTextKind.Home]: \"ホーム画面へ戻る\",\n    [UiTextKind.StartPuzzleFromBeginning]: \"はじめから\",\n    [UiTextKind.StartPuzzleFromLastSaved]: \"つづきから\",\n    [UiTextKind.Settings]: \"設定\",\n    [UiTextKind.FlagAndCurrentLanguage]: \"🇯🇵 日本語\",\n    [UiTextKind.Credits]: \"スタッフロール\",\n    [UiTextKind.ResetToLevelOne]: \"レベル１にリセットする\",\n    [UiTextKind.CreditScreenTitle]: \"スタッフロール\",\n    [UiTextKind.CreditScreenNames]:\n      \"林カイル\\nmayuge__san\\nPointer icons courtesy of Flaticon\",\n    [UiTextKind.CreditScreenGameInfo]: `Castle Coders ${GAME_VERSION}\\nCopyright 2024 Zaqlo Studios.\\nAll rights reserved.`,\n    [UiTextKind.Stage2ComingSoon]:\n      \"ステージ１クリア！\\nステージ２は近日公開予定です。\",\n    [UiTextKind.LoadingDotDotDot]: \"ロード中...\",\n    [UiTextKind.TutorialLevel1Part1_MoveTheHero]: `コードブロックを使って\\n勇者を階段に行かせましょう！\\n\\n${TEXT_SENTINELS.editButton}を押してください。`,\n    [UiTextKind.TutorialLevel1Part2_DragBlueBlock]:\n      \"青のブロックをドラッグして、黄色の\\nブロックの下に繋がってください。\",\n    [UiTextKind.TutorialLevel1Part3_DragAnotherBlock]:\n      \"もう一つの青のブロックを\\nドラッグして繋がってください。\",\n    [UiTextKind.TutorialLevel1Part4_PressView]: `${TEXT_SENTINELS.viewButton}を押してください。`,\n    [UiTextKind.TutorialLevel1Part5_PressPlay]: `${TEXT_SENTINELS.playButton}を押してください。`,\n    [UiTextKind.TutorialLevel2Part1_MoveTheHero]:\n      \"コードブロックを使って\\n勇者を階段に行かせましょう！\\nヒント：\\nゴブリンを倒さないと\\n勇者が進めません。\",\n    [UiTextKind.TutorialLevel9Part1_ScrollDown]: \"下にスクロールしてください。\",\n    [UiTextKind.TutorialLevel9Part2_ScrollUp]: \"上にスクロールしてください。\",\n    [UiTextKind.TutorialLevel9Part3_DragLessThan]: `緑の「${TEXT_SENTINELS.changeToBlockFont}<${TEXT_SENTINELS.changeToUiFont}」ブロックをキャンバスに\\nドラッグしてください。`,\n    [UiTextKind.TutorialLevel9Part4_DragHealth]: `水色の「${TEXT_SENTINELS.changeToBlockFont}HP${TEXT_SENTINELS.changeToUiFont}」ブロックを\\n「${TEXT_SENTINELS.changeToBlockFont}<${TEXT_SENTINELS.changeToUiFont}」ブロックの左辺に入れてください。`,\n    [UiTextKind.TutorialLevel9Part5_Type20]: `「${TEXT_SENTINELS.changeToBlockFont}<${TEXT_SENTINELS.changeToUiFont}」ブロックの右辺をタップして、\\nキーボードで「${TEXT_SENTINELS.changeToBlockFont}20${TEXT_SENTINELS.changeToUiFont}」を記入してください。`,\n    [UiTextKind.AreYouSureYouWantToResetToLevelOne]: \"レベル１にリセット？\",\n    [UiTextKind.ConfirmReset]: \"決定\",\n    [UiTextKind.CancelReset]: \"キャンセル\",\n  },\n};\n\nenum EnemyCombinationKind {\n  SingleGoblin = \"SingleGoblin\",\n  MultipleGoblins = \"MultipleGoblins\",\n  SingleWitch = \"SingleWitch\",\n}\n\nconst LOCALIZED_DEFEATED_ENEMIES_BUT_FORGOT_TO_MOVE_HERO_TO_STAIRS_MESSAGE_TEXT: ReadonlyRecord<\n  UiLanguage,\n  ReadonlyRecord<EnemyCombinationKind, string>\n> = {\n  [UiLanguage.English]: {\n    [EnemyCombinationKind.SingleGoblin]:\n      \"Your code is almost correct!\\nYou successfully defeated\\nthe goblin, but you forgot to\\nmove the hero to the stairs.\\nEdit your code to fix this.\",\n    [EnemyCombinationKind.MultipleGoblins]:\n      \"Your code is almost correct!\\nYou successfully defeated\\nthe goblins, but you forgot to\\nmove the hero to the stairs.\\nEdit your code to fix this.\",\n    [EnemyCombinationKind.SingleWitch]:\n      \"Your code is almost correct!\\nYou successfully defeated\\nthe witch, but you forgot to\\nmove the hero to the stairs.\\nEdit your code to fix this.\",\n  },\n  [UiLanguage.Japanese]: {\n    [EnemyCombinationKind.SingleGoblin]:\n      \"惜しいです！\\nゴブリンをうまく倒したが、\\n勇者を階段に行かせません\\nでした。コードを\\n修正してみましょう。\",\n    [EnemyCombinationKind.MultipleGoblins]:\n      \"惜しいです！\\nゴブリン達をうまく倒したが、\\n勇者を階段に行かせません\\nでした。コードを\\n修正してみましょう。\",\n    [EnemyCombinationKind.SingleWitch]:\n      \"惜しいです！\\n魔法使いをうまく倒したが、\\n勇者を階段に行かせません\\nでした。コードを\\n修正してみましょう。\",\n  },\n};\n\nconst LOCALIZED_USE_CODE_TO_DEFEAT_ENEMIES_AND_MOVE_HERO_TO_STAIRS_MESSAGE_TEXT: ReadonlyRecord<\n  UiLanguage,\n  ReadonlyRecord<EnemyCombinationKind, string>\n> = {\n  [UiLanguage.English]: {\n    [EnemyCombinationKind.SingleGoblin]:\n      \"Use code blocks to defeat the goblin\\nand move the hero to the stairs!\",\n    [EnemyCombinationKind.MultipleGoblins]:\n      \"Use code blocks to defeat the goblins\\nand move the hero to the stairs!\",\n    [EnemyCombinationKind.SingleWitch]:\n      \"Use code blocks to defeat the witch\\nand move the hero to the stairs!\",\n  },\n  [UiLanguage.Japanese]: {\n    [EnemyCombinationKind.SingleGoblin]:\n      \"コードブロックを使ってゴブリンを\\n倒して、勇者を階段に行かせましょう！\",\n    [EnemyCombinationKind.MultipleGoblins]:\n      \"コードブロックを使ってゴブリン達を\\n倒して、勇者を階段に行かせましょう！\",\n    [EnemyCombinationKind.SingleWitch]:\n      \"コードブロックを使って魔法使いを\\n倒して、勇者を階段に行かせましょう！\",\n  },\n};\n\nenum BattleStatus {\n  Victory = \"Victory\",\n  Defeat = \"Defeat\",\n  InProgress = \"InProgress\",\n}\n\nenum HeroActionKind {\n  Advance = \"Advance\",\n  Retreat = \"Retreat\",\n  Attack = \"Attack\",\n  Heal = \"Heal\",\n}\n\nenum ButtonKind {\n  HomeScreenStart = \"HomeScreenStart\",\n  Settings = \"Settings\",\n  NextLevel = \"NextLevel\",\n  PuzzleScreenLeft = \"PuzzleScreenLeft\",\n  PuzzleScreenMiddle = \"PuzzleScreenMiddle\",\n  PuzzleScreenRight = \"PuzzleScreenRight\",\n  SettingsScreenClose = \"SettingsScreenClose\",\n  SettingsScreenSecondaryClose = \"SettingsScreenSecondaryClose\",\n  Language = \"Language\",\n  Credits = \"Credits\",\n  OpenConfirmResetToLevelOneScreen = \"OpenConfirmResetToLevelOneScreen\",\n  CreditsScreenClose = \"CreditsScreenClose\",\n  ConfirmResetToLevelOne = \"ConfirmResetToLevelOne\",\n  CancelResetToLevelOne = \"CancelResetToLevelOne\",\n  ConfirmResetToLevelOneScreenClose = \"ConfirmResetToLevelOneScreenClose\",\n}\n\n// Color theme based on\n// https://github.com/scratchfoundation/scratch-blocks/wiki/Colors\nconst COLOR_THEME = {\n  white: parseColorHexString(\"#f9f9f9\"),\n  gray: parseColorHexString(\"#5a6177\"),\n  unreachableBlockGray: {\n    primary: parseColorHexString(\"#888888\"),\n    secondary: parseColorHexString(\"#777777\"),\n    tertiary: parseColorHexString(\"#666666\"),\n  },\n  backgroundDotGray: parseColorHexString(\"#dddddd\"),\n  errorAlertRed: parseColorHexString(\"#aa0000cc\"),\n  paletteBackgroundWhite: parseColorHexString(\"#f9f9f9cc\"),\n  dividerGray: parseColorHexString(\"#d4d4d4\"),\n  buttonBlue: parseColorHexString(\"#469bbe\"),\n\n  red: {\n    primary: parseColorHexString(\"#ff6619\"),\n    secondary: parseColorHexString(\"#ff5500\"),\n    tertiary: parseColorHexString(\"#e64d00\"),\n  },\n  fire: {\n    primary: parseColorHexString(\"#ff8c1a\"),\n    secondary: parseColorHexString(\"#ff8000\"),\n    tertiary: parseColorHexString(\"#db6e00\"),\n  },\n  orange: {\n    primary: parseColorHexString(\"#ffab19\"),\n    secondary: parseColorHexString(\"#ec9c13\"),\n    tertiary: parseColorHexString(\"#cf8b17\"),\n  },\n  yellow: {\n    primary: parseColorHexString(\"#ffbf00\"),\n    secondary: parseColorHexString(\"#e6ac00\"),\n    tertiary: parseColorHexString(\"#cc9900\"),\n  },\n  lime: {\n    primary: parseColorHexString(\"#58c059\"),\n    secondary: parseColorHexString(\"#46b946\"),\n    tertiary: parseColorHexString(\"#389438\"),\n  },\n  emerald: {\n    primary: parseColorHexString(\"#0fbd8c\"),\n    secondary: parseColorHexString(\"#0da57a\"),\n    tertiary: parseColorHexString(\"#0b8e69\"),\n  },\n  cyan: {\n    primary: parseColorHexString(\"#5bb1d6\"),\n    secondary: parseColorHexString(\"#47a8d1\"),\n    tertiary: parseColorHexString(\"#2e8eb8\"),\n  },\n  blue: {\n    primary: parseColorHexString(\"#4c97ff\"),\n    secondary: parseColorHexString(\"#4280d7\"),\n    tertiary: parseColorHexString(\"#3373cc\"),\n  },\n  purple: {\n    primary: parseColorHexString(\"#9a66ff\"),\n    secondary: parseColorHexString(\"#855cd6\"),\n    tertiary: parseColorHexString(\"#774dcb\"),\n  },\n  magenta: {\n    primary: parseColorHexString(\"#cf63cf\"),\n    secondary: parseColorHexString(\"#c94fc9\"),\n    tertiary: parseColorHexString(\"#a63fa6\"),\n  },\n  pink: {\n    primary: parseColorHexString(\"#ff6680\"),\n    secondary: parseColorHexString(\"#ff4d6a\"),\n    tertiary: parseColorHexString(\"#ff3355\"),\n  },\n\n  insertionMarkTransparentBlack: parseColorHexString(\"#00000033\"),\n  textWhite: parseColorHexString(\"#ffffff\"),\n  textBrown: parseColorHexString(\"#68442d\"),\n  squareRed: parseColorHexString(\"#64222233\"),\n  heartMarkRed: parseColorHexString(\"#ef232e\"),\n  heartMarkBorderPink: parseColorHexString(\"#f3b1b5\"),\n} as const;\n\nconst SIZING = {\n  paletteWidth: 200,\n  blockPadding: 5,\n  blockBorder: 1,\n  blockBorderRadius: 5,\n  minPalettePadding: 5,\n  paletteInterblockMargin: 10,\n  snapVerticalRange: 35,\n  snapHorizontalRange: 35,\n  backgroundDotRadius: 2,\n  battleOutcomeAlertWidthFactor: 0.3,\n\n  blockTextSizePx: 16,\n  unscaledErrorAlertTextSizePx: 25,\n  unscaledHealthTextSizePx: 30,\n  unscaledBattleOutcomeTextSizePx: 32,\n  unscaledButtonTextSizePx: 25,\n\n  castleInteriorImage: {\n    width: 1332,\n    height: 910,\n  },\n\n  commandSocket: {\n    indent: 12,\n    majorBase: 20,\n    minorBase: 12,\n    height: 8,\n  },\n\n  commandSequenceArgIndent: 12,\n  interCommandPartMargin: 6,\n\n  healthTextBorder: 1,\n\n  depressedButtonScale: 0.9,\n} as const;\n\nconst BATTLE_CONFIG = {\n  heroDamage: 6,\n  goblinDamage: 5,\n  giantGoblinDamage: 7,\n  witchDamage: 4,\n  witchAttackRange: 4,\n  witchSummonGoblinHealthCost: 1,\n  heroMaxHealth: 20,\n  heroHeal: 2,\n} as const;\n\nconst MAIN_BLOCK_EDITOR_BLOCK_COLORS: ReadonlyRecord<BlockKind, ColorTriplet> =\n  {\n    [BlockKind.MoveForward]: COLOR_THEME.blue,\n    [BlockKind.Attack]: COLOR_THEME.purple,\n    [BlockKind.WhenBattleStarts]: COLOR_THEME.yellow,\n    [BlockKind.Heal]: COLOR_THEME.emerald,\n    [BlockKind.MoveBackward]: COLOR_THEME.blue,\n    [BlockKind.Forever]: COLOR_THEME.orange,\n    [BlockKind.If]: COLOR_THEME.orange,\n    [BlockKind.XInFront]: COLOR_THEME.cyan,\n    [BlockKind.And]: COLOR_THEME.lime,\n    [BlockKind.Or]: COLOR_THEME.lime,\n    [BlockKind.Not]: COLOR_THEME.lime,\n    [BlockKind.Health]: COLOR_THEME.cyan,\n    [BlockKind.LessThan]: COLOR_THEME.lime,\n    [BlockKind.Equal]: COLOR_THEME.lime,\n    [BlockKind.GreaterThan]: COLOR_THEME.lime,\n  };\n\nconst MAIN_BLOCK_EDITOR_STATIC_CONFIG: {\n  sizingWithoutWindowDependentProperties: Omit<\n    BlockEditorSizingProps,\n    | \"editorBounds\"\n    | \"paletteBounds\"\n    | \"canvasBounds\"\n    | \"blockDropdownMenuDimensions\"\n    | \"dividers\"\n    | \"paletteLeftPadding\"\n    | \"paletteRightPadding\"\n    | \"paletteTopPadding\"\n    | \"paletteBottomPadding\"\n  >;\n  colors: BlockEditorColorProps<BlockKind>;\n  fonts: BlockEditorFontProps;\n} = {\n  sizingWithoutWindowDependentProperties: {\n    blockBorder: SIZING.blockBorder,\n    blockLiteralBorder: SIZING.blockBorder,\n    blockDropdownBorder: SIZING.blockBorder,\n    blockBorderRadius: SIZING.blockBorderRadius,\n    paletteInterblockMargin: SIZING.paletteInterblockMargin,\n    paletteTrashCanHorizontalMargin: 10,\n    paletteTrashCanVerticalMargin: 10,\n    snapVerticalRange: SIZING.snapVerticalRange,\n    snapHorizontalRange: SIZING.snapHorizontalRange,\n    backgroundDotRadius: SIZING.backgroundDotRadius,\n    blockLabelTextSizePx: SIZING.blockTextSizePx,\n    blockDropdownTextSizePx: SIZING.blockTextSizePx,\n    blockDropdownHorizontalPadding: 0,\n    blockDropdownVerticalPadding: 3 * SIZING.blockBorder,\n    blockDropdownArrowWidth: 8,\n    blockDropdownArrowLeftMargin: 5,\n    blockDropdownArrowVerticalMargin: 1,\n    blockLiteralTextSizePx: SIZING.blockTextSizePx,\n    blockLiteralHorizontalPadding: 0,\n    blockLiteralVerticalPadding: 3 * SIZING.blockBorder,\n    blockDropdownMenuTextSizePx: 14,\n    blockDropdownMenuBorder: SIZING.blockBorder,\n    blockDropdownMenuBorderRadius: SIZING.blockBorderRadius,\n    blockDropdownMenuHorizontalPadding: 10,\n    blockDropdownMenuChoiceVerticalMargin: 8,\n    blockDropdownMenuInterChoiceDividerHeight: 1,\n\n    commandSocket: SIZING.commandSocket,\n\n    commandSequenceArgIndent: SIZING.commandSequenceArgIndent,\n    interBlockPartHorizontalMargin: SIZING.interCommandPartMargin,\n    commandBlockHorizontalPadding: SIZING.interCommandPartMargin,\n    commandBlockVerticalPadding:\n      0.867 * SIZING.blockTextSizePx - 0.5 * SIZING.commandSocket.height,\n    queryBlockVerticalPadding: 3 * SIZING.blockBorder,\n    queryInsertionMarkHaloRadius: 0.666667 * 3 * SIZING.blockBorder,\n  },\n  colors: {\n    background: COLOR_THEME.white,\n    paletteBackground: COLOR_THEME.paletteBackgroundWhite,\n    paletteTrashCan: COLOR_THEME.insertionMarkTransparentBlack,\n    backgroundDot: COLOR_THEME.backgroundDotGray,\n    divider: COLOR_THEME.dividerGray,\n    blocks: MAIN_BLOCK_EDITOR_BLOCK_COLORS,\n    unreachableBlocks: mapBlockKindRecord(\n      MAIN_BLOCK_EDITOR_BLOCK_COLORS,\n      () => COLOR_THEME.unreachableBlockGray\n    ),\n    blockLabelText: COLOR_THEME.textWhite,\n    blockLiteralText: COLOR_THEME.gray,\n    blockDropdownText: COLOR_THEME.textWhite,\n    blockLiteralBackground: COLOR_THEME.white,\n    commandInsertionMark: COLOR_THEME.insertionMarkTransparentBlack,\n    queryInsertionMarkHalo: COLOR_THEME.white,\n  },\n  fonts: {\n    blockLabelFont: BLOCK_TEXT_FONT_FAMILY,\n    blockDropdownFont: BLOCK_TEXT_FONT_FAMILY,\n    blockLiteralFont: BLOCK_TEXT_FONT_FAMILY,\n    blockDropdownMenuFont: BLOCK_TEXT_FONT_FAMILY,\n  },\n};\n\nconst TRANSPARENT: Color32 = { r: 0, g: 0, b: 0, a: 0 };\nconst TRANSPARENT_TRIPLET: ColorTriplet = {\n  primary: TRANSPARENT,\n  secondary: TRANSPARENT,\n  tertiary: TRANSPARENT,\n};\n\nconst BLACK: Color32 = { r: 0, g: 0, b: 0, a: 255 };\n\nconst TUTORIAL_BLOCK_EDITOR_STATIC_CONFIG: {\n  colors: BlockEditorColorProps<TutorialBlockKind>;\n} = {\n  colors: {\n    background: TRANSPARENT,\n    paletteBackground: TRANSPARENT,\n    paletteTrashCan: TRANSPARENT,\n    backgroundDot: TRANSPARENT,\n    divider: TRANSPARENT,\n    blocks: {\n      [BlockKind.WhenBattleStarts]: TRANSPARENT_TRIPLET,\n      [BlockKind.MoveForward]: tripletWithAlpha(\n        0x40,\n        MAIN_BLOCK_EDITOR_STATIC_CONFIG.colors.blocks[BlockKind.MoveForward]\n      ),\n      [BlockKind.LessThan]: tripletWithAlpha(\n        0x40,\n        MAIN_BLOCK_EDITOR_STATIC_CONFIG.colors.blocks[BlockKind.LessThan]\n      ),\n      [BlockKind.Health]: tripletWithAlpha(\n        0x40,\n        MAIN_BLOCK_EDITOR_STATIC_CONFIG.colors.blocks[BlockKind.Health]\n      ),\n    },\n    unreachableBlocks: mapBlockKindRecord(MAIN_BLOCK_EDITOR_BLOCK_COLORS, () =>\n      tripletWithAlpha(0x40, COLOR_THEME.unreachableBlockGray)\n    ),\n    blockLabelText: COLOR_THEME.textWhite,\n    blockLiteralText: COLOR_THEME.gray,\n    blockDropdownText: COLOR_THEME.textWhite,\n    blockLiteralBackground: COLOR_THEME.white,\n    commandInsertionMark: COLOR_THEME.insertionMarkTransparentBlack,\n    queryInsertionMarkHalo: COLOR_THEME.white,\n  },\n};\n\nconst MINIMAP_BLOCK_EDITOR_STATIC_CONFIG: {\n  sizingWithoutWindowDependentProperties: Omit<\n    BlockEditorSizingProps,\n    | \"editorBounds\"\n    | \"paletteBounds\"\n    | \"canvasBounds\"\n    | \"blockDropdownMenuDimensions\"\n    | \"dividers\"\n    | \"paletteLeftPadding\"\n    | \"paletteRightPadding\"\n    | \"paletteTopPadding\"\n    | \"paletteBottomPadding\"\n  >;\n  colors: BlockEditorColorProps<MinimapBlockKind>;\n} = {\n  sizingWithoutWindowDependentProperties: {\n    blockBorder: SIZING.blockBorder,\n    blockLiteralBorder: SIZING.blockBorder,\n    blockDropdownBorder: SIZING.blockBorder,\n    blockBorderRadius: SIZING.blockBorderRadius,\n    paletteInterblockMargin: 0,\n    paletteTrashCanHorizontalMargin: 0,\n    paletteTrashCanVerticalMargin: 0,\n    snapVerticalRange: SIZING.snapVerticalRange,\n    snapHorizontalRange: SIZING.snapHorizontalRange,\n    backgroundDotRadius: SIZING.backgroundDotRadius,\n    blockLabelTextSizePx: SIZING.blockTextSizePx,\n    blockDropdownTextSizePx: SIZING.blockTextSizePx,\n    blockDropdownHorizontalPadding: 0,\n    blockDropdownVerticalPadding: 3 * SIZING.blockBorder,\n    blockDropdownArrowWidth: 8,\n    blockDropdownArrowLeftMargin: 5,\n    blockDropdownArrowVerticalMargin: 1,\n    blockLiteralTextSizePx: SIZING.blockTextSizePx,\n    blockLiteralHorizontalPadding: 0,\n    blockLiteralVerticalPadding: 3 * SIZING.blockBorder,\n    blockDropdownMenuTextSizePx: 14,\n    blockDropdownMenuBorder: SIZING.blockBorder,\n    blockDropdownMenuBorderRadius: SIZING.blockBorderRadius,\n    blockDropdownMenuHorizontalPadding: 10,\n    blockDropdownMenuChoiceVerticalMargin: 8,\n    blockDropdownMenuInterChoiceDividerHeight: 1,\n\n    commandSocket: SIZING.commandSocket,\n\n    commandSequenceArgIndent: SIZING.commandSequenceArgIndent,\n    interBlockPartHorizontalMargin: SIZING.interCommandPartMargin,\n    commandBlockHorizontalPadding: SIZING.interCommandPartMargin,\n    commandBlockVerticalPadding:\n      0.867 * SIZING.blockTextSizePx - 0.5 * SIZING.commandSocket.height,\n    queryBlockVerticalPadding: 3 * SIZING.blockBorder,\n    queryInsertionMarkHaloRadius: 0.666667 * 3 * SIZING.blockBorder,\n  },\n  colors: {\n    background: parseColorHexString(\"#222222\"),\n    paletteBackground: TRANSPARENT,\n    paletteTrashCan: TRANSPARENT,\n    backgroundDot: TRANSPARENT,\n    divider: TRANSPARENT,\n    blocks: {\n      ...mapBlockKindRecord(\n        MAIN_BLOCK_EDITOR_STATIC_CONFIG.colors.blocks,\n        applyActiveFilterToTriplet\n      ),\n      ...mapBlockKindRecordToInactiveBlockKindRecord(\n        MAIN_BLOCK_EDITOR_STATIC_CONFIG.colors.blocks,\n        applyInactiveFilterToTriplet\n      ),\n    },\n    unreachableBlocks: {\n      ...mapBlockKindRecord(\n        MAIN_BLOCK_EDITOR_STATIC_CONFIG.colors.blocks,\n        () => COLOR_THEME.unreachableBlockGray\n      ),\n      ...mapBlockKindRecordToInactiveBlockKindRecord(\n        MAIN_BLOCK_EDITOR_STATIC_CONFIG.colors.blocks,\n        () => COLOR_THEME.unreachableBlockGray\n      ),\n    },\n    blockLabelText: COLOR_THEME.textWhite,\n    blockLiteralText: COLOR_THEME.gray,\n    blockDropdownText: COLOR_THEME.textWhite,\n    blockLiteralBackground: COLOR_THEME.white,\n    commandInsertionMark: COLOR_THEME.insertionMarkTransparentBlack,\n    queryInsertionMarkHalo: COLOR_THEME.white,\n  },\n};\n\nconst X_IN_FRONT_DROPDOWN_VALUES: ReadonlyRecord<\n  UiLanguage,\n  ReadonlyRecord<Exclude<SquareKind, SquareKind.Hero>, string>\n> = {\n  [UiLanguage.English]: {\n    [SquareKind.Empty]: \"nothing\",\n    [SquareKind.Goblin]: \"goblin\",\n    [SquareKind.GiantGoblin]: \"giant goblin\",\n    [SquareKind.Witch]: \"witch\",\n  },\n  [UiLanguage.Japanese]: {\n    [SquareKind.Empty]: \"何もない\",\n    [SquareKind.Goblin]: \"ゴブリンがいる\",\n    [SquareKind.GiantGoblin]: \"巨大ゴブリンがいる\",\n    [SquareKind.Witch]: \"魔法使いがいる\",\n  },\n};\n\nconst BLOCK_DEF_STRINGS: ReadonlyRecord<\n  BlockKind,\n  ReadonlyRecord<UiLanguage, string>\n> = {\n  [BlockKind.WhenBattleStarts]: {\n    [UiLanguage.English]:\n      \"when battle starts %%maleCommand %%undeletable %%entryPoint\",\n    [UiLanguage.Japanese]:\n      \"バトルが始まったとき %%maleCommand %%undeletable %%entryPoint\",\n  },\n  [BlockKind.MoveForward]: {\n    [UiLanguage.English]: \"move forward %%hermaphroditeCommand\",\n    [UiLanguage.Japanese]: \"一歩進む %%hermaphroditeCommand\",\n  },\n  [BlockKind.Attack]: {\n    [UiLanguage.English]: \"attack %%hermaphroditeCommand\",\n    [UiLanguage.Japanese]: \"攻撃する %%hermaphroditeCommand\",\n  },\n  [BlockKind.Heal]: {\n    [UiLanguage.English]: \"heal %%hermaphroditeCommand\",\n    [UiLanguage.Japanese]: \"回復する %%hermaphroditeCommand\",\n  },\n  [BlockKind.MoveBackward]: {\n    [UiLanguage.English]: \"move backward %%hermaphroditeCommand\",\n    [UiLanguage.Japanese]: \"一歩戻る %%hermaphroditeCommand\",\n  },\n  [BlockKind.Forever]: {\n    [UiLanguage.English]: \"forever {} %%femaleCommand\",\n    [UiLanguage.Japanese]: \"ずっと {} %%femaleCommand\",\n  },\n  [BlockKind.If]: {\n    [UiLanguage.English]: \"if () then {} %%hermaphroditeCommand\",\n    [UiLanguage.Japanese]: \"もし () なら {} %%hermaphroditeCommand\",\n  },\n  [BlockKind.XInFront]: {\n    [UiLanguage.English]: `square in front has [${Object.values(\n      X_IN_FRONT_DROPDOWN_VALUES[UiLanguage.English]\n    ).join(\" || \")}] %%query`,\n    [UiLanguage.Japanese]: `前のマス目に [${Object.values(\n      X_IN_FRONT_DROPDOWN_VALUES[UiLanguage.Japanese]\n    ).join(\" || \")}] %%query`,\n  },\n  [BlockKind.And]: {\n    [UiLanguage.English]: \"() and () %%query\",\n    [UiLanguage.Japanese]: \"() かつ () %%query\",\n  },\n  [BlockKind.Or]: {\n    [UiLanguage.English]: \"() or () %%query\",\n    [UiLanguage.Japanese]: \"() または () %%query\",\n  },\n  [BlockKind.Not]: {\n    [UiLanguage.English]: \"not () %%query\",\n    [UiLanguage.Japanese]: \"() でない %%query\",\n  },\n  [BlockKind.Health]: {\n    [UiLanguage.English]: \"HP %%query\",\n    [UiLanguage.Japanese]: \"HP %%query\",\n  },\n  [BlockKind.LessThan]: {\n    [UiLanguage.English]: \"() < () %%query\",\n    [UiLanguage.Japanese]: \"() < () %%query\",\n  },\n  [BlockKind.Equal]: {\n    [UiLanguage.English]: \"() = () %%query\",\n    [UiLanguage.Japanese]: \"() = () %%query\",\n  },\n  [BlockKind.GreaterThan]: {\n    [UiLanguage.English]: \"() > () %%query\",\n    [UiLanguage.Japanese]: \"() > () %%query\",\n  },\n};\n\nconst BLOCK_DEFS: ReadonlyRecord<UiLanguage, BlockDefs<BlockKind>> = {\n  [UiLanguage.English]: mapBlockKindRecord(BLOCK_DEF_STRINGS, (dict) =>\n    parseBlockDefString(dict[UiLanguage.English])\n  ),\n  [UiLanguage.Japanese]: mapBlockKindRecord(BLOCK_DEF_STRINGS, (dict) =>\n    parseBlockDefString(dict[UiLanguage.Japanese])\n  ),\n};\n\nconst DOM_ELEMENT_IDS = {\n  ghostSvg: \"GhostSvg\",\n  ghostCanvas: \"GhostCanvas\",\n  frontCanvas: \"FrontCanvas\",\n  blockLiteralEditor: \"BlockLiteralEditor\",\n  blockLiteralEditorForm: \"BlockLiteralEditor__Form\",\n  blockLiteralEditorInput: \"BlockLiteralEditor__Input\",\n  blockLiteralEditorCloseButton: \"BlockLiteralEditor__Button\",\n} as const;\n\nconst SCREEN_TRANSITION_ANIMATION_SECONDS = 0.1;\nconst CREDIT_SCREEN_SCROLL_SPEED_IN_SCREEN_HEIGHT_PER_SECOND = 0.1;\n\nconst REAL_VSO: VectorSpaceOperations<number> = {\n  add: (u, v) => u + v,\n  scale: (u, a) => u * a,\n};\n\nconst VEC2_VSO: VectorSpaceOperations<Vec2> = {\n  add: addVec,\n  scale: scaleVec,\n};\n\nconst COLOR32_VSO: VectorSpaceOperations<Color32> = {\n  add: (u, v) => ({\n    r: u.r + v.r,\n    g: u.g + v.g,\n    b: u.b + v.b,\n    a: u.a + v.a,\n  }),\n  scale: (u, a) => ({\n    r: u.r * a,\n    g: u.g * a,\n    b: u.b * a,\n    a: u.a * a,\n  }),\n};\n\nconst LOCAL_STORAGE_STATE_KEY = \"com.zaqlo.castlecoders.state\";\n\nconst DEFAULT_LANGUAGE = UiLanguage.English;\n\nconst LEVEL_1_TUTORIAL_DRAG_CYCLE = {\n  totalDurationInSeconds: 3,\n  movingPhaseDurationInSeconds: 0.5,\n  insertionMarkTimeInSeconds: 0.4,\n  blockReleaseTimeInSeconds: 1.5,\n  firstDragEnd: {\n    x: 280,\n    y: 90,\n  },\n  secondDragEnd: {\n    x: 280,\n    y: 140,\n  },\n} as const;\n\nconst LEVEL_9_TUTORIAL_ANIMATION_CYCLE = {\n  paletteScroll: {\n    totalDurationInSeconds: 3,\n    fingerDownTimeInSeconds: 0,\n    dragStartTimeInSeconds: 0.5,\n    dragEndTimeInSeconds: 1,\n    fingerUpTimeInSeconds: 2,\n  },\n  paletteToCanvasDrag: {\n    totalDurationInSeconds: 3,\n    movingPhaseDurationInSeconds: 0.5,\n    healthBlockIntoLessThanBlockInsertionMarkTimeInSeconds: 0.4,\n    blockReleaseTimeInSeconds: 1.5,\n    lessThanBlockDragEnd: {\n      x: SIZING.paletteWidth + 80,\n      y: 200,\n    },\n  },\n  literalTap: {\n    fingerFlashPeriod: 1,\n  },\n} as const;\n\nconst ATTACK_DURATION_IN_SECONDS = 0.3;\nconst HEAL_ANIMATION_DURATION_IN_SECONDS = 0.3;\nconst MELEE_ATTACKERS: readonly SquareKind[] = [\n  SquareKind.Hero,\n  SquareKind.Goblin,\n  SquareKind.GiantGoblin,\n];\nconst MELEE_DAMAGE_OVERLAY_FLASH_START_FACTOR = 0.3;\nconst MELEE_DAMAGE_OVERLAY_FLASH_END_FACTOR = 0.8;\nconst FIREBALL_DAMAGE_OVERLAY_FLASH_START_FACTOR = 0.5;\nconst FIREBALL_DAMAGE_OVERLAY_FLASH_END_FACTOR = 0.5 + (2 * (0.8 - 0.3)) / 5;\n\nconst X_IN_FRONT_DROPDOWN_VALUES_TO_EXPECTED_SQUARE_KIND_DICT: ReadonlyRecord<\n  string,\n  undefined | SquareKind\n> = Object.fromEntries(\n  Object.entries(X_IN_FRONT_DROPDOWN_VALUES[UiLanguage.English])\n    .concat(Object.entries(X_IN_FRONT_DROPDOWN_VALUES[UiLanguage.Japanese]))\n    .map(([squareKind, string]) => [string, squareKind])\n) as ReadonlyRecord<string, undefined | SquareKind>;\n\nconst svgTextDimensionCache: Map<string, Dimensions> = new Map();\n\nconst SVG_TEXT_DIMENSION_CACHE_KEY_SEPARATOR = \"<<<<SEPARATOR>>>>\";\n\nconst UI_FONT_SIZE = {\n  startButton: {\n    [UiLanguage.English]: 120,\n    [UiLanguage.Japanese]: 94,\n  },\n\n  settingsButton: {\n    [UiLanguage.English]: 72,\n    [UiLanguage.Japanese]: 94,\n  },\n} as const;\n\nconst ONE_SECOND_AFTER_FILE_LOAD: Promise<void> = new Promise((resolve) =>\n  setTimeout(resolve, 1000)\n);\n\nlet hasPerformedPreflightSanityCheck = false;\n\ninterface Props {}\n\ninterface State {\n  readonly appWidth: number;\n  readonly appHeight: number;\n  readonly orientationType: OrientationType;\n  readonly language: UiLanguage;\n  readonly screen: ScreenState;\n\n  /**\n   * If a `touchstart` fires on a button, this will contain that button.\n   * However there are multiple touches, then this should be set to `null`.  */\n  readonly onlyTouchStartButton: null | ButtonKind;\n  readonly onlyTouchDepressedButton: null | ButtonKind;\n\n  /** If there is no mouse, this is `{ x: -1, y: -1 }`. */\n  readonly mouseClientPosition: Vec2;\n\n  readonly safeAreaInsets: SafeAreaInsets;\n}\n\ninterface ScreenState {\n  readonly blockEditor: BlockEditorState<BlockKind>;\n  readonly level: Level;\n\n  readonly animationKind: AnimationKind;\n  readonly animationStartTime: Timestamp;\n  readonly currentTimestamp: Timestamp;\n\n  /**\n   * This property helps us calculate`battleElapsedSeconds`.\n   *\n   * * If `animationKind === AnimationKind.Play`,\n   *   then `battleElapsedSeconds = elapsedSeconds + battleAnimationOffsetSeconds`.\n   *\n   * * If `animationKind === AnimationKind.Pause`,\n   *   then `battleElapsedSeconds = battleAnimationOffsetSeconds`.\n   */\n  readonly battleAnimationOffsetSeconds: number;\n\n  /**\n   * If `animationKind !== AnimationKind.NextLevel`,\n   * then this can be any value (it doesn't matter).\n   */\n  readonly prevLevelBlockEditor: BlockEditorState<BlockKind>;\n\n  /**\n   * If the user never updated the block editor during the tutorial,\n   * then this can be any value (it doesn't matter).\n   */\n  readonly mostRecentTutorialBlockEditorUpdateTime: Timestamp;\n}\n\ninterface Timestamp {\n  readonly millisecondsSinceEpoch: number;\n}\n\nexport interface Dimensions {\n  readonly width: number;\n  readonly height: number;\n}\n\ntype BattleEvent =\n  | EvalBlockEvent\n  | AdvanceEvent\n  | AttackEvent\n  | HealEvent\n  | RetreatEvent\n  | SummonEvent\n  | FailHeroActionEvent\n  | ClimbStairsEvent\n  | FailLevelEvent;\n\ninterface EvalBlockEvent {\n  readonly kind: BattleEventKind.EvalBlock;\n  readonly block: Block<BlockKind>;\n  readonly source: NodeAddress;\n}\n\ninterface AdvanceEvent {\n  readonly kind: BattleEventKind.Advance;\n  readonly source: null | NodeAddress;\n}\n\ninterface AttackEvent {\n  readonly kind: BattleEventKind.Attack;\n  readonly attackerIndex: number;\n  readonly targetIndex: number;\n  readonly damage: number;\n  readonly source: null | NodeAddress;\n}\n\ninterface HealEvent {\n  readonly kind: BattleEventKind.Heal;\n  readonly targetIndex: number;\n  readonly healAmount: number;\n  readonly source: null | NodeAddress;\n}\n\ninterface RetreatEvent {\n  readonly kind: BattleEventKind.Retreat;\n  readonly source: null | NodeAddress;\n}\n\ninterface SummonEvent {\n  readonly kind: BattleEventKind.Summon;\n  readonly summonee: SquareState;\n  readonly summonerIndex: number;\n  readonly summonerHealthCost: number;\n  readonly targetIndex: number;\n  readonly source: null | NodeAddress;\n}\n\ninterface FailHeroActionEvent {\n  readonly kind: BattleEventKind.FailHeroAction;\n  readonly failedActionKind: HeroActionKind;\n  readonly source: null | NodeAddress;\n}\n\ninterface ClimbStairsEvent {\n  readonly kind: BattleEventKind.ClimbStairs;\n}\n\ninterface FailLevelEvent {\n  readonly kind: BattleEventKind.FailLevel;\n}\n\ninterface LevelState {\n  readonly squares: readonly SquareState[];\n}\n\ntype SquareState =\n  | EmptySquareState\n  | HeroSquareState\n  | GoblinSquareState\n  | GiantGoblinSquareState\n  | WitchSquareState;\n\ninterface EmptySquareState {\n  readonly kind: SquareKind.Empty;\n}\n\ninterface HeroSquareState {\n  readonly kind: SquareKind.Hero;\n  readonly health: number;\n}\n\ninterface GoblinSquareState {\n  readonly kind: SquareKind.Goblin;\n  readonly health: number;\n}\n\ninterface GiantGoblinSquareState {\n  readonly kind: SquareKind.GiantGoblin;\n  readonly health: number;\n}\n\ninterface WitchSquareState {\n  readonly kind: SquareKind.Witch;\n  readonly health: number;\n}\n\ninterface BattleAnimationData {\n  readonly levelState: LevelState;\n  readonly characterDisplacements: readonly Vec2[];\n  readonly advanceHealthChanges: readonly number[];\n  readonly battleStatus: BattleStatus;\n  readonly displayHeroHealingAnimation: boolean;\n  readonly errorAlert: null | ErrorAlert;\n  /** If there is no attacking witch, then this is `0`. */\n  readonly witchAnimationFrame: number;\n  readonly particles: readonly AnimationParticle[];\n  readonly executedBlockAddress: null | NodeAddress;\n  readonly advanceSummon: null | AdvanceSummon;\n  readonly didHeroDefeatAllEnemiesButForgetToMoveToStairs: boolean;\n  readonly didHeroSurviveLevelButFailToReachStairs: boolean;\n  readonly damageOverlayAlphas: readonly number[];\n  readonly squareOccupantAlphas: readonly number[];\n}\n\ninterface AnimationParticle {\n  readonly position: Vec2;\n  readonly color: Color32;\n  readonly radius: number;\n}\n\ninterface ErrorAlert {\n  readonly message: UiTextKind;\n  readonly index: number;\n  readonly opacityFactor: number;\n}\n\ninterface AdvanceSummon {\n  readonly summoneeIndex: number;\n  readonly summonee: SquareState;\n}\n\ntype SimpleFunction<T> = StepwiseLinearFunction<T>;\n\ninterface StepwiseLinearFunction<T> {\n  readonly kind: \"StepwiseLinearFunction\";\n  readonly points: readonly { readonly x: number; readonly y: T }[];\n}\n\ninterface VectorSpaceOperations<T> {\n  readonly add: (u: T, v: T) => T;\n  readonly scale: (u: T, a: number) => T;\n}\n\ninterface DualRenderOutput {\n  readonly reactElement: React.ReactElement;\n  readonly canvasElement: CanvasElement;\n}\n\ninterface CanvasRect {\n  readonly x: number;\n  readonly y: number;\n  readonly w: number;\n  readonly h: number;\n  readonly rx?: number;\n  readonly ry?: number;\n  readonly stroke?: Color32;\n  readonly strokeWidth?: number;\n  readonly fill?: Color32;\n}\n\ninterface CanvasCircle {\n  readonly cx: number;\n  readonly cy: number;\n  readonly r: number;\n  readonly stroke?: Color32;\n  readonly strokeWidth?: number;\n  readonly fill?: Color32;\n}\n\ninterface ButtonClickDetectorResources {\n  readonly tempCanvasCtx: CanvasRenderingContext2D;\n  readonly measureCanvasText: ({\n    text,\n    ...font\n  }: { readonly text: string } & CanvasTextFont) => Dimensions;\n  readonly getCurrentLevelBattleEvents: () => readonly BattleEvent[];\n}\n\ninterface SavableState {\n  readonly language: UiLanguage;\n  readonly blockEditor: BlockEditorState<BlockKind>;\n  readonly level: Level;\n}\n\ninterface BattleEventsCache {\n  readonly timeCached: Timestamp;\n  readonly events: readonly BattleEvent[];\n}\n\ninterface MutableBlockExecutionContext {\n  gas: number;\n  stack: AddressedCommand[];\n  levelState: LevelState;\n  events: BattleEvent[];\n}\n\ninterface ImmutableBlockExecutionContext {\n  readonly gas: number;\n  readonly stack: readonly AddressedCommand[];\n  readonly levelState: LevelState;\n  readonly events: readonly BattleEvent[];\n}\n\ninterface AddressedCommand {\n  readonly block: Block<BlockKind>;\n  readonly blockSource: NodeAddress;\n}\n\ninterface InstructionsBoxRenderInfo {\n  readonly puzzleButtonIconDimensions: Dimensions;\n  readonly puzzleButtonIconHorizontalMargin: number;\n  readonly minLineHeight: number;\n  readonly font: CanvasTextFont;\n  readonly textColor: Color32;\n}\n\nexport class App extends React.Component<Props, State> {\n  readonly mainBlockEditorComponentInstanceUid: string;\n  readonly tutorialBlockEditorComponentInstanceUid: string;\n  readonly minimapBlockEditorComponentInstanceUid: string;\n  readonly ghostSvg: SVGElement;\n  readonly tempCanvasCtx: CanvasRenderingContext2D;\n  readonly frontCanvasCtx: CanvasRenderingContext2D;\n  readonly blockLiteralEditor: HTMLDivElement;\n  readonly blockLiteralEditorForm: HTMLFormElement;\n  readonly blockLiteralEditorInput: HTMLInputElement;\n  readonly blockLiteralEditorCloseButton: HTMLButtonElement;\n  readonly initialSavedStateOrDefault: Promise<SavableState>;\n\n  readonly buttonPopSound: Howl;\n\n  lastBlockEditorSetStateCallTime: Timestamp;\n\n  /**\n   * If the block editor has never called setState,\n   * then this can be any value as long as\n   * `currentLevelBattleEventsCache.timeCached` is strictly earlier\n   * than `lastBlockEditorSetStateCallTime`.\n   */\n  currentLevelBattleEventsCache: BattleEventsCache;\n\n  /**\n   * If the block editor has never called setState,\n   * then this can be any value as long as\n   * `prevLevelBattleEventsCache.timeCached` is strictly earlier\n   * than `lastBlockEditorSetStateCallTime`.\n   */\n  prevLevelBattleEventsCache: BattleEventsCache;\n\n  __debug__pause: boolean;\n\n  constructor(props: Props) {\n    super(props);\n\n    performPreflightSanityCheckIfNotAlreadyPerformed();\n\n    this.mainBlockEditorComponentInstanceUid =\n      BlockEditor.generateComponentInstanceUid();\n\n    this.tutorialBlockEditorComponentInstanceUid =\n      BlockEditor.generateComponentInstanceUid();\n\n    this.minimapBlockEditorComponentInstanceUid =\n      BlockEditor.generateComponentInstanceUid();\n\n    this.ghostSvg = document.getElementById(\n      DOM_ELEMENT_IDS.ghostSvg\n    ) as unknown as SVGElement;\n\n    const tempCanvas = document.createElement(\"canvas\");\n    this.tempCanvasCtx = tempCanvas.getContext(\"2d\", {\n      willReadFrequently: true,\n    })!;\n\n    const frontCanvas = document.getElementById(\n      DOM_ELEMENT_IDS.frontCanvas\n    ) as HTMLCanvasElement;\n    this.frontCanvasCtx = frontCanvas.getContext(\"2d\")!;\n\n    this.blockLiteralEditor = document.getElementById(\n      DOM_ELEMENT_IDS.blockLiteralEditor\n    ) as HTMLDivElement;\n    this.blockLiteralEditorForm = document.getElementById(\n      DOM_ELEMENT_IDS.blockLiteralEditorForm\n    ) as HTMLFormElement;\n    this.blockLiteralEditorInput = document.getElementById(\n      DOM_ELEMENT_IDS.blockLiteralEditorInput\n    ) as HTMLInputElement;\n    this.blockLiteralEditorCloseButton = document.getElementById(\n      DOM_ELEMENT_IDS.blockLiteralEditorCloseButton\n    ) as HTMLButtonElement;\n\n    this.initialSavedStateOrDefault = getSavedStateOrDefault();\n\n    this.buttonPopSound = new Howl({\n      src: [audioUrls.button_pop],\n    });\n\n    this.lastBlockEditorSetStateCallTime = getCurrentTimestamp();\n    this.currentLevelBattleEventsCache = {\n      timeCached: { millisecondsSinceEpoch: 0 },\n      events: [],\n    };\n    this.prevLevelBattleEventsCache = {\n      timeCached: { millisecondsSinceEpoch: 0 },\n      events: [],\n    };\n\n    this.__debug__pause = false;\n\n    this.bindMethods();\n\n    // As a placeholder, we initialize this.state\n    // with the data in localStorage,\n    // since we can fetch it synchronously.\n    // Later, we fetch the data asynchronously from a more reliable storage source,\n    // and then update the state once that Promise resolves.\n    const { language, blockEditor, level } =\n      getStateSavedInLocalStorageOrDefault();\n\n    this.state = {\n      appWidth: window.innerWidth,\n      appHeight: window.innerHeight,\n      orientationType: window.screen.orientation.type,\n      language,\n      screen: {\n        blockEditor,\n        level,\n        animationKind: AnimationKind.Loading,\n        animationStartTime: getCurrentTimestamp(),\n        currentTimestamp: getCurrentTimestamp(),\n        battleAnimationOffsetSeconds: 0,\n        prevLevelBlockEditor: getDummyBlockEditorState(),\n        mostRecentTutorialBlockEditorUpdateTime: getCurrentTimestamp(),\n      },\n      onlyTouchStartButton: null,\n      onlyTouchDepressedButton: null,\n      mouseClientPosition: { x: -1, y: -1 },\n      safeAreaInsets: {\n        insets: {\n          left: 0,\n          right: 0,\n          top: 0,\n          bottom: 0,\n        },\n      },\n    };\n  }\n\n  bindMethods(): void {\n    this.onResize = this.onResize.bind(this);\n    this.onWindowTouchStart = this.onWindowTouchStart.bind(this);\n    this.onWindowMouseDown = this.onWindowMouseDown.bind(this);\n    this.onWindowTouchMove = this.onWindowTouchMove.bind(this);\n    this.onWindowMouseMove = this.onWindowMouseMove.bind(this);\n    this.onWindowTouchEnd = this.onWindowTouchEnd.bind(this);\n    this.onWindowMouseUp = this.onWindowMouseUp.bind(this);\n    this.onEditBlocksButtonClick = this.onEditBlocksButtonClick.bind(this);\n    this.onViewMapButtonClick = this.onViewMapButtonClick.bind(this);\n    this.onResumeBattleButtonClick = this.onResumeBattleButtonClick.bind(this);\n    this.onPauseBattleButtonClick = this.onPauseBattleButtonClick.bind(this);\n    this.onNextLevelButtonClick = this.onNextLevelButtonClick.bind(this);\n    this.onLiteralEditorFormSubmit = this.onLiteralEditorFormSubmit.bind(this);\n    this.onLiteralEditorInputChange =\n      this.onLiteralEditorInputChange.bind(this);\n    this.onCloseLiteralEditorButtonClick =\n      this.onCloseLiteralEditorButtonClick.bind(this);\n    this.onReturnHomeButtonClick = this.onReturnHomeButtonClick.bind(this);\n\n    this.measureCanvasText = this.measureCanvasText.bind(this);\n    this.measureSvgText = this.measureSvgText.bind(this);\n    this.setBlockEditorState = this.setBlockEditorState.bind(this);\n    this.updateCanvas = this.updateCanvas.bind(this);\n    this.getCurrentLevelBattleEvents =\n      this.getCurrentLevelBattleEvents.bind(this);\n    this.startLoadingBarProgressAnimation =\n      this.startLoadingBarProgressAnimation.bind(this);\n  }\n\n  componentDidMount(): void {\n    window.addEventListener(\"resize\", this.onResize);\n    window.addEventListener(\"orientationchange\", this.onResize);\n    addSafeAreaChangeListener(this.onResize);\n    window.addEventListener(\"touchstart\", this.onWindowTouchStart, {\n      passive: false,\n    });\n    window.addEventListener(\"mousedown\", this.onWindowMouseDown);\n    window.addEventListener(\"touchmove\", this.onWindowTouchMove);\n    window.addEventListener(\"mousemove\", this.onWindowMouseMove);\n    window.addEventListener(\"touchend\", this.onWindowTouchEnd);\n    window.addEventListener(\"mouseup\", this.onWindowMouseUp);\n\n    this.blockLiteralEditor.style.removeProperty(\"display\");\n\n    this.blockLiteralEditorForm.addEventListener(\n      \"submit\",\n      this.onLiteralEditorFormSubmit\n    );\n    this.blockLiteralEditorInput.addEventListener(\n      \"input\",\n      this.onLiteralEditorInputChange\n    );\n    this.blockLiteralEditorCloseButton.addEventListener(\n      \"touchend\",\n      this.onCloseLiteralEditorButtonClick\n    );\n    this.blockLiteralEditorCloseButton.addEventListener(\n      \"mouseup\",\n      this.onCloseLiteralEditorButtonClick\n    );\n\n    Promise.all([\n      this.initialSavedStateOrDefault,\n      getSafeAreaInsets(),\n      images.extended_home_background.ready,\n      images.buttons.home.start.ready,\n      images.buttons.home.settings.ready,\n      fonts.checkpoint,\n    ])\n      .then(([initialSavedStateOrDefault]) => {\n        this.onResize();\n\n        const { language, blockEditor, level } = initialSavedStateOrDefault;\n        this.setState(\n          (prevState) => ({\n            ...prevState,\n            language,\n            screen: {\n              ...prevState.screen,\n              blockEditor,\n              level,\n            },\n          }),\n          () => {\n            ONE_SECOND_AFTER_FILE_LOAD.then(() => {\n              SplashScreen.hide();\n              this.startLoadingBarProgressAnimation();\n            });\n          }\n        );\n      })\n      .catch((error) => {\n        console.error(\"Error loading assets: \", error);\n      });\n\n    (window as any).app = this;\n    (window as any).skipToLevel = (level: number): void => {\n      if (!(level === Math.floor(level) && 1 <= level && level <= LAST_LEVEL)) {\n        throw new Error(\n          \"Invalid level: \" +\n            JSON.stringify(level) +\n            \". Max level is \" +\n            LAST_LEVEL\n        );\n      }\n\n      this.setState(\n        {\n          screen: {\n            ...this.state.screen,\n            blockEditor: getStartingBlockEditorStateForLevel(level),\n            level,\n          },\n        },\n        () => window.location.reload()\n      );\n    };\n  }\n\n  startLoadingBarProgressAnimation(): void {\n    const currentTimestamp = getCurrentTimestamp();\n    this.setState(\n      (prevState) => ({\n        ...prevState,\n        screen: {\n          ...prevState.screen,\n          animationKind: AnimationKind.Loading,\n          animationStartTime: currentTimestamp,\n          currentTimestamp,\n        },\n      }),\n      this.getLoadingScreenAnimationUpdater(currentTimestamp)\n    );\n  }\n\n  componentWillUnmount(): void {\n    window.removeEventListener(\"resize\", this.onResize);\n    window.removeEventListener(\"orientationchange\", this.onResize);\n    removeSafeAreaChangeListener(this.onResize);\n    window.removeEventListener(\"touchstart\", this.onWindowTouchStart);\n    window.removeEventListener(\"touchmove\", this.onWindowTouchMove);\n    window.removeEventListener(\"touchend\", this.onWindowTouchEnd);\n\n    this.blockLiteralEditorForm.removeEventListener(\n      \"submit\",\n      this.onLiteralEditorFormSubmit\n    );\n    this.blockLiteralEditorInput.removeEventListener(\n      \"input\",\n      this.onLiteralEditorInputChange\n    );\n    this.blockLiteralEditorCloseButton.removeEventListener(\n      \"touchend\",\n      this.onCloseLiteralEditorButtonClick\n    );\n    this.blockLiteralEditorCloseButton.removeEventListener(\n      \"mouseup\",\n      this.onCloseLiteralEditorButtonClick\n    );\n  }\n\n  override setState<K extends keyof State>(\n    state:\n      | ((\n          prevState: Readonly<State>,\n          props: Readonly<Props>\n        ) => Pick<State, K> | State | null)\n      | (Pick<State, K> | State | null),\n    callback?: () => void\n  ): void;\n  override setState<K extends keyof State>(\n    state:\n      | ((\n          prevState: Readonly<State>,\n          props: Readonly<Props>\n        ) => Pick<State, K> | State | null)\n      | (Pick<State, K> | State | null),\n    callback?: () => void\n  ): ReturnType<App[\"setState\"]> {\n    if (this.__debug__pause) {\n      return;\n    }\n\n    return super.setState(state, (): void => {\n      this.updateCanvas();\n\n      saveState(this.state, this.getCurrentLevelBattleEvents);\n\n      const isMouseOverButton =\n        getButtonAt(\n          this.state.mouseClientPosition,\n          this.state,\n          this.getButtonClickDetectorResources()\n        ) !== null;\n      const cursor = isMouseOverButton ? \"pointer\" : \"default\";\n      const root = document.getElementById(\"Root\");\n      if (root !== null) {\n        root.style.cursor = cursor;\n      }\n\n      if (typeof callback === \"function\") {\n        callback();\n      }\n    });\n  }\n\n  render(): React.ReactElement {\n    this.updateBlockLiteralEditor();\n    return this.dualRender().reactElement;\n  }\n\n  updateBlockLiteralEditor(): void {\n    const { literalEditor } = this.state.screen.blockEditor;\n    const shouldShowEditor =\n      literalEditor !== null &&\n      this.state.screen.animationKind === AnimationKind.Edit;\n    this.blockLiteralEditor.classList.toggle(\"Hidden\", !shouldShowEditor);\n\n    const { language } = this.state;\n    this.blockLiteralEditorCloseButton.innerText = getUiText(\n      language,\n      UiTextKind.CloseLiteralEditor\n    );\n\n    if (literalEditor !== null) {\n      this.blockLiteralEditorInput.value = literalEditor.literalSource;\n      this.blockLiteralEditorInput.focus();\n    }\n  }\n\n  dualRender(): DualRenderOutput {\n    switch (this.state.orientationType) {\n      case \"landscape-primary\":\n      case \"landscape-secondary\":\n        return this.dualRenderAssumingLandscapeOrientation();\n      case \"portrait-secondary\":\n      case \"portrait-primary\":\n        return this.dualRenderAssumingPortraitOrientation();\n      default:\n        console.warn(\n          \"The orientation API isn't supported in this browser. Falling back to landscape mode.\"\n        );\n        return this.dualRenderAssumingLandscapeOrientation();\n    }\n  }\n\n  dualRenderAssumingLandscapeOrientation(): DualRenderOutput {\n    const { screen } = this.state;\n    switch (screen.animationKind) {\n      case AnimationKind.Loading:\n        return this.dualRenderLoadingScreen();\n      case AnimationKind.StaticHome:\n        return this.dualRenderHomeScreen();\n      case AnimationKind.Edit:\n        return this.dualRenderEditScreen();\n      case AnimationKind.StaticSettings:\n        return this.dualRenderSettingsScreen();\n      case AnimationKind.StaticConfirmResetToLevelOne:\n        return this.dualRenderConfirmResetToLevelOneScreen();\n      case AnimationKind.HomeToView:\n        return this.dualRenderHomeToViewAnimation();\n      case AnimationKind.EditToView:\n        return this.dualRenderEditToViewAnimation();\n      case AnimationKind.ViewToEdit:\n        return this.dualRenderViewToEditAnimation();\n      case AnimationKind.ViewToHome:\n        return this.dualRenderViewToHomeAnimation();\n      case AnimationKind.EditToHome:\n        return this.dualRenderEditToHomeAnimation();\n      case AnimationKind.PlayBattle:\n      case AnimationKind.PauseBattle:\n        return this.dualRenderBattleScreen();\n      case AnimationKind.NextLevel:\n        return this.dualRenderNextLevelAnimation();\n      case AnimationKind.OpenSettings:\n        return this.dualRenderOpenSettingsAnimation();\n      case AnimationKind.CloseSettings:\n        return this.dualRenderCloseSettingsAnimation();\n      case AnimationKind.Credits:\n        return this.dualRenderCreditsAnimation();\n      default:\n        typecheckedAssertNever(screen.animationKind);\n    }\n  }\n\n  dualRenderLoadingScreen(): DualRenderOutput {\n    const reactElement = (\n      <div className=\"App\">\n        <div className=\"AppMain\">\n          <svg\n            className=\"MainSvg\"\n            width={this.state.appWidth}\n            height={this.state.appHeight}\n          ></svg>\n        </div>\n      </div>\n    );\n    const canvasElement = this.renderLoadingScreenCanvasElement();\n    return { reactElement, canvasElement };\n  }\n\n  renderLoadingScreenCanvasElement(): CanvasElement {\n    const minimumHorizontalScale =\n      this.state.appWidth / NONEXTENDED_HOME_BACKGROUND_DIMENSIONS.width;\n    const minimumVerticalScale =\n      this.state.appHeight / NONEXTENDED_HOME_BACKGROUND_DIMENSIONS.height;\n    const scale = Math.min(minimumHorizontalScale, minimumVerticalScale);\n\n    const loadCompletionFactor = this.getLoadCompletionFactor();\n\n    const { language } = this.state;\n\n    const nonextendedHomeBackgroundBBox: Rectangle = ((): Rectangle => {\n      const scaledWidth = NONEXTENDED_HOME_BACKGROUND_DIMENSIONS.width * scale;\n      const scaledHeight =\n        NONEXTENDED_HOME_BACKGROUND_DIMENSIONS.height * scale;\n      const x = (this.state.appWidth - scaledWidth) / 2;\n      const y = (this.state.appHeight - scaledHeight) / 1;\n      return {\n        topLeft: { x, y },\n        dimensions: { width: scaledWidth, height: scaledHeight },\n      };\n    })();\n\n    const castleCodersTextBBox: Rectangle = ((): Rectangle => {\n      const topLeft = addVec(\n        nonextendedHomeBackgroundBBox.topLeft,\n        scaleVec(\n          convertRectangleFromExtendedHomeCoordsToNonextendedHomeCoords(\n            LOADING_SCREEN_CASTLE_CODERS_TEXT_BBOX_IN_EXTENDED_HOME_COORDS\n          ).topLeft,\n          scale\n        )\n      );\n      const scaledWidth =\n        convertRectangleFromExtendedHomeCoordsToNonextendedHomeCoords(\n          LOADING_SCREEN_CASTLE_CODERS_TEXT_BBOX_IN_EXTENDED_HOME_COORDS\n        ).dimensions.width * scale;\n      const scaledHeight =\n        convertRectangleFromExtendedHomeCoordsToNonextendedHomeCoords(\n          LOADING_SCREEN_CASTLE_CODERS_TEXT_BBOX_IN_EXTENDED_HOME_COORDS\n        ).dimensions.height * scale;\n      return {\n        topLeft,\n        dimensions: { width: scaledWidth, height: scaledHeight },\n      };\n    })();\n    const SCALED_CASTLE_CODERS_TEXT_BOTTOM_MARGIN = scale * 500;\n\n    const loadingText: CanvasText_ = {\n      kind: CanvasElementKind.Text,\n      text: getUiText(language, UiTextKind.LoadingDotDotDot),\n      x:\n        castleCodersTextBBox.topLeft.x +\n        0.5 * castleCodersTextBBox.dimensions.width,\n      y:\n        castleCodersTextBBox.topLeft.y +\n        castleCodersTextBBox.dimensions.height +\n        SCALED_CASTLE_CODERS_TEXT_BOTTOM_MARGIN,\n      fontFamily: UI_TEXT_FONT_FAMILY,\n      fontSize: scale * 56,\n      fill: COLOR_THEME.textBrown,\n      textAlign: \"center\",\n      textBaseline: \"top\",\n    };\n    const loadingTextDimensions = this.measureCanvasText(loadingText);\n    const loadingTextBottom = loadingText.y + loadingTextDimensions.height;\n    const SCALED_LOADING_TEXT_BOTTOM_MARGIN = scale * 60;\n\n    const SCALED_LOADING_BAR_DEPTH_ILLUSION_OFFSET = scale * 10;\n\n    return {\n      kind: CanvasElementKind.Group,\n      children: [\n        this.renderHomeScreenBackgroundCanvasElement(),\n\n        {\n          kind: CanvasElementKind.Image,\n          source: images.loading_screen_castle_coders_text,\n          dx: castleCodersTextBBox.topLeft.x,\n          dy: castleCodersTextBBox.topLeft.y,\n          dw: castleCodersTextBBox.dimensions.width,\n          dh: castleCodersTextBBox.dimensions.height,\n        },\n\n        loadingText,\n\n        renderRect({\n          x: castleCodersTextBBox.topLeft.x,\n          y: loadingTextBottom + SCALED_LOADING_TEXT_BOTTOM_MARGIN,\n          w: castleCodersTextBBox.dimensions.width,\n          h: 40 * scale,\n          rx: 20 * scale,\n          ry: 20 * scale,\n          fill: parseColorHexString(\"#888888\"),\n        }),\n\n        renderRect({\n          x: castleCodersTextBBox.topLeft.x,\n          y: loadingTextBottom + SCALED_LOADING_TEXT_BOTTOM_MARGIN,\n          w: castleCodersTextBBox.dimensions.width * loadCompletionFactor,\n          h: 40 * scale,\n          rx: 20 * scale,\n          ry: 20 * scale,\n          fill: COLOR_THEME.purple.secondary,\n        }),\n\n        renderRect({\n          x: castleCodersTextBBox.topLeft.x,\n          y:\n            loadingTextBottom +\n            SCALED_LOADING_TEXT_BOTTOM_MARGIN +\n            SCALED_LOADING_BAR_DEPTH_ILLUSION_OFFSET,\n          w: castleCodersTextBBox.dimensions.width,\n          h: 40 * scale,\n          rx: 20 * scale,\n          ry: 20 * scale,\n          fill: parseColorHexString(\"#A6A6A6\"),\n        }),\n\n        renderRect({\n          x: castleCodersTextBBox.topLeft.x,\n          y:\n            loadingTextBottom +\n            SCALED_LOADING_TEXT_BOTTOM_MARGIN +\n            SCALED_LOADING_BAR_DEPTH_ILLUSION_OFFSET,\n          w: castleCodersTextBBox.dimensions.width * loadCompletionFactor,\n          h: 40 * scale,\n          rx: 20 * scale,\n          ry: 20 * scale,\n          fill: COLOR_THEME.purple.primary,\n        }),\n      ],\n    };\n  }\n\n  dualRenderHomeScreen(): DualRenderOutput {\n    const reactElement = (\n      <div className=\"App\">\n        <div className=\"AppMain\">\n          <svg\n            className=\"MainSvg\"\n            width={this.state.appWidth}\n            height={this.state.appHeight}\n          ></svg>\n        </div>\n      </div>\n    );\n    const canvasElement = this.renderHomeScreenCanvasElement();\n    return { reactElement, canvasElement };\n  }\n\n  renderHomeScreenCanvasElement(): CanvasElement {\n    return {\n      kind: CanvasElementKind.Group,\n      children: [\n        this.renderHomeScreenBackgroundCanvasElement(),\n        this.renderHomeScreenButtonsCanvasElement(),\n      ],\n    };\n  }\n\n  renderHomeScreenBackgroundCanvasElement(): CanvasElement {\n    const minimumHorizontalScale =\n      this.state.appWidth / NONEXTENDED_HOME_BACKGROUND_DIMENSIONS.width;\n    const minimumVerticalScale =\n      this.state.appHeight / NONEXTENDED_HOME_BACKGROUND_DIMENSIONS.height;\n    const scale = Math.min(minimumHorizontalScale, minimumVerticalScale);\n\n    const extendedHomeBackgroundBBox: Rectangle = ((): Rectangle => {\n      const scaledWidth =\n        NONEXTENDED_HOME_BACKGROUND_DIMENSIONS.width * 3 * scale;\n      const scaledHeight =\n        NONEXTENDED_HOME_BACKGROUND_DIMENSIONS.height * 2 * scale;\n      const x = (this.state.appWidth - scaledWidth) / 2;\n      const y = (this.state.appHeight - scaledHeight) / 1;\n      return {\n        topLeft: { x, y },\n        dimensions: { width: scaledWidth, height: scaledHeight },\n      };\n    })();\n\n    return {\n      kind: CanvasElementKind.Image,\n      source: images.extended_home_background,\n      dx: extendedHomeBackgroundBBox.topLeft.x,\n      dy: extendedHomeBackgroundBBox.topLeft.y,\n      dw: extendedHomeBackgroundBBox.dimensions.width,\n      dh: extendedHomeBackgroundBBox.dimensions.height,\n    };\n  }\n\n  renderHomeScreenButtonsCanvasElement(): CanvasElement {\n    const minimumHorizontalScale =\n      this.state.appWidth / NONEXTENDED_HOME_BACKGROUND_DIMENSIONS.width;\n    const minimumVerticalScale =\n      this.state.appHeight / NONEXTENDED_HOME_BACKGROUND_DIMENSIONS.height;\n    const scale = Math.min(minimumHorizontalScale, minimumVerticalScale);\n    const { onlyTouchDepressedButton, screen, language } = this.state;\n\n    const nonextendedHomeBackgroundBBox: Rectangle = ((): Rectangle => {\n      const scaledWidth = NONEXTENDED_HOME_BACKGROUND_DIMENSIONS.width * scale;\n      const scaledHeight =\n        NONEXTENDED_HOME_BACKGROUND_DIMENSIONS.height * scale;\n      const x = (this.state.appWidth - scaledWidth) / 2;\n      const y = (this.state.appHeight - scaledHeight) / 1;\n      return {\n        topLeft: { x, y },\n        dimensions: { width: scaledWidth, height: scaledHeight },\n      };\n    })();\n\n    const nondepressedStartButtonBBox: Rectangle = ((): Rectangle => {\n      const topLeft = addVec(\n        nonextendedHomeBackgroundBBox.topLeft,\n        scaleVec(START_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.topLeft, scale)\n      );\n      const scaledWidth =\n        START_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.dimensions.width * scale;\n      const scaledHeight =\n        START_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.dimensions.height * scale;\n      return {\n        topLeft,\n        dimensions: { width: scaledWidth, height: scaledHeight },\n      };\n    })();\n    const startButtonBBox =\n      onlyTouchDepressedButton === ButtonKind.HomeScreenStart\n        ? getDepressedButtonBBox(nondepressedStartButtonBBox)\n        : nondepressedStartButtonBBox;\n\n    const nonDepressedSettingsButtonBBox: Rectangle = ((): Rectangle => {\n      const topLeft = addVec(\n        nonextendedHomeBackgroundBBox.topLeft,\n        scaleVec(SETTINGS_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.topLeft, scale)\n      );\n      const scaledWidth =\n        SETTINGS_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.dimensions.width *\n        scale;\n      const scaledHeight =\n        SETTINGS_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.dimensions.height *\n        scale;\n      return {\n        topLeft,\n        dimensions: { width: scaledWidth, height: scaledHeight },\n      };\n    })();\n    const settingsButtonBBox =\n      onlyTouchDepressedButton === ButtonKind.Settings\n        ? getDepressedButtonBBox(nonDepressedSettingsButtonBBox)\n        : nonDepressedSettingsButtonBBox;\n\n    const nondepressedStartButtonTextBBox: Rectangle = ((): Rectangle => {\n      const topLeft = addVec(\n        nonextendedHomeBackgroundBBox.topLeft,\n        scaleVec(\n          convertRectangleFromExtendedHomeCoordsToNonextendedHomeCoords(\n            JAPANESE_TEXT_BBOX_IN_EXTENDED_HOME_COORDS.fromBeginning\n          ).topLeft,\n          scale\n        )\n      );\n      const scaledWidth =\n        convertRectangleFromExtendedHomeCoordsToNonextendedHomeCoords(\n          JAPANESE_TEXT_BBOX_IN_EXTENDED_HOME_COORDS.fromBeginning\n        ).dimensions.width * scale;\n      const scaledHeight =\n        convertRectangleFromExtendedHomeCoordsToNonextendedHomeCoords(\n          JAPANESE_TEXT_BBOX_IN_EXTENDED_HOME_COORDS.fromBeginning\n        ).dimensions.height * scale;\n      return {\n        topLeft,\n        dimensions: { width: scaledWidth, height: scaledHeight },\n      };\n    })();\n    const startButtonTextBBox =\n      onlyTouchDepressedButton === ButtonKind.HomeScreenStart\n        ? getDepressedButtonBBox(nondepressedStartButtonTextBBox)\n        : nondepressedStartButtonTextBBox;\n\n    const nondepressedSettingsTextBBox: Rectangle = ((): Rectangle => {\n      const topLeft = addVec(\n        nonextendedHomeBackgroundBBox.topLeft,\n        scaleVec(\n          convertRectangleFromExtendedHomeCoordsToNonextendedHomeCoords(\n            JAPANESE_TEXT_BBOX_IN_EXTENDED_HOME_COORDS.settings\n          ).topLeft,\n          scale\n        )\n      );\n      const scaledWidth =\n        convertRectangleFromExtendedHomeCoordsToNonextendedHomeCoords(\n          JAPANESE_TEXT_BBOX_IN_EXTENDED_HOME_COORDS.settings\n        ).dimensions.width * scale;\n      const scaledHeight =\n        convertRectangleFromExtendedHomeCoordsToNonextendedHomeCoords(\n          JAPANESE_TEXT_BBOX_IN_EXTENDED_HOME_COORDS.settings\n        ).dimensions.height * scale;\n      return {\n        topLeft,\n        dimensions: { width: scaledWidth, height: scaledHeight },\n      };\n    })();\n    const settingsTextBBox =\n      onlyTouchDepressedButton === ButtonKind.Settings\n        ? getDepressedButtonBBox(nondepressedSettingsTextBBox)\n        : nondepressedSettingsTextBBox;\n\n    return {\n      kind: CanvasElementKind.Group,\n      children: [\n        {\n          kind: CanvasElementKind.Image,\n          source: images.buttons.home.start,\n          dx: startButtonBBox.topLeft.x,\n          dy: startButtonBBox.topLeft.y,\n          dw: startButtonBBox.dimensions.width,\n          dh: startButtonBBox.dimensions.height,\n        },\n        {\n          kind: CanvasElementKind.Text,\n          text: getUiText(\n            language,\n            screen.level === Level.Level1\n              ? UiTextKind.StartPuzzleFromBeginning\n              : UiTextKind.StartPuzzleFromLastSaved\n          ),\n          x: getRectCenter(startButtonTextBBox).x,\n          y: getRectCenter(startButtonTextBBox).y,\n          fill: COLOR_THEME.textBrown,\n          fontWeight: 400,\n          fontSize:\n            onlyTouchDepressedButton === ButtonKind.HomeScreenStart\n              ? SIZING.depressedButtonScale *\n                UI_FONT_SIZE.startButton[language] *\n                scale\n              : UI_FONT_SIZE.startButton[language] * scale,\n          fontFamily: UI_TEXT_FONT_FAMILY,\n          textBaseline: \"middle\",\n          textAlign: \"center\",\n        },\n        {\n          kind: CanvasElementKind.Group,\n          alpha: 0.5,\n          children:\n            onlyTouchDepressedButton === ButtonKind.HomeScreenStart\n              ? [\n                  {\n                    kind: CanvasElementKind.Image,\n                    source: buttonOverlays.home.start,\n                    dx: startButtonBBox.topLeft.x,\n                    dy: startButtonBBox.topLeft.y,\n                    dw: startButtonBBox.dimensions.width,\n                    dh: startButtonBBox.dimensions.height,\n                  },\n                ]\n              : [],\n        },\n        {\n          kind: CanvasElementKind.Image,\n          source: images.buttons.home.settings,\n          dx: settingsButtonBBox.topLeft.x,\n          dy: settingsButtonBBox.topLeft.y,\n          dw: settingsButtonBBox.dimensions.width,\n          dh: settingsButtonBBox.dimensions.height,\n        },\n        {\n          kind: CanvasElementKind.Text,\n          text: getUiText(language, UiTextKind.Settings),\n          x: getRectCenter(settingsTextBBox).x,\n          y: getRectCenter(settingsTextBBox).y,\n          fill: COLOR_THEME.textBrown,\n          fontWeight: 400,\n          fontSize:\n            onlyTouchDepressedButton === ButtonKind.Settings\n              ? SIZING.depressedButtonScale *\n                UI_FONT_SIZE.settingsButton[language] *\n                scale\n              : UI_FONT_SIZE.settingsButton[language] * scale,\n          fontFamily: UI_TEXT_FONT_FAMILY,\n          textBaseline: \"middle\",\n          textAlign: \"center\",\n        },\n        {\n          kind: CanvasElementKind.Group,\n          alpha: 0.5,\n          children:\n            onlyTouchDepressedButton === ButtonKind.Settings\n              ? [\n                  {\n                    kind: CanvasElementKind.Image,\n                    source: buttonOverlays.home.settings,\n                    dx: settingsButtonBBox.topLeft.x,\n                    dy: settingsButtonBBox.topLeft.y,\n                    dw: settingsButtonBBox.dimensions.width,\n                    dh: settingsButtonBBox.dimensions.height,\n                  },\n                ]\n              : [],\n        },\n      ],\n    };\n  }\n\n  dualRenderEditScreen(): DualRenderOutput {\n    const { appHeight, screen } = this.state;\n\n    const blockEditorProps: BlockEditorProps<BlockKind> = {\n      config: this.getMainBlockEditorConfig(),\n      state: screen.blockEditor,\n\n      measureText: this.measureSvgText,\n      setState: this.setBlockEditorState,\n    };\n\n    const noBlockEditorUiAction =\n      screen.blockEditor.uiTouch === null &&\n      screen.blockEditor.palette.scrollInProgress === null &&\n      screen.blockEditor.canvas.scrollInProgress === null &&\n      screen.blockEditor.literalEditor === null;\n\n    const tutorialBlockEditorProps: BlockEditorProps<TutorialBlockKind> = {\n      config: this.getTutorialBlockEditorConfig(),\n      state: this.getTutorialBlockEditorState(),\n\n      measureText: this.measureSvgText,\n      setState: noOp,\n    };\n\n    const {\n      canvasElement: puzzleButtonsCanvasElement,\n      reactElement: blockEditorDragBlocker,\n    } = this.dualRenderPuzzleScreenButtons();\n\n    const reactElement = (\n      <div className=\"App\">\n        <div className=\"AppMain\">\n          <svg\n            className=\"MainSvg\"\n            width={this.state.appWidth}\n            height={appHeight}\n          >\n            <BlockEditor {...blockEditorProps} />\n\n            {[Level.Level1, Level.Level9].includes(this.state.screen.level) &&\n              noBlockEditorUiAction && (\n                <g style={{ pointerEvents: \"none\" }}>\n                  <BlockEditor {...tutorialBlockEditorProps} />\n                </g>\n              )}\n\n            {blockEditorDragBlocker}\n          </svg>\n        </div>\n      </div>\n    );\n\n    const canvasElement: CanvasElement = {\n      kind: CanvasElementKind.Group,\n      children: [\n        this.renderTutorialCanvasElement(),\n        puzzleButtonsCanvasElement,\n      ],\n    };\n\n    return {\n      reactElement,\n      canvasElement,\n    };\n  }\n\n  dualRenderSettingsScreen(): DualRenderOutput {\n    return this.dualRenderSettingsBoxOverHomeScreen(0);\n  }\n\n  dualRenderSettingsBoxOverHomeScreen(\n    settingsScreenDy: number\n  ): DualRenderOutput {\n    const reactElement = (\n      <div className=\"App\">\n        <div className=\"AppMain\">\n          <svg\n            className=\"MainSvg\"\n            width={this.state.appWidth}\n            height={this.state.appHeight}\n          ></svg>\n        </div>\n      </div>\n    );\n\n    const canvasElement: CanvasElement = {\n      kind: CanvasElementKind.Group,\n      children: [\n        this.renderHomeScreenCanvasElement(),\n        this.renderSettingsBoxCanvasElement(settingsScreenDy),\n      ],\n    };\n\n    return { reactElement, canvasElement };\n  }\n\n  renderSettingsBoxCanvasElement(settingsScreenDy: number): CanvasElement {\n    const { appWidth, appHeight, onlyTouchDepressedButton, language } =\n      this.state;\n\n    const minimumHorizontalScale =\n      this.state.appWidth / NONEXTENDED_HOME_BACKGROUND_DIMENSIONS.width;\n    const minimumVerticalScale =\n      this.state.appHeight / NONEXTENDED_HOME_BACKGROUND_DIMENSIONS.height;\n    const scale = Math.min(minimumHorizontalScale, minimumVerticalScale);\n\n    const nonextendedHomeBackgroundBBox: Rectangle = ((): Rectangle => {\n      const scaledWidth = NONEXTENDED_HOME_BACKGROUND_DIMENSIONS.width * scale;\n      const scaledHeight =\n        NONEXTENDED_HOME_BACKGROUND_DIMENSIONS.height * scale;\n      const x = (this.state.appWidth - scaledWidth) / 2;\n      const y = (this.state.appHeight - scaledHeight) / 1;\n      return {\n        topLeft: { x, y },\n        dimensions: { width: scaledWidth, height: scaledHeight },\n      };\n    })();\n\n    const settingsBoxBBox: Rectangle = ((): Rectangle => {\n      const topLeft = addVec(\n        addVec(\n          nonextendedHomeBackgroundBBox.topLeft,\n          scaleVec(SETTINGS_BOX_BBOX_IN_NONEXTENDED_HOME_COORDS.topLeft, scale)\n        ),\n        { x: 0, y: settingsScreenDy }\n      );\n      const scaledWidth =\n        SETTINGS_BOX_BBOX_IN_NONEXTENDED_HOME_COORDS.dimensions.width * scale;\n      const scaledHeight =\n        SETTINGS_BOX_BBOX_IN_NONEXTENDED_HOME_COORDS.dimensions.height * scale;\n      return {\n        topLeft,\n        dimensions: { width: scaledWidth, height: scaledHeight },\n      };\n    })();\n\n    const nondepressedCloseButtonBBox: Rectangle = ((): Rectangle => {\n      const topLeft = addVec(\n        addVec(\n          nonextendedHomeBackgroundBBox.topLeft,\n          scaleVec(\n            SETTINGS_SCREEN_CLOSE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.topLeft,\n            scale\n          )\n        ),\n        { x: 0, y: settingsScreenDy }\n      );\n      const scaledWidth =\n        SETTINGS_SCREEN_CLOSE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.dimensions\n          .width * scale;\n      const scaledHeight =\n        SETTINGS_SCREEN_CLOSE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.dimensions\n          .height * scale;\n      return {\n        topLeft,\n        dimensions: { width: scaledWidth, height: scaledHeight },\n      };\n    })();\n    const closeButtonBBox =\n      onlyTouchDepressedButton === ButtonKind.SettingsScreenClose\n        ? getDepressedButtonBBox(nondepressedCloseButtonBBox)\n        : nondepressedCloseButtonBBox;\n\n    const nondepressedLanguageButtonBBox: Rectangle = ((): Rectangle => {\n      const topLeft = addVec(\n        addVec(\n          nonextendedHomeBackgroundBBox.topLeft,\n          scaleVec(\n            LANGUAGE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.topLeft,\n            scale\n          )\n        ),\n        { x: 0, y: settingsScreenDy }\n      );\n      const scaledWidth =\n        LANGUAGE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.dimensions.width *\n        scale;\n      const scaledHeight =\n        LANGUAGE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.dimensions.height *\n        scale;\n      return {\n        topLeft,\n        dimensions: { width: scaledWidth, height: scaledHeight },\n      };\n    })();\n    const languageButtonBBox =\n      onlyTouchDepressedButton === ButtonKind.Language\n        ? getDepressedButtonBBox(nondepressedLanguageButtonBBox)\n        : nondepressedLanguageButtonBBox;\n\n    const nondepressedCreditsButtonBBox: Rectangle = ((): Rectangle => {\n      const topLeft = addVec(\n        addVec(\n          nonextendedHomeBackgroundBBox.topLeft,\n          scaleVec(\n            CREDITS_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.topLeft,\n            scale\n          )\n        ),\n        { x: 0, y: settingsScreenDy }\n      );\n      const scaledWidth =\n        CREDITS_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.dimensions.width * scale;\n      const scaledHeight =\n        CREDITS_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.dimensions.height *\n        scale;\n      return {\n        topLeft,\n        dimensions: { width: scaledWidth, height: scaledHeight },\n      };\n    })();\n    const creditsButtonBBox =\n      onlyTouchDepressedButton === ButtonKind.Credits\n        ? getDepressedButtonBBox(nondepressedCreditsButtonBBox)\n        : nondepressedCreditsButtonBBox;\n\n    const nondepressedResetButtonBBox: Rectangle = ((): Rectangle => {\n      const topLeft = addVec(\n        addVec(\n          nonextendedHomeBackgroundBBox.topLeft,\n          scaleVec(\n            RESET_TO_LEVEL_ONE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.topLeft,\n            scale\n          )\n        ),\n        { x: 0, y: settingsScreenDy }\n      );\n      const scaledWidth =\n        RESET_TO_LEVEL_ONE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.dimensions\n          .width * scale;\n      const scaledHeight =\n        RESET_TO_LEVEL_ONE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.dimensions\n          .height * scale;\n      return {\n        topLeft,\n        dimensions: { width: scaledWidth, height: scaledHeight },\n      };\n    })();\n    const resetButtonBBox =\n      onlyTouchDepressedButton === ButtonKind.OpenConfirmResetToLevelOneScreen\n        ? getDepressedButtonBBox(nondepressedResetButtonBBox)\n        : nondepressedResetButtonBBox;\n\n    return {\n      kind: CanvasElementKind.Group,\n      children: [\n        renderRect({\n          x: 0,\n          y: settingsScreenDy,\n          w: appWidth,\n          h: appHeight,\n          fill: { r: 0, g: 0, b: 0, a: 128 },\n        }),\n        {\n          kind: CanvasElementKind.Image,\n          source: images.settings_box,\n          dx: settingsBoxBBox.topLeft.x,\n          dy: settingsBoxBBox.topLeft.y,\n          dw: settingsBoxBBox.dimensions.width,\n          dh: settingsBoxBBox.dimensions.height,\n        },\n\n        {\n          kind: CanvasElementKind.Image,\n          source: images.buttons.settings.close,\n          dx: closeButtonBBox.topLeft.x,\n          dy: closeButtonBBox.topLeft.y,\n          dw: closeButtonBBox.dimensions.width,\n          dh: closeButtonBBox.dimensions.height,\n        },\n        withAlpha(\n          onlyTouchDepressedButton === ButtonKind.SettingsScreenClose ? 0.5 : 0,\n          {\n            kind: CanvasElementKind.Image,\n            source: buttonOverlays.settings.close,\n            dx: closeButtonBBox.topLeft.x,\n            dy: closeButtonBBox.topLeft.y,\n            dw: closeButtonBBox.dimensions.width,\n            dh: closeButtonBBox.dimensions.height,\n          }\n        ),\n\n        {\n          kind: CanvasElementKind.Image,\n          source: images.buttons.settings.language,\n          dx: languageButtonBBox.topLeft.x,\n          dy: languageButtonBBox.topLeft.y,\n          dw: languageButtonBBox.dimensions.width,\n          dh: languageButtonBBox.dimensions.height,\n        },\n        {\n          kind: CanvasElementKind.Text,\n          text: getUiText(language, UiTextKind.FlagAndCurrentLanguage),\n          x: getRectCenter(languageButtonBBox).x,\n          y: getRectCenter(languageButtonBBox).y,\n          fill: COLOR_THEME.textBrown,\n          fontWeight: 400,\n          fontSize:\n            onlyTouchDepressedButton === ButtonKind.Language\n              ? SIZING.depressedButtonScale * 67 * scale\n              : 67 * scale,\n          fontFamily: UI_TEXT_FONT_FAMILY,\n          textBaseline: \"middle\",\n          textAlign: \"center\",\n        },\n        withAlpha(onlyTouchDepressedButton === ButtonKind.Language ? 0.5 : 0, {\n          kind: CanvasElementKind.Image,\n          source: buttonOverlays.settings.language,\n          dx: languageButtonBBox.topLeft.x,\n          dy: languageButtonBBox.topLeft.y,\n          dw: languageButtonBBox.dimensions.width,\n          dh: languageButtonBBox.dimensions.height,\n        }),\n\n        {\n          kind: CanvasElementKind.Image,\n          source: images.buttons.settings.credits,\n          dx: creditsButtonBBox.topLeft.x,\n          dy: creditsButtonBBox.topLeft.y,\n          dw: creditsButtonBBox.dimensions.width,\n          dh: creditsButtonBBox.dimensions.height,\n        },\n        {\n          kind: CanvasElementKind.Text,\n          text: getUiText(language, UiTextKind.Credits),\n          x: getRectCenter(creditsButtonBBox).x,\n          y: getRectCenter(creditsButtonBBox).y,\n          fill: COLOR_THEME.textBrown,\n          fontWeight: 400,\n          fontSize:\n            onlyTouchDepressedButton === ButtonKind.Credits\n              ? SIZING.depressedButtonScale * 67 * scale\n              : 67 * scale,\n          fontFamily: UI_TEXT_FONT_FAMILY,\n          textBaseline: \"middle\",\n          textAlign: \"center\",\n        },\n        withAlpha(onlyTouchDepressedButton === ButtonKind.Credits ? 0.5 : 0, {\n          kind: CanvasElementKind.Image,\n          source: buttonOverlays.settings.credits,\n          dx: creditsButtonBBox.topLeft.x,\n          dy: creditsButtonBBox.topLeft.y,\n          dw: creditsButtonBBox.dimensions.width,\n          dh: creditsButtonBBox.dimensions.height,\n        }),\n\n        {\n          kind: CanvasElementKind.Image,\n          source: images.buttons.settings.reset_to_level_one,\n          dx: resetButtonBBox.topLeft.x,\n          dy: resetButtonBBox.topLeft.y,\n          dw: resetButtonBBox.dimensions.width,\n          dh: resetButtonBBox.dimensions.height,\n        },\n        {\n          kind: CanvasElementKind.Text,\n          text: getUiText(language, UiTextKind.ResetToLevelOne),\n          x: getRectCenter(resetButtonBBox).x,\n          y: getRectCenter(resetButtonBBox).y,\n          fill: COLOR_THEME.textBrown,\n          fontWeight: 400,\n          fontSize:\n            onlyTouchDepressedButton ===\n            ButtonKind.OpenConfirmResetToLevelOneScreen\n              ? SIZING.depressedButtonScale * 56 * scale\n              : 56 * scale,\n          fontFamily: UI_TEXT_FONT_FAMILY,\n          textBaseline: \"middle\",\n          textAlign: \"center\",\n        },\n        withAlpha(\n          onlyTouchDepressedButton ===\n            ButtonKind.OpenConfirmResetToLevelOneScreen\n            ? 0.5\n            : 0,\n          {\n            kind: CanvasElementKind.Image,\n            source: buttonOverlays.settings.reset_to_level_one,\n            dx: resetButtonBBox.topLeft.x,\n            dy: resetButtonBBox.topLeft.y,\n            dw: resetButtonBBox.dimensions.width,\n            dh: resetButtonBBox.dimensions.height,\n          }\n        ),\n      ],\n    };\n  }\n\n  dualRenderConfirmResetToLevelOneScreen(): DualRenderOutput {\n    const reactElement = (\n      <div className=\"App\">\n        <div className=\"AppMain\">\n          <svg\n            className=\"MainSvg\"\n            width={this.state.appWidth}\n            height={this.state.appHeight}\n          ></svg>\n        </div>\n      </div>\n    );\n\n    const canvasElement: CanvasElement = {\n      kind: CanvasElementKind.Group,\n      children: [\n        this.renderHomeScreenCanvasElement(),\n        this.renderConfirmResetTOLevelOneBoxCanvasElement(),\n      ],\n    };\n\n    return { reactElement, canvasElement };\n  }\n\n  renderConfirmResetTOLevelOneBoxCanvasElement(): CanvasElement {\n    const { appWidth, appHeight, onlyTouchDepressedButton, language } =\n      this.state;\n\n    const minimumHorizontalScale =\n      this.state.appWidth / NONEXTENDED_HOME_BACKGROUND_DIMENSIONS.width;\n    const minimumVerticalScale =\n      this.state.appHeight / NONEXTENDED_HOME_BACKGROUND_DIMENSIONS.height;\n    const scale = Math.min(minimumHorizontalScale, minimumVerticalScale);\n\n    const nonextendedHomeBackgroundBBox: Rectangle = ((): Rectangle => {\n      const scaledWidth = NONEXTENDED_HOME_BACKGROUND_DIMENSIONS.width * scale;\n      const scaledHeight =\n        NONEXTENDED_HOME_BACKGROUND_DIMENSIONS.height * scale;\n      const x = (this.state.appWidth - scaledWidth) / 2;\n      const y = (this.state.appHeight - scaledHeight) / 1;\n      return {\n        topLeft: { x, y },\n        dimensions: { width: scaledWidth, height: scaledHeight },\n      };\n    })();\n\n    const settingsBoxBBox: Rectangle = ((): Rectangle => {\n      const topLeft = addVec(\n        addVec(\n          nonextendedHomeBackgroundBBox.topLeft,\n          scaleVec(SETTINGS_BOX_BBOX_IN_NONEXTENDED_HOME_COORDS.topLeft, scale)\n        ),\n        { x: 0, y: 0 }\n      );\n      const scaledWidth =\n        SETTINGS_BOX_BBOX_IN_NONEXTENDED_HOME_COORDS.dimensions.width * scale;\n      const scaledHeight =\n        SETTINGS_BOX_BBOX_IN_NONEXTENDED_HOME_COORDS.dimensions.height * scale;\n      return {\n        topLeft,\n        dimensions: { width: scaledWidth, height: scaledHeight },\n      };\n    })();\n\n    const nondepressedCloseButtonBBox: Rectangle = ((): Rectangle => {\n      const topLeft = addVec(\n        addVec(\n          nonextendedHomeBackgroundBBox.topLeft,\n          scaleVec(\n            SETTINGS_SCREEN_CLOSE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.topLeft,\n            scale\n          )\n        ),\n        { x: 0, y: 0 }\n      );\n      const scaledWidth =\n        SETTINGS_SCREEN_CLOSE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.dimensions\n          .width * scale;\n      const scaledHeight =\n        SETTINGS_SCREEN_CLOSE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.dimensions\n          .height * scale;\n      return {\n        topLeft,\n        dimensions: { width: scaledWidth, height: scaledHeight },\n      };\n    })();\n    const closeButtonBBox =\n      onlyTouchDepressedButton === ButtonKind.ConfirmResetToLevelOneScreenClose\n        ? getDepressedButtonBBox(nondepressedCloseButtonBBox)\n        : nondepressedCloseButtonBBox;\n\n    const nondepressedLanguageButtonBBox: Rectangle = ((): Rectangle => {\n      const topLeft = addVec(\n        addVec(\n          nonextendedHomeBackgroundBBox.topLeft,\n          scaleVec(\n            LANGUAGE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.topLeft,\n            scale\n          )\n        ),\n        { x: 0, y: 0 }\n      );\n      const scaledWidth =\n        LANGUAGE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.dimensions.width *\n        scale;\n      const scaledHeight =\n        LANGUAGE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.dimensions.height *\n        scale;\n      return {\n        topLeft,\n        dimensions: { width: scaledWidth, height: scaledHeight },\n      };\n    })();\n    const languageButtonBBox = nondepressedLanguageButtonBBox;\n\n    const nondepressedCreditsButtonBBox: Rectangle = ((): Rectangle => {\n      const topLeft = addVec(\n        addVec(\n          nonextendedHomeBackgroundBBox.topLeft,\n          scaleVec(\n            CREDITS_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.topLeft,\n            scale\n          )\n        ),\n        { x: 0, y: 0 }\n      );\n      const scaledWidth =\n        CREDITS_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.dimensions.width * scale;\n      const scaledHeight =\n        CREDITS_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.dimensions.height *\n        scale;\n      return {\n        topLeft,\n        dimensions: { width: scaledWidth, height: scaledHeight },\n      };\n    })();\n    const creditsButtonBBox =\n      onlyTouchDepressedButton === ButtonKind.ConfirmResetToLevelOne\n        ? getDepressedButtonBBox(nondepressedCreditsButtonBBox)\n        : nondepressedCreditsButtonBBox;\n\n    const nondepressedResetButtonBBox: Rectangle = ((): Rectangle => {\n      const topLeft = addVec(\n        addVec(\n          nonextendedHomeBackgroundBBox.topLeft,\n          scaleVec(\n            RESET_TO_LEVEL_ONE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.topLeft,\n            scale\n          )\n        ),\n        { x: 0, y: 0 }\n      );\n      const scaledWidth =\n        RESET_TO_LEVEL_ONE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.dimensions\n          .width * scale;\n      const scaledHeight =\n        RESET_TO_LEVEL_ONE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.dimensions\n          .height * scale;\n      return {\n        topLeft,\n        dimensions: { width: scaledWidth, height: scaledHeight },\n      };\n    })();\n    const resetButtonBBox =\n      onlyTouchDepressedButton === ButtonKind.CancelResetToLevelOne\n        ? getDepressedButtonBBox(nondepressedResetButtonBBox)\n        : nondepressedResetButtonBBox;\n\n    return {\n      kind: CanvasElementKind.Group,\n      children: [\n        renderRect({\n          x: 0,\n          y: 0,\n          w: appWidth,\n          h: appHeight,\n          fill: { r: 0, g: 0, b: 0, a: 128 },\n        }),\n        {\n          kind: CanvasElementKind.Image,\n          source: images.settings_box,\n          dx: settingsBoxBBox.topLeft.x,\n          dy: settingsBoxBBox.topLeft.y,\n          dw: settingsBoxBBox.dimensions.width,\n          dh: settingsBoxBBox.dimensions.height,\n        },\n\n        {\n          kind: CanvasElementKind.Image,\n          source: images.buttons.settings.close,\n          dx: closeButtonBBox.topLeft.x,\n          dy: closeButtonBBox.topLeft.y,\n          dw: closeButtonBBox.dimensions.width,\n          dh: closeButtonBBox.dimensions.height,\n        },\n        withAlpha(\n          onlyTouchDepressedButton ===\n            ButtonKind.ConfirmResetToLevelOneScreenClose\n            ? 0.5\n            : 0,\n          {\n            kind: CanvasElementKind.Image,\n            source: buttonOverlays.settings.close,\n            dx: closeButtonBBox.topLeft.x,\n            dy: closeButtonBBox.topLeft.y,\n            dw: closeButtonBBox.dimensions.width,\n            dh: closeButtonBBox.dimensions.height,\n          }\n        ),\n\n        {\n          kind: CanvasElementKind.Text,\n          text: getUiText(\n            language,\n            UiTextKind.AreYouSureYouWantToResetToLevelOne\n          ),\n          x: getRectCenter(languageButtonBBox).x,\n          y: getRectCenter(languageButtonBBox).y,\n          fill: COLOR_THEME.textBrown,\n          fontWeight: 400,\n          fontSize: 67 * scale,\n          fontFamily: UI_TEXT_FONT_FAMILY,\n          textBaseline: \"middle\",\n          textAlign: \"center\",\n        },\n\n        {\n          kind: CanvasElementKind.Image,\n          source: images.buttons.settings.credits,\n          dx: creditsButtonBBox.topLeft.x,\n          dy: creditsButtonBBox.topLeft.y,\n          dw: creditsButtonBBox.dimensions.width,\n          dh: creditsButtonBBox.dimensions.height,\n        },\n        {\n          kind: CanvasElementKind.Text,\n          text: getUiText(language, UiTextKind.ConfirmReset),\n          x: getRectCenter(creditsButtonBBox).x,\n          y: getRectCenter(creditsButtonBBox).y,\n          fill: COLOR_THEME.textBrown,\n          fontWeight: 400,\n          fontSize:\n            onlyTouchDepressedButton === ButtonKind.ConfirmResetToLevelOne\n              ? SIZING.depressedButtonScale * 67 * scale\n              : 67 * scale,\n          fontFamily: UI_TEXT_FONT_FAMILY,\n          textBaseline: \"middle\",\n          textAlign: \"center\",\n        },\n        withAlpha(\n          onlyTouchDepressedButton === ButtonKind.ConfirmResetToLevelOne\n            ? 0.5\n            : 0,\n          {\n            kind: CanvasElementKind.Image,\n            source: buttonOverlays.settings.credits,\n            dx: creditsButtonBBox.topLeft.x,\n            dy: creditsButtonBBox.topLeft.y,\n            dw: creditsButtonBBox.dimensions.width,\n            dh: creditsButtonBBox.dimensions.height,\n          }\n        ),\n\n        {\n          kind: CanvasElementKind.Image,\n          source: images.buttons.settings.reset_to_level_one,\n          dx: resetButtonBBox.topLeft.x,\n          dy: resetButtonBBox.topLeft.y,\n          dw: resetButtonBBox.dimensions.width,\n          dh: resetButtonBBox.dimensions.height,\n        },\n        {\n          kind: CanvasElementKind.Text,\n          text: getUiText(language, UiTextKind.CancelReset),\n          x: getRectCenter(resetButtonBBox).x,\n          y: getRectCenter(resetButtonBBox).y,\n          fill: COLOR_THEME.textBrown,\n          fontWeight: 400,\n          fontSize:\n            onlyTouchDepressedButton === ButtonKind.CancelResetToLevelOne\n              ? SIZING.depressedButtonScale * 67 * scale\n              : 67 * scale,\n          fontFamily: UI_TEXT_FONT_FAMILY,\n          textBaseline: \"middle\",\n          textAlign: \"center\",\n        },\n        withAlpha(\n          onlyTouchDepressedButton === ButtonKind.CancelResetToLevelOne\n            ? 0.5\n            : 0,\n          {\n            kind: CanvasElementKind.Image,\n            source: buttonOverlays.settings.reset_to_level_one,\n            dx: resetButtonBBox.topLeft.x,\n            dy: resetButtonBBox.topLeft.y,\n            dw: resetButtonBBox.dimensions.width,\n            dh: resetButtonBBox.dimensions.height,\n          }\n        ),\n      ],\n    };\n  }\n\n  dualRenderHomeToViewAnimation(): DualRenderOutput {\n    const { appHeight, screen } = this.state;\n    const elapsedSeconds = getElapsedSeconds(\n      screen.currentTimestamp,\n      screen.animationStartTime\n    );\n    const homeScreenDy = Math.max(\n      -(appHeight * elapsedSeconds) / SCREEN_TRANSITION_ANIMATION_SECONDS,\n      -appHeight\n    );\n\n    const battleEvents = this.getCurrentLevelBattleEvents();\n    const battleElapsedSeconds =\n      screen.animationKind === AnimationKind.PlayBattle\n        ? screen.battleAnimationOffsetSeconds + elapsedSeconds\n        : screen.animationKind === AnimationKind.PauseBattle\n        ? screen.battleAnimationOffsetSeconds\n        : 0;\n    const battleAnimationData = getBattleAnimationData(\n      getInitialLevelState(screen.level),\n      battleEvents,\n      battleElapsedSeconds\n    );\n\n    const reactElement = (\n      <div className=\"App\">\n        <div className=\"AppMain\">\n          <svg\n            className=\"MainSvg\"\n            width={this.state.appWidth}\n            height={appHeight}\n          ></svg>\n        </div>\n      </div>\n    );\n\n    const canvasElement: CanvasElement = {\n      kind: CanvasElementKind.Group,\n      children: [\n        {\n          kind: CanvasElementKind.Group,\n          transform: [{ kind: TransformKind.Translate, x: 0, y: homeScreenDy }],\n          children: [this.renderHomeScreenCanvasElement()],\n        },\n        this.renderBattleAndOutcomeScreenCanvasElement(\n          homeScreenDy,\n          screen.blockEditor,\n          screen.level,\n          battleElapsedSeconds,\n          battleAnimationData\n        ),\n      ],\n    };\n\n    return { reactElement, canvasElement };\n  }\n\n  dualRenderEditToViewAnimation(): DualRenderOutput {\n    const { appHeight, screen } = this.state;\n    const elapsedSeconds = getElapsedSeconds(\n      screen.currentTimestamp,\n      screen.animationStartTime\n    );\n    const blockEditorDy = Math.max(\n      -(appHeight * elapsedSeconds) / SCREEN_TRANSITION_ANIMATION_SECONDS,\n      -appHeight\n    );\n\n    const battleEvents = this.getCurrentLevelBattleEvents();\n    const battleElapsedSeconds =\n      screen.animationKind === AnimationKind.PlayBattle\n        ? screen.battleAnimationOffsetSeconds + elapsedSeconds\n        : screen.animationKind === AnimationKind.PauseBattle\n        ? screen.battleAnimationOffsetSeconds\n        : 0;\n    const battleAnimationData = getBattleAnimationData(\n      getInitialLevelState(screen.level),\n      battleEvents,\n      battleElapsedSeconds\n    );\n\n    const blockEditorProps: BlockEditorProps<BlockKind> = {\n      config: this.getMainBlockEditorConfig(),\n      state: screen.blockEditor,\n\n      measureText: this.measureSvgText,\n      setState: this.setBlockEditorState,\n    };\n\n    const reactElement = (\n      <div className=\"App\">\n        <div className=\"AppMain\">\n          <svg\n            className=\"MainSvg\"\n            width={this.state.appWidth}\n            height={appHeight}\n          >\n            <g transform={`translate(0 ${blockEditorDy})`}>\n              <BlockEditor {...blockEditorProps} />\n            </g>\n          </svg>\n        </div>\n      </div>\n    );\n\n    const canvasElement: CanvasElement = {\n      kind: CanvasElementKind.Group,\n      children: [\n        this.renderBattleAndOutcomeScreenCanvasElement(\n          blockEditorDy,\n          screen.blockEditor,\n          screen.level,\n          battleElapsedSeconds,\n          battleAnimationData\n        ),\n        this.renderPuzzleScreenButtonsCanvasElement(),\n      ],\n    };\n\n    return { reactElement, canvasElement };\n  }\n\n  dualRenderViewToEditAnimation(): DualRenderOutput {\n    const { appHeight, screen } = this.state;\n    const elapsedSeconds = getElapsedSeconds(\n      screen.currentTimestamp,\n      screen.animationStartTime\n    );\n    const blockEditorDy = Math.min(\n      (appHeight * elapsedSeconds) / SCREEN_TRANSITION_ANIMATION_SECONDS -\n        appHeight,\n      0\n    );\n\n    const battleEvents = this.getCurrentLevelBattleEvents();\n    const battleElapsedSeconds =\n      screen.animationKind === AnimationKind.PlayBattle\n        ? screen.battleAnimationOffsetSeconds + elapsedSeconds\n        : screen.animationKind === AnimationKind.PauseBattle\n        ? screen.battleAnimationOffsetSeconds\n        : 0;\n    const battleAnimationData = getBattleAnimationData(\n      getInitialLevelState(screen.level),\n      battleEvents,\n      battleElapsedSeconds\n    );\n\n    const blockEditorProps: BlockEditorProps<BlockKind> = {\n      config: this.getMainBlockEditorConfig(),\n      state: screen.blockEditor,\n\n      measureText: this.measureSvgText,\n      setState: this.setBlockEditorState,\n    };\n\n    const reactElement = (\n      <div className=\"App\">\n        <div className=\"AppMain\">\n          <svg\n            className=\"MainSvg\"\n            width={this.state.appWidth}\n            height={appHeight}\n          >\n            <g transform={`translate(0 ${blockEditorDy})`}>\n              <BlockEditor {...blockEditorProps} />\n            </g>\n          </svg>\n        </div>\n      </div>\n    );\n\n    const canvasElement: CanvasElement = {\n      kind: CanvasElementKind.Group,\n      children: [\n        this.renderBattleAndOutcomeScreenCanvasElement(\n          blockEditorDy,\n          screen.blockEditor,\n          screen.level,\n          battleElapsedSeconds,\n          battleAnimationData\n        ),\n        this.renderPuzzleScreenButtonsCanvasElement(),\n      ],\n    };\n\n    return { reactElement, canvasElement };\n  }\n\n  dualRenderViewToHomeAnimation(): DualRenderOutput {\n    const { appHeight, screen } = this.state;\n    const elapsedSeconds = getElapsedSeconds(\n      screen.currentTimestamp,\n      screen.animationStartTime\n    );\n    const homeScreenDy = Math.min(\n      (appHeight * elapsedSeconds) / SCREEN_TRANSITION_ANIMATION_SECONDS -\n        appHeight,\n      0\n    );\n\n    const battleEvents = this.getCurrentLevelBattleEvents();\n    const battleElapsedSeconds =\n      screen.animationKind === AnimationKind.PlayBattle\n        ? screen.battleAnimationOffsetSeconds + elapsedSeconds\n        : screen.animationKind === AnimationKind.PauseBattle\n        ? screen.battleAnimationOffsetSeconds\n        : 0;\n    const battleAnimationData = getBattleAnimationData(\n      getInitialLevelState(screen.level),\n      battleEvents,\n      battleElapsedSeconds\n    );\n\n    const reactElement = (\n      <div className=\"App\">\n        <div className=\"AppMain\">\n          <svg\n            className=\"MainSvg\"\n            width={this.state.appWidth}\n            height={appHeight}\n          ></svg>\n        </div>\n      </div>\n    );\n\n    const canvasElement: CanvasElement = {\n      kind: CanvasElementKind.Group,\n      children: [\n        {\n          kind: CanvasElementKind.Group,\n          transform: [{ kind: TransformKind.Translate, x: 0, y: homeScreenDy }],\n          children: [this.renderHomeScreenCanvasElement()],\n        },\n        this.renderBattleAndOutcomeScreenCanvasElement(\n          homeScreenDy,\n          screen.blockEditor,\n          screen.level,\n          battleElapsedSeconds,\n          battleAnimationData\n        ),\n      ],\n    };\n\n    return { reactElement, canvasElement };\n  }\n\n  dualRenderEditToHomeAnimation(): DualRenderOutput {\n    const { appHeight, screen } = this.state;\n    const elapsedSeconds = getElapsedSeconds(\n      screen.currentTimestamp,\n      screen.animationStartTime\n    );\n    const homeScreenDy = Math.min(\n      (appHeight * elapsedSeconds) / SCREEN_TRANSITION_ANIMATION_SECONDS -\n        appHeight,\n      0\n    );\n\n    const blockEditorProps: BlockEditorProps<BlockKind> = {\n      config: this.getMainBlockEditorConfig(),\n      state: screen.blockEditor,\n\n      measureText: this.measureSvgText,\n      setState: this.setBlockEditorState,\n    };\n\n    const reactElement = (\n      <div className=\"App\">\n        <div className=\"AppMain\">\n          <svg\n            className=\"MainSvg\"\n            width={this.state.appWidth}\n            height={appHeight}\n          >\n            <g transform={`translate(0 ${appHeight + homeScreenDy})`}>\n              <BlockEditor {...blockEditorProps} />\n            </g>\n          </svg>\n        </div>\n      </div>\n    );\n\n    const canvasElement: CanvasElement = {\n      kind: CanvasElementKind.Group,\n      transform: [{ kind: TransformKind.Translate, x: 0, y: homeScreenDy }],\n      children: [this.renderHomeScreenCanvasElement()],\n    };\n\n    return { reactElement, canvasElement };\n  }\n\n  dualRenderBattleScreen(): DualRenderOutput {\n    const { appWidth, appHeight, screen } = this.state;\n    const elapsedSeconds = getElapsedSeconds(\n      screen.currentTimestamp,\n      screen.animationStartTime\n    );\n\n    const battleEvents = this.getCurrentLevelBattleEvents();\n    const battleElapsedSeconds =\n      screen.animationKind === AnimationKind.PlayBattle\n        ? screen.battleAnimationOffsetSeconds + elapsedSeconds\n        : screen.animationKind === AnimationKind.PauseBattle\n        ? screen.battleAnimationOffsetSeconds\n        : 0;\n    const battleAnimationData = getBattleAnimationData(\n      getInitialLevelState(screen.level),\n      battleEvents,\n      battleElapsedSeconds\n    );\n\n    const [protectedAreaScalePoint, protectedAreaScale] =\n      this.getBattleScreenProtectedAreaScalePointAndScaleFactor();\n    const minimapBBox = this.getMinimapBBox();\n\n    const minimapBlockEditorProps: BlockEditorProps<MinimapBlockKind> = {\n      config: this.getMinimapBlockEditorConfig(),\n      state: this.getMinimapBlockEditorState(),\n\n      measureText: this.measureSvgText,\n      setState: noOp,\n    };\n\n    const reactElement = (\n      <div className=\"App\">\n        <div className=\"AppMain\">\n          <svg\n            className=\"MainSvg\"\n            width={this.state.appWidth}\n            height={appHeight}\n          >\n            <g\n              transform={`translate(${protectedAreaScalePoint.x} ${\n                protectedAreaScalePoint.y\n              }) scale(${protectedAreaScale} ${protectedAreaScale}) translate(${-protectedAreaScalePoint.x} ${-protectedAreaScalePoint.y})`}\n            >\n              <g\n                transform={`translate(${minimapBBox.topLeft.x} ${\n                  minimapBBox.topLeft.y\n                }) scale(${minimapBBox.dimensions.width / appWidth} ${\n                  minimapBBox.dimensions.height / appHeight\n                })`}\n                opacity={battleElapsedSeconds === 0 ? 0 : 1}\n              >\n                <BlockEditor {...minimapBlockEditorProps} />\n              </g>\n            </g>\n          </svg>\n        </div>\n      </div>\n    );\n\n    const canvasElement: CanvasElement = {\n      kind: CanvasElementKind.Group,\n      children: [\n        this.renderBattleAndOutcomeScreenCanvasElement(\n          -appHeight,\n          screen.blockEditor,\n          screen.level,\n          battleElapsedSeconds,\n          battleAnimationData,\n          { renderTutorial: true }\n        ),\n        this.renderKilledEnemiesButForgotToMoveHeroToStairsHintIfNeeded(),\n        this.renderPuzzleScreenButtonsCanvasElement(),\n      ],\n    };\n\n    return { reactElement, canvasElement };\n  }\n\n  dualRenderNextLevelAnimation(): DualRenderOutput {\n    const { appHeight, screen } = this.state;\n    const elapsedSeconds = getElapsedSeconds(\n      screen.currentTimestamp,\n      screen.animationStartTime\n    );\n    const blockEditorDy = Math.min(\n      (appHeight * elapsedSeconds) / SCREEN_TRANSITION_ANIMATION_SECONDS -\n        appHeight,\n      appHeight\n    );\n\n    const prevBattleEvents = this.getPrevLevelBattleEvents();\n    const prevBattleElapsedSeconds = Number.MAX_SAFE_INTEGER;\n    const prevBattleAnimationData = getBattleAnimationData(\n      getInitialLevelState(screen.level - 1),\n      prevBattleEvents,\n      prevBattleElapsedSeconds\n    );\n\n    const battleElapsedSeconds = 0;\n    const battleEvents: readonly BattleEvent[] = [];\n    const battleAnimationData = getBattleAnimationData(\n      getInitialLevelState(screen.level),\n      battleEvents,\n      battleElapsedSeconds\n    );\n\n    const blockEditorProps: BlockEditorProps<BlockKind> = {\n      config: this.getMainBlockEditorConfig(),\n      state: screen.prevLevelBlockEditor,\n\n      measureText: this.measureSvgText,\n      setState: noOp,\n    };\n\n    const reactElement = (\n      <div className=\"App\">\n        <div className=\"AppMain\">\n          <svg\n            className=\"MainSvg\"\n            width={this.state.appWidth}\n            height={appHeight}\n          >\n            <g transform={`translate(0 ${blockEditorDy})`}>\n              <BlockEditor {...blockEditorProps} />\n            </g>\n          </svg>\n        </div>\n      </div>\n    );\n\n    const canvasElement: CanvasElement = {\n      kind: CanvasElementKind.Group,\n      children: [\n        this.renderBattleAndOutcomeScreenCanvasElement(\n          blockEditorDy,\n          screen.prevLevelBlockEditor,\n          screen.level - 1,\n          prevBattleElapsedSeconds,\n          prevBattleAnimationData\n        ),\n        this.renderBattleAndOutcomeScreenCanvasElement(\n          blockEditorDy - 2 * appHeight,\n          screen.blockEditor,\n          screen.level,\n          battleElapsedSeconds,\n          battleAnimationData\n        ),\n        this.renderPuzzleScreenButtonsCanvasElement(),\n      ],\n    };\n\n    return { reactElement, canvasElement };\n  }\n\n  dualRenderOpenSettingsAnimation(): DualRenderOutput {\n    const { screen, appHeight } = this.state;\n    const elapsedSeconds = getElapsedSeconds(\n      screen.currentTimestamp,\n      screen.animationStartTime\n    );\n    const settingsScreenDy = Math.max(\n      appHeight -\n        (appHeight * elapsedSeconds) / SCREEN_TRANSITION_ANIMATION_SECONDS,\n      0\n    );\n\n    return this.dualRenderSettingsBoxOverHomeScreen(settingsScreenDy);\n  }\n\n  dualRenderCloseSettingsAnimation(): DualRenderOutput {\n    const { screen, appHeight } = this.state;\n    const elapsedSeconds = getElapsedSeconds(\n      screen.currentTimestamp,\n      screen.animationStartTime\n    );\n    const settingsScreenDy = Math.min(\n      (appHeight * elapsedSeconds) / SCREEN_TRANSITION_ANIMATION_SECONDS,\n      appHeight\n    );\n\n    return this.dualRenderSettingsBoxOverHomeScreen(settingsScreenDy);\n  }\n\n  dualRenderCreditsAnimation(): DualRenderOutput {\n    const reactElement = (\n      <div className=\"App\">\n        <div className=\"AppMain\">\n          <svg\n            className=\"MainSvg\"\n            width={this.state.appWidth}\n            height={this.state.appHeight}\n          ></svg>\n        </div>\n      </div>\n    );\n\n    const { appWidth, appHeight, screen } = this.state;\n    const elapsedSeconds = getElapsedSeconds(\n      screen.currentTimestamp,\n      screen.animationStartTime\n    );\n    const creditTextDy =\n      -appHeight *\n      elapsedSeconds *\n      CREDIT_SCREEN_SCROLL_SPEED_IN_SCREEN_HEIGHT_PER_SECOND;\n\n    const [textElements] =\n      this.getUntransformedCreditScreenTextElementsAndFinalYCursor();\n\n    const canvasElement: CanvasElement = {\n      kind: CanvasElementKind.Group,\n      children: [\n        renderRect({\n          x: 0,\n          y: 0,\n          w: appWidth,\n          h: appHeight,\n          fill: { r: 0, g: 0, b: 0, a: 255 },\n        }),\n\n        {\n          kind: CanvasElementKind.Group,\n          transform: [{ kind: TransformKind.Translate, x: 0, y: creditTextDy }],\n          children: textElements,\n        },\n      ],\n    };\n\n    return { reactElement, canvasElement };\n  }\n\n  getUntransformedCreditScreenTextElementsAndFinalYCursor(): [\n    readonly CanvasText_[],\n    number\n  ] {\n    const { appWidth, appHeight, language } = this.state;\n\n    const MAIN_DIMENSIONS: Dimensions = {\n      width: 2039,\n      height: 1447,\n    };\n    const minimumHorizontalScale = appWidth / MAIN_DIMENSIONS.width;\n    const minimumVerticalScale = appHeight / MAIN_DIMENSIONS.height;\n    const scale = Math.min(minimumHorizontalScale, minimumVerticalScale);\n\n    const textElements: CanvasText_[] = [];\n\n    const title = getUiText(language, UiTextKind.CreditScreenTitle);\n    const titleFont: CanvasTextFont = {\n      textAlign: \"center\",\n      fontSize: 96 * scale,\n      fontFamily: UI_TEXT_FONT_FAMILY,\n    };\n    const titleTextDimensions = this.measureCanvasText({\n      ...titleFont,\n      text: title,\n    });\n    const titleElement: CanvasText_ = {\n      ...titleFont,\n\n      kind: CanvasElementKind.Text,\n      text: title,\n      x: 0.5 * appWidth,\n      y: appHeight - titleTextDimensions.height,\n      fill: COLOR_THEME.textWhite,\n    };\n    textElements.push(titleElement);\n\n    const sectionBottomMargin = 240 * scale;\n    const bodyFont: CanvasTextFont = {\n      textAlign: \"center\",\n      fontSize: 80 * scale,\n      fontFamily: UI_TEXT_FONT_FAMILY,\n    };\n    const lineBottomMargin = 80 * scale;\n\n    let y = titleElement.y + titleTextDimensions.height + sectionBottomMargin;\n    const names = getUiText(language, UiTextKind.CreditScreenNames).split(\"\\n\");\n    for (const name of names) {\n      textElements.push({\n        ...bodyFont,\n\n        kind: CanvasElementKind.Text,\n        text: name,\n        x: 0.5 * appWidth,\n        y,\n        fill: COLOR_THEME.textWhite,\n      });\n\n      const lineDimensions = this.measureCanvasText({\n        ...bodyFont,\n        text: name,\n      });\n      y += lineDimensions.height + lineBottomMargin;\n    }\n\n    if (names.length > 0) {\n      y -= lineBottomMargin;\n    }\n\n    y += sectionBottomMargin;\n\n    const gameInfoLines = getUiText(\n      language,\n      UiTextKind.CreditScreenGameInfo\n    ).split(\"\\n\");\n\n    for (const infoLine of gameInfoLines) {\n      textElements.push({\n        ...bodyFont,\n\n        kind: CanvasElementKind.Text,\n        text: infoLine,\n        x: 0.5 * appWidth,\n        y,\n        fill: COLOR_THEME.textWhite,\n      });\n\n      const lineDimensions = this.measureCanvasText({\n        ...bodyFont,\n        text: infoLine,\n      });\n      y += lineDimensions.height + lineBottomMargin;\n    }\n\n    return [textElements, y];\n  }\n\n  getCreditRollDurationInSeconds(): number {\n    const untransformedYCursor =\n      this.getUntransformedCreditScreenTextElementsAndFinalYCursor()[1];\n    const { appHeight } = this.state;\n    return (\n      untransformedYCursor /\n      (appHeight * CREDIT_SCREEN_SCROLL_SPEED_IN_SCREEN_HEIGHT_PER_SECOND)\n    );\n  }\n\n  renderBattleAndOutcomeScreenCanvasElement(\n    blockEditorDy: number,\n    blockEditor: BlockEditorState<BlockKind>,\n    level: Level,\n    elapsedSeconds: number,\n    battleAnimationData: BattleAnimationData,\n    options?: { renderTutorial?: true }\n  ): CanvasElement {\n    const { language, appWidth, appHeight, onlyTouchDepressedButton, screen } =\n      this.state;\n    const backgroundImageScale =\n      this.state.appWidth / SIZING.castleInteriorImage.width;\n    const backgroundImageTop =\n      appHeight - SIZING.castleInteriorImage.height * backgroundImageScale;\n\n    const [protectedAreaScalePoint, protectedAreaScale] =\n      this.getBattleScreenProtectedAreaScalePointAndScaleFactor();\n    const protectedAreaTransform: readonly Transform[] = [\n      {\n        kind: TransformKind.Translate,\n        x: protectedAreaScalePoint.x,\n        y: protectedAreaScalePoint.y,\n      },\n      {\n        kind: TransformKind.Scale,\n        x: protectedAreaScale,\n        y: protectedAreaScale,\n      },\n      {\n        kind: TransformKind.Translate,\n        x: -protectedAreaScalePoint.x,\n        y: -protectedAreaScalePoint.y,\n      },\n    ];\n\n    const {\n      levelState: currentLevelState,\n      battleStatus,\n      errorAlert,\n      particles,\n      advanceSummon,\n    } = battleAnimationData;\n\n    const battleOutcomeTextDimensions = this.measureCanvasText({\n      text:\n        battleStatus === BattleStatus.Victory\n          ? getUiText(language, UiTextKind.LevelCleared)\n          : battleStatus === BattleStatus.Defeat\n          ? getUiText(language, UiTextKind.LevelFailed)\n          : \"\",\n      fontSize: SIZING.unscaledBattleOutcomeTextSizePx * backgroundImageScale,\n      fontFamily: BATTLE_OUTCOME_TEXT_FONT_FAMILY,\n    });\n    const nondepressedNextLevelButtonTextDimensions = this.measureCanvasText({\n      text:\n        battleStatus === BattleStatus.Victory\n          ? getUiText(language, UiTextKind.NextLevel)\n          : \"\",\n      fontSize: SIZING.unscaledButtonTextSizePx * backgroundImageScale,\n      fontFamily: BUTTON_TEXT_FONT_FAMILY,\n    });\n    const nondepressedNextLevelButtonPadding =\n      nondepressedNextLevelButtonTextDimensions.height;\n    const nondepressedNextLevelButtonBBox: Rectangle = {\n      topLeft: {\n        x:\n          this.state.appWidth / 2 -\n          (nondepressedNextLevelButtonTextDimensions.width +\n            2 * nondepressedNextLevelButtonPadding) /\n            2,\n        y:\n          0 +\n          0.5 * appHeight +\n          0.5 * battleOutcomeTextDimensions.height +\n          2 * battleOutcomeTextDimensions.height,\n      },\n      dimensions: {\n        width:\n          nondepressedNextLevelButtonTextDimensions.width +\n          2 * nondepressedNextLevelButtonPadding,\n        height:\n          nondepressedNextLevelButtonTextDimensions.height +\n          2 * nondepressedNextLevelButtonPadding,\n      },\n    };\n    const nextLevelButtonBBox =\n      onlyTouchDepressedButton === ButtonKind.NextLevel\n        ? getDepressedButtonBBox(nondepressedNextLevelButtonBBox)\n        : nondepressedNextLevelButtonBBox;\n    const nextLevelButtonFontSize =\n      onlyTouchDepressedButton === ButtonKind.NextLevel\n        ? SIZING.depressedButtonScale *\n          SIZING.unscaledButtonTextSizePx *\n          backgroundImageScale\n        : SIZING.unscaledButtonTextSizePx * backgroundImageScale;\n\n    const victoryElements: readonly CanvasElement[] = [\n      renderRect({\n        x:\n          (this.state.appWidth -\n            this.state.appWidth * SIZING.battleOutcomeAlertWidthFactor) /\n          2,\n        y: 0,\n        w: this.state.appWidth * SIZING.battleOutcomeAlertWidthFactor,\n        h: appHeight,\n        fill: { r: 0, g: 0, b: 0, a: 0xcc },\n      }),\n\n      {\n        kind: CanvasElementKind.Text,\n        text: getUiText(language, UiTextKind.LevelCleared),\n        x:\n          (this.state.appWidth -\n            this.state.appWidth * SIZING.battleOutcomeAlertWidthFactor) /\n            2 +\n          0.5 * (this.state.appWidth * SIZING.battleOutcomeAlertWidthFactor),\n        y: 0 + 0.5 * appHeight,\n        fill: COLOR_THEME.textWhite,\n        fontSize: SIZING.unscaledBattleOutcomeTextSizePx * backgroundImageScale,\n        fontFamily: BATTLE_OUTCOME_TEXT_FONT_FAMILY,\n        textBaseline: \"middle\",\n        textAlign: \"center\",\n      },\n\n      {\n        kind: CanvasElementKind.Group,\n        alpha: ![AnimationKind.PlayBattle, AnimationKind.PauseBattle].includes(\n          screen.animationKind\n        )\n          ? 0.5\n          : 1.0,\n        children:\n          level >= LAST_LEVEL\n            ? []\n            : [\n                renderRect({\n                  x: nextLevelButtonBBox.topLeft.x,\n                  y: nextLevelButtonBBox.topLeft.y,\n                  w: nextLevelButtonBBox.dimensions.width,\n                  h: nextLevelButtonBBox.dimensions.height,\n                  fill: COLOR_THEME.buttonBlue,\n                  rx: 5,\n                  ry: 5,\n                }),\n\n                {\n                  kind: CanvasElementKind.Text,\n                  text: getUiText(language, UiTextKind.NextLevel),\n                  x: getRectCenter(nextLevelButtonBBox).x,\n                  y: getRectCenter(nextLevelButtonBBox).y,\n                  fill: COLOR_THEME.textWhite,\n                  fontSize: nextLevelButtonFontSize,\n                  fontFamily: BUTTON_TEXT_FONT_FAMILY,\n                  textBaseline: \"middle\",\n                  textAlign: \"center\",\n                },\n\n                renderRect({\n                  x: nextLevelButtonBBox.topLeft.x,\n                  y: nextLevelButtonBBox.topLeft.y,\n                  w: nextLevelButtonBBox.dimensions.width,\n                  h: nextLevelButtonBBox.dimensions.height,\n                  fill: ![\n                    AnimationKind.PlayBattle,\n                    AnimationKind.PauseBattle,\n                  ].includes(screen.animationKind)\n                    ? TRANSPARENT\n                    : onlyTouchDepressedButton === ButtonKind.NextLevel\n                    ? { r: 255, g: 255, b: 255, a: 128 }\n                    : periodicColorSinInterp(\n                        { r: 0, g: 0, b: 0, a: 150 },\n                        { r: 255, g: 255, b: 255, a: 30 },\n                        elapsedSeconds,\n                        1\n                      ),\n                  rx: 5,\n                  ry: 5,\n                }),\n              ],\n      },\n    ];\n\n    const defeatElements: readonly CanvasElement[] = [\n      renderRect({\n        x:\n          (this.state.appWidth -\n            this.state.appWidth * SIZING.battleOutcomeAlertWidthFactor) /\n          2,\n        y: 0,\n        w: this.state.appWidth * SIZING.battleOutcomeAlertWidthFactor,\n        h: appHeight,\n        fill: { r: 0, g: 0, b: 0, a: 0xcc },\n      }),\n\n      {\n        kind: CanvasElementKind.Text,\n        text: getUiText(language, UiTextKind.LevelFailed),\n        x:\n          (this.state.appWidth -\n            this.state.appWidth * SIZING.battleOutcomeAlertWidthFactor) /\n            2 +\n          0.5 * (this.state.appWidth * SIZING.battleOutcomeAlertWidthFactor),\n        y: 0 + 0.5 * appHeight,\n        fill: COLOR_THEME.textWhite,\n        fontSize: SIZING.unscaledBattleOutcomeTextSizePx * backgroundImageScale,\n        fontFamily: BATTLE_OUTCOME_TEXT_FONT_FAMILY,\n        textBaseline: \"middle\",\n        textAlign: \"center\",\n      },\n    ];\n\n    const renderTutorial = options?.renderTutorial ?? false;\n\n    return {\n      kind: CanvasElementKind.Group,\n      clipPath: [\n        {\n          kind: PathInstructionKind.MoveTo,\n          x: 0,\n          y: appHeight + blockEditorDy,\n        },\n        {\n          kind: PathInstructionKind.LineTo,\n          x: appWidth,\n          y: appHeight + blockEditorDy,\n        },\n        {\n          kind: PathInstructionKind.LineTo,\n          x: appWidth,\n          y: appHeight + blockEditorDy + appHeight,\n        },\n        {\n          kind: PathInstructionKind.LineTo,\n          x: 0,\n          y: appHeight + blockEditorDy + appHeight,\n        },\n        {\n          kind: PathInstructionKind.LineTo,\n          x: 0,\n          y: appHeight + blockEditorDy,\n        },\n      ],\n      children: [\n        {\n          kind: CanvasElementKind.Group,\n          transform: [\n            {\n              kind: TransformKind.Translate,\n              x: 0,\n              y: appHeight + blockEditorDy,\n            },\n          ],\n          children: [\n            {\n              kind: CanvasElementKind.Image,\n              source: images.castle_interior,\n              dx: 0,\n              dy: backgroundImageTop,\n              dw: appWidth,\n              dh:\n                appWidth *\n                (images.castle_interior.naturalHeight /\n                  images.castle_interior.naturalWidth),\n            },\n\n            {\n              kind: CanvasElementKind.Group,\n              transform: protectedAreaTransform,\n              children: [this.renderMinimapHoleCanvasElement()],\n            },\n\n            renderTutorial\n              ? this.renderTutorialCanvasElement()\n              : NULL_CANVAS_ELEMENT,\n\n            {\n              kind: CanvasElementKind.Group,\n              transform: protectedAreaTransform,\n              children: [\n                ...currentLevelState.squares.map(\n                  (_square, i): CanvasElement =>\n                    renderRect({\n                      x: (50 + i * 150) * backgroundImageScale,\n                      y: backgroundImageTop + (735 + 35) * backgroundImageScale,\n                      w: 130 * backgroundImageScale,\n                      h: 80 * backgroundImageScale,\n                      rx: (130 / 2) * backgroundImageScale,\n                      ry: (80 / 2) * backgroundImageScale,\n                      fill: COLOR_THEME.squareRed,\n                    })\n                ),\n\n                ...currentLevelState.squares.map((square, squareIndex) =>\n                  renderCastleSquareOccupant({\n                    square,\n                    squareIndex,\n                    backgroundImageTop,\n                    backgroundImageScale,\n                    elapsedSeconds,\n                    battleAnimationData,\n                  })\n                ),\n\n                advanceSummon === null\n                  ? NULL_CANVAS_ELEMENT\n                  : renderCastleSquareOccupant({\n                      square: advanceSummon.summonee,\n                      squareIndex: advanceSummon.summoneeIndex,\n                      backgroundImageTop,\n                      backgroundImageScale,\n                      elapsedSeconds,\n                      battleAnimationData,\n                    }),\n\n                ...particles.map((particle) =>\n                  renderCircle({\n                    cx: particle.position.x * backgroundImageScale,\n                    cy:\n                      backgroundImageTop +\n                      particle.position.y * backgroundImageScale,\n                    r: particle.radius * backgroundImageScale,\n                    fill: particle.color,\n                  })\n                ),\n\n                errorAlert === null\n                  ? NULL_CANVAS_ELEMENT\n                  : ((): CanvasElement => {\n                      const textElement: CanvasText_ = {\n                        kind: CanvasElementKind.Text,\n                        text: getUiText(language, errorAlert.message),\n                        x:\n                          (50 - 130 + errorAlert.index * 150) *\n                            backgroundImageScale +\n                          0.5 * (260 * backgroundImageScale),\n                        y:\n                          backgroundImageTop +\n                          400 * backgroundImageScale +\n                          0.5 * (160 * backgroundImageScale),\n                        fill: COLOR_THEME.textWhite,\n                        fontSize:\n                          SIZING.unscaledErrorAlertTextSizePx *\n                          backgroundImageScale,\n                        fontFamily: ERROR_ALERT_TEXT_FONT_FAMILY,\n                        textBaseline: \"middle\",\n                        textAlign: \"center\",\n                      };\n                      const textDimensions =\n                        this.measureCanvasText(textElement);\n                      const rectWidth = Math.max(\n                        260 * backgroundImageScale,\n                        textDimensions.width + 2 * 10 * backgroundImageScale\n                      );\n\n                      return {\n                        kind: CanvasElementKind.Group,\n                        alpha: errorAlert.opacityFactor,\n                        children: [\n                          renderRect({\n                            x:\n                              (50 + errorAlert.index * 150) *\n                                backgroundImageScale -\n                              0.5 * rectWidth,\n                            y: backgroundImageTop + 400 * backgroundImageScale,\n                            w: rectWidth,\n                            h: 160 * backgroundImageScale,\n                            rx: 5 * backgroundImageScale,\n                            ry: 5 * backgroundImageScale,\n                            fill: COLOR_THEME.errorAlertRed,\n                          }),\n\n                          textElement,\n                        ],\n                      };\n                    })(),\n              ],\n            },\n\n            ...(battleStatus === BattleStatus.Victory\n              ? victoryElements\n              : battleStatus === BattleStatus.Defeat\n              ? defeatElements\n              : []),\n\n            battleStatus === BattleStatus.Victory && level === LAST_LEVEL\n              ? this.renderStage2ComingSoonCanvasElement()\n              : NULL_CANVAS_ELEMENT,\n          ],\n        },\n      ],\n    };\n  }\n\n  getBattleScreenProtectedAreaScalePointAndScaleFactor(): [Vec2, number] {\n    const { appHeight, screen } = this.state;\n    const safeAreaInsets = this.state.safeAreaInsets.insets;\n    const backgroundImageScale =\n      this.state.appWidth / SIZING.castleInteriorImage.width;\n    const backgroundImageTop =\n      appHeight - SIZING.castleInteriorImage.height * backgroundImageScale;\n    const squareCount = getInitialLevelState(screen.level).squares.length;\n\n    const protectedAreaLeft = 50 * backgroundImageScale;\n    const lastSquareBBoxBottomRight: Vec2 = {\n      x:\n        (50 + (squareCount - 1) * 150) * backgroundImageScale +\n        130 * backgroundImageScale,\n      y:\n        backgroundImageTop +\n        (735 + 35) * backgroundImageScale +\n        80 * backgroundImageScale,\n    };\n    const protectedAreaWidth = lastSquareBBoxBottomRight.x - protectedAreaLeft;\n    const horizontalShrinkAmount = Math.max(\n      0,\n      safeAreaInsets.left - protectedAreaLeft\n    );\n    const protectedAreaScale =\n      (protectedAreaWidth - horizontalShrinkAmount) / protectedAreaWidth;\n    return [lastSquareBBoxBottomRight, protectedAreaScale];\n  }\n\n  renderPuzzleScreenButtonsCanvasElement(): CanvasElement {\n    return this.dualRenderPuzzleScreenButtons().canvasElement;\n  }\n\n  dualRenderPuzzleScreenButtons(): DualRenderOutput {\n    const backgroundImageScale =\n      this.state.appWidth / SIZING.castleInteriorImage.width;\n    const { screen, onlyTouchDepressedButton } = this.state;\n    const safeAreaInsets = this.state.safeAreaInsets.insets;\n    const areAnyBlocksReachable_ = areAnyBlocksReachable(screen);\n\n    const isBattleFinished =\n      isScreenShowingVictory(screen, this.getCurrentLevelBattleEvents) ||\n      isScreenShowingDefeat(screen, this.getCurrentLevelBattleEvents);\n    const elapsedSeconds = getElapsedSeconds(\n      screen.currentTimestamp,\n      screen.animationStartTime\n    );\n\n    const blockEditorCanvasItems = screen.blockEditor.canvas.items;\n\n    const isLevelOneAndNotReadyToExecuteCode =\n      screen.level === Level.Level1 &&\n      !(\n        blockEditorCanvasItems.length === 1 &&\n        blockEditorCanvasItems[0].content.length >= 3\n      );\n    const isLevelOneAndReadyToExecuteCode =\n      screen.level === Level.Level1 &&\n      blockEditorCanvasItems.length === 1 &&\n      blockEditorCanvasItems[0].content.length >= 3;\n\n    const isBlockCanvasIsInInitialState =\n      blockEditorCanvasItems.length === 1 &&\n      blockEditorCanvasItems[0].content.length === 1;\n\n    const nondepressedLeftButtonBBox: Rectangle = {\n      topLeft: {\n        x: 945 * backgroundImageScale - safeAreaInsets.right,\n        y: 5,\n      },\n      dimensions: {\n        width: 120 * backgroundImageScale,\n        height:\n          120 *\n          backgroundImageScale *\n          (images.buttons.puzzle.edit.naturalHeight /\n            images.buttons.puzzle.edit.naturalWidth),\n      },\n    };\n    const leftButtonBBox =\n      onlyTouchDepressedButton === ButtonKind.PuzzleScreenLeft\n        ? getDepressedButtonBBox(nondepressedLeftButtonBBox)\n        : nondepressedLeftButtonBBox;\n\n    const editButton: CanvasElement = {\n      kind: CanvasElementKind.Image,\n      source: images.buttons.puzzle.edit,\n      dx: leftButtonBBox.topLeft.x,\n      dy: leftButtonBBox.topLeft.y,\n      dw: leftButtonBBox.dimensions.width,\n      dh: leftButtonBBox.dimensions.height,\n    };\n    const disabledEditButton = withAlpha(0.5, editButton);\n    const flashingEditButton: CanvasElement = {\n      kind: CanvasElementKind.Group,\n      children: [\n        editButton,\n        onlyTouchDepressedButton === ButtonKind.PuzzleScreenLeft\n          ? NULL_CANVAS_ELEMENT\n          : renderRect({\n              x: leftButtonBBox.topLeft.x,\n              y: leftButtonBBox.topLeft.y,\n              w: leftButtonBBox.dimensions.width,\n              h: leftButtonBBox.dimensions.height,\n              rx: 0.5 * leftButtonBBox.dimensions.width,\n              ry: 0.5 * leftButtonBBox.dimensions.height,\n              fill: periodicColorSinInterp(\n                { r: 0, g: 0, b: 0, a: 150 },\n                { r: 255, g: 255, b: 255, a: 30 },\n                elapsedSeconds,\n                1\n              ),\n            }),\n      ],\n    };\n\n    const leftButton =\n      ![AnimationKind.PlayBattle, AnimationKind.PauseBattle].includes(\n        screen.animationKind\n      ) || isScreenShowingVictory(screen, this.getCurrentLevelBattleEvents)\n        ? disabledEditButton\n        : isScreenShowingDefeat(screen, this.getCurrentLevelBattleEvents)\n        ? flashingEditButton\n        : screen.animationKind === AnimationKind.PauseBattle &&\n          isLevelOneAndNotReadyToExecuteCode\n        ? flashingEditButton\n        : isBlockCanvasIsInInitialState\n        ? flashingEditButton\n        : this.getCurrentLevelBattleAnimationData()\n            .didHeroSurviveLevelButFailToReachStairs\n        ? flashingEditButton\n        : editButton;\n    const leftButtonOverlay = withAlpha(\n      onlyTouchDepressedButton === ButtonKind.PuzzleScreenLeft ? 0.5 : 0,\n      {\n        kind: CanvasElementKind.Image,\n        source: buttonOverlays.puzzle.all_purpose,\n        dx: leftButtonBBox.topLeft.x,\n        dy: leftButtonBBox.topLeft.y,\n        dw: leftButtonBBox.dimensions.width,\n        dh: leftButtonBBox.dimensions.height,\n      }\n    );\n\n    const nondepressedMiddleButtonBBox: Rectangle = {\n      topLeft: {\n        x: 1075 * backgroundImageScale - safeAreaInsets.right,\n        y: 5,\n      },\n      dimensions: {\n        width: 120 * backgroundImageScale,\n        height:\n          120 *\n          backgroundImageScale *\n          // The View, Play, and Pause buttons all have the same dimensions\n          // (and thus the same aspect ratio).\n          // So we arbitrarily choose to use View here,\n          // but this code will work correctly for all 3 buttons.\n          (images.buttons.puzzle.view.naturalHeight /\n            images.buttons.puzzle.view.naturalWidth),\n      },\n    };\n    const middleButtonBBox =\n      onlyTouchDepressedButton === ButtonKind.PuzzleScreenMiddle\n        ? getDepressedButtonBBox(nondepressedMiddleButtonBBox)\n        : nondepressedMiddleButtonBBox;\n\n    const viewButtonSpec = {\n      source: images.buttons.puzzle.view,\n    };\n    const disabledViewButtonSpec = {\n      disabled: true,\n      source: images.buttons.puzzle.view,\n    };\n    const flashingViewButtonSpec = {\n      flashing: true,\n      source: images.buttons.puzzle.view,\n    };\n    const playButtonSpec = {\n      source: images.buttons.puzzle.play,\n    };\n    const disabledPlayButtonSpec = {\n      disabled: true,\n      source: images.buttons.puzzle.play,\n    };\n    const flashingPlayButtonSpec = {\n      flashing: true,\n      source: images.buttons.puzzle.play,\n    };\n    const pauseButtonSpec = {\n      source: images.buttons.puzzle.pause,\n    };\n    const disabledPauseButtonSpec = {\n      disabled: true,\n      source: images.buttons.puzzle.pause,\n    };\n\n    const ENTER_VIEW_SCREEN_ANIMATIONS = [\n      AnimationKind.HomeToView,\n      AnimationKind.EditToView,\n    ];\n    const middleButtonSpec: {\n      disabled?: true;\n      flashing?: true;\n      source: HTMLImageElement;\n    } =\n      screen.animationKind === AnimationKind.Edit &&\n      isLevelOneAndReadyToExecuteCode &&\n      screen.blockEditor.uiTouch === null\n        ? flashingViewButtonSpec\n        : screen.animationKind === AnimationKind.PauseBattle &&\n          isLevelOneAndReadyToExecuteCode\n        ? flashingPlayButtonSpec\n        : screen.animationKind === AnimationKind.PauseBattle &&\n          isLevelOneAndNotReadyToExecuteCode\n        ? disabledPlayButtonSpec\n        : screen.animationKind === AnimationKind.PauseBattle &&\n          this.getCurrentLevelBattleAnimationData()\n            .didHeroSurviveLevelButFailToReachStairs\n        ? disabledPlayButtonSpec\n        : screen.animationKind === AnimationKind.PlayBattle && !isBattleFinished\n        ? pauseButtonSpec\n        : screen.animationKind === AnimationKind.PlayBattle && isBattleFinished\n        ? disabledPauseButtonSpec\n        : screen.animationKind === AnimationKind.PauseBattle &&\n          areAnyBlocksReachable_\n        ? playButtonSpec\n        : screen.animationKind === AnimationKind.PauseBattle &&\n          !areAnyBlocksReachable_\n        ? disabledPlayButtonSpec\n        : screen.animationKind === AnimationKind.Edit\n        ? viewButtonSpec\n        : ENTER_VIEW_SCREEN_ANIMATIONS.includes(screen.animationKind) ||\n          screen.animationKind === AnimationKind.NextLevel\n        ? disabledPlayButtonSpec\n        : disabledViewButtonSpec;\n    const middleButton = withAlpha(middleButtonSpec.disabled ? 0.5 : 1, {\n      kind: CanvasElementKind.Image,\n      source: middleButtonSpec.source,\n      dx: middleButtonBBox.topLeft.x,\n      dy: middleButtonBBox.topLeft.y,\n      dw: middleButtonBBox.dimensions.width,\n      dh: middleButtonBBox.dimensions.height,\n    });\n    const middleButtonDepressionOverlay: CanvasElement = withAlpha(\n      onlyTouchDepressedButton === ButtonKind.PuzzleScreenMiddle ? 0.5 : 0,\n      {\n        kind: CanvasElementKind.Image,\n        source: buttonOverlays.puzzle.all_purpose,\n        dx: middleButtonBBox.topLeft.x,\n        dy: middleButtonBBox.topLeft.y,\n        dw: middleButtonBBox.dimensions.width,\n        dh: middleButtonBBox.dimensions.height,\n      }\n    );\n    const middleButtonFlashOverlay =\n      onlyTouchDepressedButton === ButtonKind.PuzzleScreenMiddle ||\n      !middleButtonSpec.flashing\n        ? NULL_CANVAS_ELEMENT\n        : renderRect({\n            x: middleButtonBBox.topLeft.x,\n            y: middleButtonBBox.topLeft.y,\n            w: middleButtonBBox.dimensions.width,\n            h: middleButtonBBox.dimensions.height,\n            rx: 0.5 * middleButtonBBox.dimensions.width,\n            ry: 0.5 * middleButtonBBox.dimensions.height,\n            fill: periodicColorSinInterp(\n              { r: 0, g: 0, b: 0, a: 150 },\n              { r: 255, g: 255, b: 255, a: 30 },\n              elapsedSeconds,\n              1\n            ),\n          });\n\n    const nondepressedRightButtonBBox: Rectangle = {\n      topLeft: {\n        x: 1205 * backgroundImageScale - safeAreaInsets.right,\n        y: 5,\n      },\n      dimensions: {\n        width: 120 * backgroundImageScale,\n        height:\n          120 *\n          backgroundImageScale *\n          (images.buttons.puzzle.home.naturalHeight /\n            images.buttons.puzzle.home.naturalWidth),\n      },\n    };\n    const rightButtonBBox =\n      onlyTouchDepressedButton === ButtonKind.PuzzleScreenRight\n        ? getDepressedButtonBBox(nondepressedRightButtonBBox)\n        : nondepressedRightButtonBBox;\n    const rightButton: CanvasElement = {\n      kind: CanvasElementKind.Image,\n      source: images.buttons.puzzle.home,\n      dx: rightButtonBBox.topLeft.x,\n      dy: rightButtonBBox.topLeft.y,\n      dw: rightButtonBBox.dimensions.width,\n      dh: rightButtonBBox.dimensions.height,\n    };\n    const rightButtonOverlay: CanvasElement = withAlpha(\n      onlyTouchDepressedButton === ButtonKind.PuzzleScreenRight ? 0.5 : 0,\n      {\n        kind: CanvasElementKind.Image,\n        source: buttonOverlays.puzzle.all_purpose,\n        dx: rightButtonBBox.topLeft.x,\n        dy: rightButtonBBox.topLeft.y,\n        dw: rightButtonBBox.dimensions.width,\n        dh: rightButtonBBox.dimensions.height,\n      }\n    );\n\n    /**\n     * The user can use their finger to drag the BlockEditor\n     * canvas (not to be confused with the #FrontCanvas)\n     * in order to scroll.\n     * However, we want to prevent scrolling if the drag begins\n     * on a puzzle button.\n     * The problem is that since the buttons are not rendered to the SVG,\n     * they cannot capture touch (or mouse) events.\n     * To solve this, we add invisible <ellipse>s where the buttons are rendered,\n     * so that they can capture touch (or mouse) events,\n     * thus preventing the BlockEditor canvas from receiving those events.\n     */\n    const blockEditorDragBlockers = (\n      <>\n        <ellipse\n          cx={getRectCenter(leftButtonBBox).x}\n          cy={getRectCenter(leftButtonBBox).y}\n          rx={0.5 * leftButtonBBox.dimensions.width}\n          ry={0.5 * leftButtonBBox.dimensions.height}\n          fill=\"transparent\"\n        />\n        <ellipse\n          cx={getRectCenter(middleButtonBBox).x}\n          cy={getRectCenter(middleButtonBBox).y}\n          rx={0.5 * middleButtonBBox.dimensions.width}\n          ry={0.5 * middleButtonBBox.dimensions.height}\n          fill=\"transparent\"\n        />\n        <ellipse\n          cx={getRectCenter(rightButtonBBox).x}\n          cy={getRectCenter(rightButtonBBox).y}\n          rx={0.5 * rightButtonBBox.dimensions.width}\n          ry={0.5 * rightButtonBBox.dimensions.height}\n          fill=\"transparent\"\n        />\n      </>\n    );\n\n    const canvasElement: CanvasElement = {\n      kind: CanvasElementKind.Group,\n      children: [\n        leftButton,\n        leftButtonOverlay,\n        middleButton,\n        middleButtonDepressionOverlay,\n        middleButtonFlashOverlay,\n        rightButton,\n        rightButtonOverlay,\n      ],\n    };\n\n    return { reactElement: blockEditorDragBlockers, canvasElement };\n  }\n\n  renderStage2ComingSoonCanvasElement(): CanvasElement {\n    const { appWidth, appHeight, language } = this.state;\n\n    const MAIN_DIMENSIONS: Dimensions = {\n      width: 2039,\n      height: 1447,\n    };\n    const minimumHorizontalScale = appWidth / MAIN_DIMENSIONS.width;\n    const minimumVerticalScale = appHeight / MAIN_DIMENSIONS.height;\n    const scale = Math.min(minimumHorizontalScale, minimumVerticalScale);\n\n    const textElements: CanvasText_[] = [];\n\n    const comingSoonTextLines = getUiText(\n      language,\n      UiTextKind.Stage2ComingSoon\n    ).split(\"\\n\");\n    const title = comingSoonTextLines[0];\n    const titleFont: CanvasTextFont = {\n      textAlign: \"center\",\n      fontSize: 120 * scale,\n      fontFamily: UI_TEXT_FONT_FAMILY,\n    };\n    const titleTextDimensions = this.measureCanvasText({\n      ...titleFont,\n      text: title,\n    });\n    const titleElement: CanvasText_ = {\n      ...titleFont,\n\n      kind: CanvasElementKind.Text,\n      text: title,\n      x: 0.5 * appWidth,\n      y: 0.5 * appHeight,\n      fill: COLOR_THEME.textWhite,\n    };\n    textElements.push(titleElement);\n\n    const sectionBottomMargin = 240 * scale;\n    const bodyFont: CanvasTextFont = {\n      textAlign: \"center\",\n      fontSize: 80 * scale,\n      fontFamily: UI_TEXT_FONT_FAMILY,\n    };\n    const lineBottomMargin = 80 * scale;\n\n    let y = titleElement.y + titleTextDimensions.height + sectionBottomMargin;\n    const bodyLines = comingSoonTextLines.slice(1);\n    for (const name of bodyLines) {\n      textElements.push({\n        ...bodyFont,\n\n        kind: CanvasElementKind.Text,\n        text: name,\n        x: 0.5 * appWidth,\n        y,\n        fill: COLOR_THEME.textWhite,\n      });\n\n      const lineDimensions = this.measureCanvasText({\n        ...bodyFont,\n        text: name,\n      });\n      y += lineDimensions.height + lineBottomMargin;\n    }\n\n    return {\n      kind: CanvasElementKind.Group,\n      children: [\n        renderRect({\n          x: 0,\n          y: 0,\n          w: appWidth,\n          h: appHeight,\n          fill: { r: 0, g: 0, b: 0, a: 255 },\n        }),\n        ...textElements,\n      ],\n    };\n  }\n\n  renderTutorialCanvasElement(): CanvasElement {\n    const { level, blockEditor } = this.state.screen;\n\n    const noBlockEditorUiAction =\n      blockEditor.uiTouch === null &&\n      blockEditor.palette.scrollInProgress === null &&\n      blockEditor.canvas.scrollInProgress === null &&\n      blockEditor.literalEditor === null;\n    if (!noBlockEditorUiAction) {\n      return NULL_CANVAS_ELEMENT;\n    }\n\n    if (level === Level.Level1) {\n      return this.renderLevel1TutorialCanvasElementAssumingNoBlockEditorUiAction();\n    }\n\n    if (level === Level.Level2) {\n      return this.renderLevel2TutorialCanvasElementAssumingNoBlockEditorUiAction();\n    }\n\n    if (level === Level.Level9) {\n      return this.renderLevel9TutorialCanvasElementAssumingNoBlockEditorUiAction();\n    }\n\n    return this.renderDefaultMissionMessageCanvasElementAssumingNoBlockEditorUiAction();\n  }\n\n  renderLevel1TutorialCanvasElementAssumingNoBlockEditorUiAction(): CanvasElement {\n    const { screen, language, appWidth, appHeight } = this.state;\n    const blockEditorCanvasItems = screen.blockEditor.canvas.items;\n    const isReadyToExecuteCode =\n      blockEditorCanvasItems.length === 1 &&\n      blockEditorCanvasItems[0].content.length >= 3;\n    const backgroundImageScale = appWidth / SIZING.castleInteriorImage.width;\n\n    const bBoxOfTallInstructionsBoxForCastleBackground: Rectangle =\n      ((): Rectangle => {\n        const source = images.tutorial.tall_instructions_box;\n        const width = 500 * backgroundImageScale;\n        const height = width * (source.naturalHeight / source.naturalWidth);\n        return {\n          topLeft: {\n            x: 50 * backgroundImageScale,\n            y: Math.max(-0.26 * height, appHeight - 600 * backgroundImageScale),\n          },\n          dimensions: {\n            width,\n            height,\n          },\n        };\n      })();\n    const bBoxOfShortInstructionsBoxForBlockEditor: Rectangle =\n      ((): Rectangle => {\n        const source = images.tutorial.short_instructions_box;\n        const width = 650 * backgroundImageScale;\n        const height = width * (source.naturalHeight / source.naturalWidth);\n        return {\n          topLeft: {\n            x: appWidth - width - 20 * backgroundImageScale,\n            y: appHeight - height - 20 * backgroundImageScale,\n          },\n          dimensions: {\n            width,\n            height,\n          },\n        };\n      })();\n\n    const bBoxOfShortInstructionsBoxForCastleBackground: Rectangle =\n      ((): Rectangle => {\n        const source = images.tutorial.short_instructions_box;\n        const width = 650 * backgroundImageScale;\n        const height = width * (source.naturalHeight / source.naturalWidth);\n        return {\n          topLeft: {\n            x: 20 * backgroundImageScale,\n            y: Math.max(-0.3 * height, appHeight - 600 * backgroundImageScale),\n          },\n          dimensions: { width, height },\n        };\n      })();\n\n    if (\n      screen.animationKind === AnimationKind.PauseBattle &&\n      !isReadyToExecuteCode\n    ) {\n      const [protectedAreaScalePoint, protectedAreaScale] =\n        this.getBattleScreenProtectedAreaScalePointAndScaleFactor();\n\n      const source = images.tutorial.tall_instructions_box;\n      const instructionBoxBBox = bBoxOfTallInstructionsBoxForCastleBackground;\n      const instructionsText = getUiText(\n        language,\n        UiTextKind.TutorialLevel1Part1_MoveTheHero\n      );\n\n      return {\n        kind: CanvasElementKind.Group,\n        transform: [\n          {\n            kind: TransformKind.Translate,\n            x: protectedAreaScalePoint.x,\n            y: protectedAreaScalePoint.y,\n          },\n          {\n            kind: TransformKind.Scale,\n            x: protectedAreaScale,\n            y: protectedAreaScale,\n          },\n          {\n            kind: TransformKind.Translate,\n            x: -protectedAreaScalePoint.x,\n            y: -protectedAreaScalePoint.y,\n          },\n        ],\n        children: [\n          {\n            kind: CanvasElementKind.Image,\n            source,\n            dx: instructionBoxBBox.topLeft.x,\n            dy: instructionBoxBBox.topLeft.y,\n            dw: instructionBoxBBox.dimensions.width,\n            dh: instructionBoxBBox.dimensions.height,\n          },\n          this.renderTextAndIconsAroundCenter(\n            instructionsText,\n            getRectCenter(instructionBoxBBox)\n          ),\n        ],\n      };\n    }\n\n    const fingerWidth = 60;\n    const fingerHeight =\n      fingerWidth *\n      (images.tutorial.finger.naturalHeight /\n        images.tutorial.finger.naturalWidth);\n\n    const blockEditorProps: BlockEditorProps<BlockKind> = {\n      config: this.getMainBlockEditorConfig(),\n      state: this.state.screen.blockEditor,\n      measureText: this.measureSvgText,\n      setState: noOp,\n    };\n    const paletteSpecs = getPaletteBlockRenderSpecs(blockEditorProps);\n    const paletteMoveForwardBlockRbox = paletteSpecs.find(\n      (spec) => spec.block.kind === BlockKind.MoveForward\n    )!.rbox;\n\n    if (\n      screen.animationKind === AnimationKind.Edit &&\n      blockEditorCanvasItems.length === 1 &&\n      blockEditorCanvasItems[0].content.length === 1\n    ) {\n      const paletteLessThanBlockRboxMiddle = getRectCenter(\n        paletteMoveForwardBlockRbox\n      );\n      const dragStart = paletteLessThanBlockRboxMiddle;\n      const fingerStart = addVec(dragStart, {\n        x: -0.1 * fingerWidth,\n        y: -0.2 * fingerHeight,\n      });\n      const source = images.tutorial.short_instructions_box;\n      const instructionsBoxBBox = bBoxOfShortInstructionsBoxForBlockEditor;\n      const instructionsText = getUiText(\n        language,\n        UiTextKind.TutorialLevel1Part2_DragBlueBlock\n      );\n\n      const fingerEnd = LEVEL_1_TUTORIAL_DRAG_CYCLE.firstDragEnd;\n      const { screen } = this.state;\n      const secondsElapsedAfterLastEdit = getElapsedSeconds(\n        screen.currentTimestamp,\n        getLaterTimestamp(\n          screen.animationStartTime,\n          screen.mostRecentTutorialBlockEditorUpdateTime\n        )\n      );\n      const secondsIntoDragCycle =\n        secondsElapsedAfterLastEdit %\n        LEVEL_1_TUTORIAL_DRAG_CYCLE.totalDurationInSeconds;\n      const fingerDisplacement = scaleVec(\n        subVec(fingerEnd, fingerStart),\n        Math.min(\n          1,\n          secondsIntoDragCycle /\n            LEVEL_1_TUTORIAL_DRAG_CYCLE.movingPhaseDurationInSeconds\n        )\n      );\n      const fingerPosition = addVec(fingerStart, fingerDisplacement);\n      const isAnimationInDragPhase =\n        secondsIntoDragCycle <\n        LEVEL_1_TUTORIAL_DRAG_CYCLE.blockReleaseTimeInSeconds;\n      return {\n        kind: CanvasElementKind.Group,\n        children: [\n          {\n            kind: CanvasElementKind.Image,\n            source,\n            dx: instructionsBoxBBox.topLeft.x,\n            dy: instructionsBoxBBox.topLeft.y,\n            dw: instructionsBoxBBox.dimensions.width,\n            dh: instructionsBoxBBox.dimensions.height,\n          },\n          this.renderTextAndIconsAroundCenter(\n            instructionsText,\n            getRectCenter(instructionsBoxBBox)\n          ),\n          isAnimationInDragPhase\n            ? {\n                kind: CanvasElementKind.Image,\n                source: images.tutorial.finger,\n                dx: fingerPosition.x,\n                dy: fingerPosition.y,\n                dw: fingerWidth,\n                dh: fingerHeight,\n              }\n            : NULL_CANVAS_ELEMENT,\n        ],\n      };\n    }\n\n    if (\n      screen.animationKind === AnimationKind.Edit &&\n      blockEditorCanvasItems.length === 1 &&\n      blockEditorCanvasItems[0].content.length === 2\n    ) {\n      const paletteLessThanBlockRboxMiddle = getRectCenter(\n        paletteMoveForwardBlockRbox\n      );\n      const dragStart = paletteLessThanBlockRboxMiddle;\n      const fingerStart = addVec(dragStart, {\n        x: -0.1 * fingerWidth,\n        y: -0.2 * fingerHeight,\n      });\n      const source = images.tutorial.short_instructions_box;\n      const instructionsBoxBBox = bBoxOfShortInstructionsBoxForBlockEditor;\n      const instructionsText = getUiText(\n        language,\n        UiTextKind.TutorialLevel1Part3_DragAnotherBlock\n      );\n\n      const fingerEnd = LEVEL_1_TUTORIAL_DRAG_CYCLE.secondDragEnd;\n      const { screen } = this.state;\n      const secondsElapsedAfterLastEdit = getElapsedSeconds(\n        screen.currentTimestamp,\n        getLaterTimestamp(\n          screen.animationStartTime,\n          screen.mostRecentTutorialBlockEditorUpdateTime\n        )\n      );\n      const secondsIntoDragCycle =\n        secondsElapsedAfterLastEdit %\n        LEVEL_1_TUTORIAL_DRAG_CYCLE.totalDurationInSeconds;\n      const fingerDisplacement = scaleVec(\n        subVec(fingerEnd, fingerStart),\n        Math.min(\n          1,\n          secondsIntoDragCycle /\n            LEVEL_1_TUTORIAL_DRAG_CYCLE.movingPhaseDurationInSeconds\n        )\n      );\n      const fingerPosition = addVec(fingerStart, fingerDisplacement);\n      const isAnimationInDragPhase =\n        secondsIntoDragCycle <\n        LEVEL_1_TUTORIAL_DRAG_CYCLE.blockReleaseTimeInSeconds;\n      return {\n        kind: CanvasElementKind.Group,\n        children: [\n          {\n            kind: CanvasElementKind.Image,\n            source,\n            dx: instructionsBoxBBox.topLeft.x,\n            dy: instructionsBoxBBox.topLeft.y,\n            dw: instructionsBoxBBox.dimensions.width,\n            dh: instructionsBoxBBox.dimensions.height,\n          },\n          this.renderTextAndIconsAroundCenter(\n            instructionsText,\n            getRectCenter(instructionsBoxBBox)\n          ),\n          isAnimationInDragPhase\n            ? {\n                kind: CanvasElementKind.Image,\n                source: images.tutorial.finger,\n                dx: fingerPosition.x,\n                dy: fingerPosition.y,\n                dw: fingerWidth,\n                dh: fingerHeight,\n              }\n            : NULL_CANVAS_ELEMENT,\n        ],\n      };\n    }\n\n    if (\n      screen.animationKind === AnimationKind.Edit &&\n      blockEditorCanvasItems.length === 1 &&\n      blockEditorCanvasItems[0].content.length >= 3\n    ) {\n      const source = images.tutorial.short_instructions_box;\n      const instructionsBoxBBox = bBoxOfShortInstructionsBoxForBlockEditor;\n      const instructionsText = getUiText(\n        language,\n        UiTextKind.TutorialLevel1Part4_PressView\n      );\n      return {\n        kind: CanvasElementKind.Group,\n        children: [\n          {\n            kind: CanvasElementKind.Image,\n            source,\n            dx: instructionsBoxBBox.topLeft.x,\n            dy: instructionsBoxBBox.topLeft.y,\n            dw: instructionsBoxBBox.dimensions.width,\n            dh: instructionsBoxBBox.dimensions.height,\n          },\n          this.renderTextAndIconsAroundCenter(\n            instructionsText,\n            getRectCenter(instructionsBoxBBox)\n          ),\n        ],\n      };\n    }\n\n    if (\n      screen.animationKind === AnimationKind.PauseBattle &&\n      isReadyToExecuteCode\n    ) {\n      const [protectedAreaScalePoint, protectedAreaScale] =\n        this.getBattleScreenProtectedAreaScalePointAndScaleFactor();\n\n      const source = images.tutorial.short_instructions_box;\n      const instructionsBoxBBox = bBoxOfShortInstructionsBoxForCastleBackground;\n      const instructionsText = getUiText(\n        language,\n        UiTextKind.TutorialLevel1Part5_PressPlay\n      );\n\n      return {\n        kind: CanvasElementKind.Group,\n        transform: [\n          {\n            kind: TransformKind.Translate,\n            x: protectedAreaScalePoint.x,\n            y: protectedAreaScalePoint.y,\n          },\n          {\n            kind: TransformKind.Scale,\n            x: protectedAreaScale,\n            y: protectedAreaScale,\n          },\n          {\n            kind: TransformKind.Translate,\n            x: -protectedAreaScalePoint.x,\n            y: -protectedAreaScalePoint.y,\n          },\n        ],\n        children: [\n          {\n            kind: CanvasElementKind.Image,\n            source,\n            dx: instructionsBoxBBox.topLeft.x,\n            dy: instructionsBoxBBox.topLeft.y,\n            dw: instructionsBoxBBox.dimensions.width,\n            dh: instructionsBoxBBox.dimensions.height,\n          },\n          this.renderTextAndIconsAroundCenter(\n            instructionsText,\n            getRectCenter(instructionsBoxBBox)\n          ),\n        ],\n      };\n    }\n\n    return NULL_CANVAS_ELEMENT;\n  }\n\n  renderLevel2TutorialCanvasElementAssumingNoBlockEditorUiAction(): CanvasElement {\n    const { screen, language, appWidth, appHeight } = this.state;\n\n    if (screen.animationKind !== AnimationKind.PauseBattle) {\n      return NULL_CANVAS_ELEMENT;\n    }\n\n    const blockEditorCanvasItems = screen.blockEditor.canvas.items;\n    const isBlockCanvasInInitialState =\n      blockEditorCanvasItems.length === 1 &&\n      blockEditorCanvasItems[0].content.length === 1;\n\n    const backgroundImageScale = appWidth / SIZING.castleInteriorImage.width;\n\n    const bBoxOfTallInstructionsBoxForCastleBackground: Rectangle =\n      ((): Rectangle => {\n        const source = images.tutorial.tall_instructions_box;\n        const width = 500 * backgroundImageScale;\n        const height = width * (source.naturalHeight / source.naturalWidth);\n        return {\n          topLeft: {\n            x: 50 * backgroundImageScale,\n            y: Math.max(-0.26 * height, appHeight - 600 * backgroundImageScale),\n          },\n          dimensions: {\n            width,\n            height,\n          },\n        };\n      })();\n\n    const [protectedAreaScalePoint, protectedAreaScale] =\n      this.getBattleScreenProtectedAreaScalePointAndScaleFactor();\n    const protectedAreaTransform: readonly Transform[] = [\n      {\n        kind: TransformKind.Translate,\n        x: protectedAreaScalePoint.x,\n        y: protectedAreaScalePoint.y,\n      },\n      {\n        kind: TransformKind.Scale,\n        x: protectedAreaScale,\n        y: protectedAreaScale,\n      },\n      {\n        kind: TransformKind.Translate,\n        x: -protectedAreaScalePoint.x,\n        y: -protectedAreaScalePoint.y,\n      },\n    ];\n\n    const instructionsBoxSource = images.tutorial.tall_instructions_box;\n    const instructionBoxBBox = bBoxOfTallInstructionsBoxForCastleBackground;\n    const instructionsBoxCanvasElement: CanvasImage = {\n      kind: CanvasElementKind.Image,\n      source: instructionsBoxSource,\n      dx: instructionBoxBBox.topLeft.x,\n      dy: instructionBoxBBox.topLeft.y,\n      dw: instructionBoxBBox.dimensions.width,\n      dh: instructionBoxBBox.dimensions.height,\n    };\n\n    if (isBlockCanvasInInitialState) {\n      const instructionsText = getUiText(\n        language,\n        UiTextKind.TutorialLevel2Part1_MoveTheHero\n      );\n      return {\n        kind: CanvasElementKind.Group,\n        transform: protectedAreaTransform,\n        children: [\n          instructionsBoxCanvasElement,\n          this.renderTextAndIconsAroundCenter(\n            instructionsText,\n            getRectCenter(instructionBoxBBox)\n          ),\n        ],\n      };\n    }\n\n    return NULL_CANVAS_ELEMENT;\n  }\n\n  renderDefaultMissionMessageCanvasElementAssumingNoBlockEditorUiAction(): CanvasElement {\n    const { screen, language, appWidth, appHeight } = this.state;\n\n    if (screen.animationKind !== AnimationKind.PauseBattle) {\n      return NULL_CANVAS_ELEMENT;\n    }\n\n    const blockEditorCanvasItems = screen.blockEditor.canvas.items;\n    const isBlockCanvasInInitialState =\n      blockEditorCanvasItems.length === 1 &&\n      blockEditorCanvasItems[0].content.length === 1;\n\n    if (!isBlockCanvasInInitialState) {\n      return NULL_CANVAS_ELEMENT;\n    }\n\n    const backgroundImageScale = appWidth / SIZING.castleInteriorImage.width;\n\n    const bBoxOfShortInstructionsBoxForCastleBackground: Rectangle =\n      ((): Rectangle => {\n        const source = images.tutorial.short_instructions_box;\n        const width = 650 * backgroundImageScale;\n        const height = width * (source.naturalHeight / source.naturalWidth);\n        return {\n          topLeft: {\n            x: 20 * backgroundImageScale,\n            y: Math.max(-0.3 * height, appHeight - 600 * backgroundImageScale),\n          },\n          dimensions: { width, height },\n        };\n      })();\n\n    const [protectedAreaScalePoint, protectedAreaScale] =\n      this.getBattleScreenProtectedAreaScalePointAndScaleFactor();\n    const protectedAreaTransform: readonly Transform[] = [\n      {\n        kind: TransformKind.Translate,\n        x: protectedAreaScalePoint.x,\n        y: protectedAreaScalePoint.y,\n      },\n      {\n        kind: TransformKind.Scale,\n        x: protectedAreaScale,\n        y: protectedAreaScale,\n      },\n      {\n        kind: TransformKind.Translate,\n        x: -protectedAreaScalePoint.x,\n        y: -protectedAreaScalePoint.y,\n      },\n    ];\n\n    const instructionsBoxSource = images.tutorial.short_instructions_box;\n    const instructionBoxBBox = bBoxOfShortInstructionsBoxForCastleBackground;\n    const instructionsBoxCanvasElement: CanvasImage = {\n      kind: CanvasElementKind.Image,\n      source: instructionsBoxSource,\n      dx: instructionBoxBBox.topLeft.x,\n      dy: instructionBoxBBox.topLeft.y,\n      dw: instructionBoxBBox.dimensions.width,\n      dh: instructionBoxBBox.dimensions.height,\n    };\n\n    const enemyCombinationKind =\n      getEnemyCombinationKindOfEnemiesInitiallyBlockingHeroFromStairs(\n        this.state.screen.level\n      );\n\n    if (enemyCombinationKind === \"NoEnemies\") {\n      return NULL_CANVAS_ELEMENT;\n    }\n\n    const instructionsText =\n      LOCALIZED_USE_CODE_TO_DEFEAT_ENEMIES_AND_MOVE_HERO_TO_STAIRS_MESSAGE_TEXT[\n        language\n      ][enemyCombinationKind];\n    return {\n      kind: CanvasElementKind.Group,\n      transform: protectedAreaTransform,\n      children: [\n        instructionsBoxCanvasElement,\n        this.renderTextAndIconsAroundCenter(\n          instructionsText,\n          getRectCenter(instructionBoxBBox)\n        ),\n      ],\n    };\n  }\n\n  renderLevel9TutorialCanvasElementAssumingNoBlockEditorUiAction(): CanvasElement {\n    const { screen, language, appWidth, appHeight } = this.state;\n    const blockEditorCanvasItems = screen.blockEditor.canvas.items;\n    const hasUserEditedLiteral = blockEditorCanvasItems.some((item) =>\n      doesBlockSequenceContainNonEmptyLiteral(item.content)\n    );\n    const backgroundImageScale = appWidth / SIZING.castleInteriorImage.width;\n\n    if (hasUserEditedLiteral) {\n      return NULL_CANVAS_ELEMENT;\n    }\n\n    if (screen.animationKind !== AnimationKind.Edit) {\n      return NULL_CANVAS_ELEMENT;\n    }\n\n    const instructionBoxBBox = ((): Rectangle => {\n      const source = images.tutorial.short_instructions_box;\n      const instructionsWidth = 650 * backgroundImageScale;\n      const instructionsHeight =\n        instructionsWidth * (source.naturalHeight / source.naturalWidth);\n      return {\n        topLeft: {\n          x: appWidth - instructionsWidth - 20 * backgroundImageScale,\n          y: appHeight - instructionsHeight - 20 * backgroundImageScale,\n        },\n        dimensions: { width: instructionsWidth, height: instructionsHeight },\n      };\n    })();\n\n    const fingerWidth = 60;\n    const fingerHeight =\n      fingerWidth *\n      (images.tutorial.finger.naturalHeight /\n        images.tutorial.finger.naturalWidth);\n\n    const blockEditorProps: BlockEditorProps<BlockKind> = {\n      config: this.getMainBlockEditorConfig(),\n      state: this.state.screen.blockEditor,\n      measureText: this.measureSvgText,\n      setState: noOp,\n    };\n    const paletteSpecs = getPaletteBlockRenderSpecs(blockEditorProps);\n    const paletteLessThanBlockRbox = paletteSpecs.find(\n      (spec) => spec.block.kind === BlockKind.LessThan\n    )!.rbox;\n    const paletteLessThanBlockRboxTop = paletteLessThanBlockRbox.topLeft.y;\n    const paletteLessThanBlockRboxBottom =\n      paletteLessThanBlockRbox.topLeft.y +\n      paletteLessThanBlockRbox.dimensions.height;\n    const PADDING = 20 + 0.3 * fingerHeight;\n    const MAX_RBOX_RIGHT = 165;\n    const requiredPaletteScrollYForLessThanBlock =\n      paletteLessThanBlockRboxTop < 0\n        ? -paletteLessThanBlockRboxTop + PADDING\n        : paletteLessThanBlockRboxBottom > appHeight\n        ? appHeight - paletteLessThanBlockRboxBottom - PADDING\n        : 0;\n    const { canvas } = screen.blockEditor;\n    const totalScroll =\n      canvas.scrollInProgress === null\n        ? canvas.scroll\n        : {\n            x:\n              canvas.scroll.x +\n              canvas.scrollInProgress.currentClientPosition.x -\n              canvas.scrollInProgress.startClientPosition.x,\n            y:\n              canvas.scroll.y +\n              canvas.scrollInProgress.currentClientPosition.y -\n              canvas.scrollInProgress.startClientPosition.y,\n          };\n    const onScreenEmptyLessThanBlockSpec =\n      ((): null | BlockRenderSpec<BlockKind> => {\n        function isOnScreenEmptyLessThanBlockSpec(\n          spec: BlockRenderSpec<BlockKind>\n        ): boolean {\n          const translatedTopLeft = addVec(totalScroll, spec.rbox.topLeft);\n          const left = translatedTopLeft.x;\n          const top = translatedTopLeft.y;\n          const right = left + spec.rbox.dimensions.width;\n          const bottom = top + spec.rbox.dimensions.height;\n          const isOnScreen =\n            0 <= left && right <= appWidth && 0 <= top && bottom <= appHeight;\n\n          const isEmpty = spec.block.args.expressions.every(\n            (expr) => expr.isLiteral && expr.source === \"\"\n          );\n\n          return (\n            isOnScreen && spec.block.kind === BlockKind.LessThan && isEmpty\n          );\n        }\n\n        const specs = getCanvasItemRenderSpecs(blockEditorProps);\n        for (const seqSpec of specs) {\n          const blockSpec = getBlockSpecFromBlockSequenceSpecSatisfying(\n            seqSpec,\n            isOnScreenEmptyLessThanBlockSpec\n          );\n          if (blockSpec !== null) {\n            return blockSpec;\n          }\n        }\n\n        return null;\n      })();\n    const onScreenLessThanWithHealthLhsAndEmptyRhsBlockSpec =\n      ((): null | BlockRenderSpec<BlockKind> => {\n        function isOnScreenLessThanWithHealthLhsAndEmptyRhsBlockSpec(\n          spec: BlockRenderSpec<BlockKind>\n        ): boolean {\n          const translatedTopLeft = addVec(totalScroll, spec.rbox.topLeft);\n          const left = translatedTopLeft.x;\n          const top = translatedTopLeft.y;\n          const right = left + spec.rbox.dimensions.width;\n          const bottom = top + spec.rbox.dimensions.height;\n          const isOnScreen =\n            0 <= left && right <= appWidth && 0 <= top && bottom <= appHeight;\n\n          const lhs = spec.block.args.expressions[0];\n          const isLhsHealthBlock =\n            lhs !== undefined &&\n            !lhs.isLiteral &&\n            lhs.kind === BlockKind.Health;\n\n          const rhs = spec.block.args.expressions[1];\n          const isRhsEmptyLiteral =\n            rhs !== undefined && rhs.isLiteral && rhs.source === \"\";\n\n          return (\n            isOnScreen &&\n            spec.block.kind === BlockKind.LessThan &&\n            isLhsHealthBlock &&\n            isRhsEmptyLiteral\n          );\n        }\n\n        const specs = getCanvasItemRenderSpecs(blockEditorProps);\n        for (const seqSpec of specs) {\n          const blockSpec = getBlockSpecFromBlockSequenceSpecSatisfying(\n            seqSpec,\n            isOnScreenLessThanWithHealthLhsAndEmptyRhsBlockSpec\n          );\n          if (blockSpec !== null) {\n            return blockSpec;\n          }\n        }\n\n        return null;\n      })();\n\n    if (\n      onScreenEmptyLessThanBlockSpec === null &&\n      onScreenLessThanWithHealthLhsAndEmptyRhsBlockSpec === null &&\n      requiredPaletteScrollYForLessThanBlock !== 0\n    ) {\n      const longSpecRboxes = paletteSpecs\n        .map((spec) => spec.rbox)\n        .filter((rbox) => {\n          const right = rbox.topLeft.x + rbox.dimensions.width;\n          return right > MAX_RBOX_RIGHT;\n        });\n      const unpaddedExclusionZones = [\n        { topLeft: { x: 0, y: 0 }, dimensions: { width: 0, height: 0 } },\n        ...longSpecRboxes,\n        {\n          topLeft: {\n            x: 0,\n            y:\n              paletteSpecs[paletteSpecs.length - 1].rbox.topLeft.y +\n              paletteSpecs[paletteSpecs.length - 1].rbox.dimensions.height,\n          },\n          dimensions: { width: 0, height: 0 },\n        },\n      ];\n      const CANDIDATE_STEP = 10;\n      const highestDragStartYCandidate = ((): number => {\n        for (let y = PADDING; y < appHeight - PADDING; y += CANDIDATE_STEP) {\n          const inExclusionZone = unpaddedExclusionZones.some((zone) => {\n            const top = zone.topLeft.y - PADDING;\n            const bottom = zone.topLeft.y + zone.dimensions.height + PADDING;\n            return top <= y && y <= bottom;\n          });\n          if (!inExclusionZone) {\n            return y;\n          }\n        }\n\n        throw new Error(\"Could not find a dragStartYCandidate.\");\n      })();\n      const lowestDragStartYCandidate = ((): number => {\n        for (let y = appHeight - PADDING; y >= PADDING; y -= CANDIDATE_STEP) {\n          const inExclusionZone = unpaddedExclusionZones.some((zone) => {\n            const top = zone.topLeft.y - PADDING;\n            const bottom = zone.topLeft.y + zone.dimensions.height + PADDING;\n            return top <= y && y <= bottom;\n          });\n          if (!inExclusionZone) {\n            return y;\n          }\n        }\n\n        throw new Error(\"Could not find a dragStartYCandidate.\");\n      })();\n      const dragStart = {\n        x: MAX_RBOX_RIGHT,\n        y:\n          requiredPaletteScrollYForLessThanBlock < 0\n            ? lowestDragStartYCandidate\n            : highestDragStartYCandidate,\n      };\n      const dragEnd = addVec(dragStart, {\n        x: 0,\n        y: requiredPaletteScrollYForLessThanBlock,\n      });\n      const instructionsText = getUiText(\n        language,\n        requiredPaletteScrollYForLessThanBlock < 0\n          ? UiTextKind.TutorialLevel9Part1_ScrollDown\n          : UiTextKind.TutorialLevel9Part2_ScrollUp\n      );\n\n      const { screen } = this.state;\n      const secondsElapsedAfterLastEdit = getElapsedSeconds(\n        screen.currentTimestamp,\n        getLaterTimestamp(\n          screen.animationStartTime,\n          screen.mostRecentTutorialBlockEditorUpdateTime\n        )\n      );\n      const secondsIntoDragCycle =\n        secondsElapsedAfterLastEdit %\n        LEVEL_9_TUTORIAL_ANIMATION_CYCLE.paletteScroll.totalDurationInSeconds;\n      const movingPhaseDurationInSeconds =\n        LEVEL_9_TUTORIAL_ANIMATION_CYCLE.paletteScroll.dragEndTimeInSeconds -\n        LEVEL_9_TUTORIAL_ANIMATION_CYCLE.paletteScroll.dragStartTimeInSeconds;\n      const completionFactor = Math.max(\n        0,\n        Math.min(\n          1,\n          (secondsIntoDragCycle -\n            LEVEL_9_TUTORIAL_ANIMATION_CYCLE.paletteScroll\n              .dragStartTimeInSeconds) /\n            movingPhaseDurationInSeconds\n        )\n      );\n      const fingerDisplacement = scaleVec(\n        subVec(dragEnd, dragStart),\n        completionFactor\n      );\n      const fingerPosition = addVec(dragStart, fingerDisplacement);\n      const isAnimationInDragPhase =\n        LEVEL_9_TUTORIAL_ANIMATION_CYCLE.paletteScroll\n          .fingerDownTimeInSeconds <= secondsIntoDragCycle &&\n        secondsIntoDragCycle <=\n          LEVEL_9_TUTORIAL_ANIMATION_CYCLE.paletteScroll.fingerUpTimeInSeconds;\n\n      return {\n        kind: CanvasElementKind.Group,\n        children: [\n          {\n            kind: CanvasElementKind.Image,\n            source: images.tutorial.short_instructions_box,\n            dx: instructionBoxBBox.topLeft.x,\n            dy: instructionBoxBBox.topLeft.y,\n            dw: instructionBoxBBox.dimensions.width,\n            dh: instructionBoxBBox.dimensions.height,\n          },\n          this.renderTextAndIconsAroundCenter(\n            instructionsText,\n            getRectCenter(instructionBoxBBox)\n          ),\n          screen.blockEditor.uiTouch === null && isAnimationInDragPhase\n            ? {\n                kind: CanvasElementKind.Image,\n                source: images.tutorial.finger,\n                dx: fingerPosition.x,\n                dy: fingerPosition.y,\n                dw: fingerWidth,\n                dh: fingerHeight,\n              }\n            : NULL_CANVAS_ELEMENT,\n        ],\n      };\n    }\n\n    if (\n      onScreenEmptyLessThanBlockSpec === null &&\n      onScreenLessThanWithHealthLhsAndEmptyRhsBlockSpec === null &&\n      requiredPaletteScrollYForLessThanBlock === 0\n    ) {\n      const paletteLessThanBlockRboxMiddle = getRectCenter(\n        paletteLessThanBlockRbox\n      );\n      const dragStart = paletteLessThanBlockRboxMiddle;\n      const fingerStart = addVec(dragStart, {\n        x: -0.1 * fingerWidth,\n        y: -0.2 * fingerHeight,\n      });\n      const instructionsText = getUiText(\n        language,\n        UiTextKind.TutorialLevel9Part3_DragLessThan\n      );\n      const fingerEnd =\n        LEVEL_9_TUTORIAL_ANIMATION_CYCLE.paletteToCanvasDrag\n          .lessThanBlockDragEnd;\n      const { screen } = this.state;\n      const secondsElapsedAfterLastEdit = getElapsedSeconds(\n        screen.currentTimestamp,\n        getLaterTimestamp(\n          screen.animationStartTime,\n          screen.mostRecentTutorialBlockEditorUpdateTime\n        )\n      );\n      const secondsIntoDragCycle =\n        secondsElapsedAfterLastEdit %\n        LEVEL_9_TUTORIAL_ANIMATION_CYCLE.paletteToCanvasDrag\n          .totalDurationInSeconds;\n      const fingerDisplacement = scaleVec(\n        subVec(fingerEnd, fingerStart),\n        Math.min(\n          1,\n          secondsIntoDragCycle /\n            LEVEL_9_TUTORIAL_ANIMATION_CYCLE.paletteToCanvasDrag\n              .movingPhaseDurationInSeconds\n        )\n      );\n      const fingerPosition = addVec(fingerStart, fingerDisplacement);\n      const isAnimationInDragPhase =\n        secondsIntoDragCycle <\n        LEVEL_9_TUTORIAL_ANIMATION_CYCLE.paletteToCanvasDrag\n          .blockReleaseTimeInSeconds;\n      return {\n        kind: CanvasElementKind.Group,\n        children: [\n          {\n            kind: CanvasElementKind.Image,\n            source: images.tutorial.short_instructions_box,\n            dx: instructionBoxBBox.topLeft.x,\n            dy: instructionBoxBBox.topLeft.y,\n            dw: instructionBoxBBox.dimensions.width,\n            dh: instructionBoxBBox.dimensions.height,\n          },\n          this.renderTextAndIconsAroundCenter(\n            instructionsText,\n            getRectCenter(instructionBoxBBox)\n          ),\n          screen.blockEditor.uiTouch === null && isAnimationInDragPhase\n            ? {\n                kind: CanvasElementKind.Image,\n                source: images.tutorial.finger,\n                dx: fingerPosition.x,\n                dy: fingerPosition.y,\n                dw: fingerWidth,\n                dh: fingerHeight,\n              }\n            : NULL_CANVAS_ELEMENT,\n        ],\n      };\n    }\n\n    const paletteHealthBlockRbox = paletteSpecs.find(\n      (spec) => spec.block.kind === BlockKind.Health\n    )!.rbox;\n    const paletteHealthBlockRboxTop = paletteHealthBlockRbox.topLeft.y;\n    const paletteHealthBlockRboxBottom =\n      paletteHealthBlockRbox.topLeft.y +\n      paletteHealthBlockRbox.dimensions.height;\n    const requiredPaletteScrollYForHealthBlock =\n      paletteHealthBlockRboxTop < 0\n        ? -paletteHealthBlockRboxTop + PADDING\n        : paletteHealthBlockRboxBottom > appHeight\n        ? appHeight - paletteHealthBlockRboxBottom - PADDING\n        : 0;\n\n    if (\n      onScreenEmptyLessThanBlockSpec !== null &&\n      onScreenLessThanWithHealthLhsAndEmptyRhsBlockSpec === null &&\n      requiredPaletteScrollYForHealthBlock !== 0\n    ) {\n      const longSpecRboxes = paletteSpecs\n        .map((spec) => spec.rbox)\n        .filter((rbox) => {\n          const right = rbox.topLeft.x + rbox.dimensions.width;\n          return right > MAX_RBOX_RIGHT;\n        });\n      const unpaddedExclusionZones = [\n        { topLeft: { x: 0, y: 0 }, dimensions: { width: 0, height: 0 } },\n        ...longSpecRboxes,\n        {\n          topLeft: {\n            x: 0,\n            y:\n              paletteSpecs[paletteSpecs.length - 1].rbox.topLeft.y +\n              paletteSpecs[paletteSpecs.length - 1].rbox.dimensions.height,\n          },\n          dimensions: { width: 0, height: 0 },\n        },\n      ];\n      const CANDIDATE_STEP = 10;\n      const highestDragStartYCandidate = ((): number => {\n        for (let y = PADDING; y < appHeight - PADDING; y += CANDIDATE_STEP) {\n          const inExclusionZone = unpaddedExclusionZones.some((zone) => {\n            const top = zone.topLeft.y - PADDING;\n            const bottom = zone.topLeft.y + zone.dimensions.height + PADDING;\n            return top <= y && y <= bottom;\n          });\n          if (!inExclusionZone) {\n            return y;\n          }\n        }\n\n        throw new Error(\"Could not find a dragStartYCandidate.\");\n      })();\n      const lowestDragStartYCandidate = ((): number => {\n        for (let y = appHeight - PADDING; y >= PADDING; y -= CANDIDATE_STEP) {\n          const inExclusionZone = unpaddedExclusionZones.some((zone) => {\n            const top = zone.topLeft.y - PADDING;\n            const bottom = zone.topLeft.y + zone.dimensions.height + PADDING;\n            return top <= y && y <= bottom;\n          });\n          if (!inExclusionZone) {\n            return y;\n          }\n        }\n\n        throw new Error(\"Could not find a dragStartYCandidate.\");\n      })();\n      const dragStart = {\n        x: MAX_RBOX_RIGHT,\n        y:\n          requiredPaletteScrollYForLessThanBlock < 0\n            ? lowestDragStartYCandidate\n            : highestDragStartYCandidate,\n      };\n      const dragEnd = addVec(dragStart, {\n        x: 0,\n        y: requiredPaletteScrollYForHealthBlock,\n      });\n      const instructionsText = getUiText(\n        language,\n        requiredPaletteScrollYForHealthBlock < 0\n          ? UiTextKind.TutorialLevel9Part1_ScrollDown\n          : UiTextKind.TutorialLevel9Part2_ScrollUp\n      );\n\n      const { screen } = this.state;\n      const secondsElapsedAfterLastEdit = getElapsedSeconds(\n        screen.currentTimestamp,\n        getLaterTimestamp(\n          screen.animationStartTime,\n          screen.mostRecentTutorialBlockEditorUpdateTime\n        )\n      );\n      const secondsIntoDragCycle =\n        secondsElapsedAfterLastEdit %\n        LEVEL_9_TUTORIAL_ANIMATION_CYCLE.paletteScroll.totalDurationInSeconds;\n      const movingPhaseDurationInSeconds =\n        LEVEL_9_TUTORIAL_ANIMATION_CYCLE.paletteScroll.dragEndTimeInSeconds -\n        LEVEL_9_TUTORIAL_ANIMATION_CYCLE.paletteScroll.dragStartTimeInSeconds;\n      const completionFactor = Math.max(\n        0,\n        Math.min(\n          1,\n          (secondsIntoDragCycle -\n            LEVEL_9_TUTORIAL_ANIMATION_CYCLE.paletteScroll\n              .dragStartTimeInSeconds) /\n            movingPhaseDurationInSeconds\n        )\n      );\n      const fingerDisplacement = scaleVec(\n        subVec(dragEnd, dragStart),\n        completionFactor\n      );\n      const fingerPosition = addVec(dragStart, fingerDisplacement);\n      const isAnimationInDragPhase =\n        LEVEL_9_TUTORIAL_ANIMATION_CYCLE.paletteScroll\n          .fingerDownTimeInSeconds <= secondsIntoDragCycle &&\n        secondsIntoDragCycle <=\n          LEVEL_9_TUTORIAL_ANIMATION_CYCLE.paletteScroll.fingerUpTimeInSeconds;\n\n      return {\n        kind: CanvasElementKind.Group,\n        children: [\n          {\n            kind: CanvasElementKind.Image,\n            source: images.tutorial.short_instructions_box,\n            dx: instructionBoxBBox.topLeft.x,\n            dy: instructionBoxBBox.topLeft.y,\n            dw: instructionBoxBBox.dimensions.width,\n            dh: instructionBoxBBox.dimensions.height,\n          },\n          this.renderTextAndIconsAroundCenter(\n            instructionsText,\n            getRectCenter(instructionBoxBBox)\n          ),\n          screen.blockEditor.uiTouch === null && isAnimationInDragPhase\n            ? {\n                kind: CanvasElementKind.Image,\n                source: images.tutorial.finger,\n                dx: fingerPosition.x,\n                dy: fingerPosition.y,\n                dw: fingerWidth,\n                dh: fingerHeight,\n              }\n            : NULL_CANVAS_ELEMENT,\n        ],\n      };\n    }\n\n    if (\n      onScreenEmptyLessThanBlockSpec !== null &&\n      onScreenLessThanWithHealthLhsAndEmptyRhsBlockSpec === null &&\n      requiredPaletteScrollYForHealthBlock === 0\n    ) {\n      const paletteHealthBlockRboxMiddle = getRectCenter(\n        paletteHealthBlockRbox\n      );\n      const dragStart = paletteHealthBlockRboxMiddle;\n      const fingerStart = addVec(dragStart, {\n        x: -0.1 * fingerWidth,\n        y: -0.2 * fingerHeight,\n      });\n      const instructionsText = getUiText(\n        language,\n        UiTextKind.TutorialLevel9Part4_DragHealth\n      );\n      const fingerEnd = addVec(totalScroll, {\n        x:\n          onScreenEmptyLessThanBlockSpec.rbox.topLeft.x +\n          SIZING.blockPadding +\n          0.3 * fingerWidth,\n        y:\n          onScreenEmptyLessThanBlockSpec.rbox.topLeft.y +\n          0.5 * onScreenEmptyLessThanBlockSpec.rbox.dimensions.height -\n          0.2 * fingerHeight,\n      });\n      const { screen } = this.state;\n      const secondsElapsedAfterLastEdit = getElapsedSeconds(\n        screen.currentTimestamp,\n        getLaterTimestamp(\n          screen.animationStartTime,\n          screen.mostRecentTutorialBlockEditorUpdateTime\n        )\n      );\n      const secondsIntoDragCycle =\n        secondsElapsedAfterLastEdit %\n        LEVEL_9_TUTORIAL_ANIMATION_CYCLE.paletteToCanvasDrag\n          .totalDurationInSeconds;\n      const fingerDisplacement = scaleVec(\n        subVec(fingerEnd, fingerStart),\n        Math.min(\n          1,\n          secondsIntoDragCycle /\n            LEVEL_9_TUTORIAL_ANIMATION_CYCLE.paletteToCanvasDrag\n              .movingPhaseDurationInSeconds\n        )\n      );\n      const fingerPosition = addVec(fingerStart, fingerDisplacement);\n      const isAnimationInDragPhase =\n        secondsIntoDragCycle <\n        LEVEL_9_TUTORIAL_ANIMATION_CYCLE.paletteToCanvasDrag\n          .blockReleaseTimeInSeconds;\n      return {\n        kind: CanvasElementKind.Group,\n        children: [\n          {\n            kind: CanvasElementKind.Image,\n            source: images.tutorial.short_instructions_box,\n            dx: instructionBoxBBox.topLeft.x,\n            dy: instructionBoxBBox.topLeft.y,\n            dw: instructionBoxBBox.dimensions.width,\n            dh: instructionBoxBBox.dimensions.height,\n          },\n          this.renderTextAndIconsAroundCenter(\n            instructionsText,\n            getRectCenter(instructionBoxBBox)\n          ),\n          screen.blockEditor.uiTouch === null && isAnimationInDragPhase\n            ? {\n                kind: CanvasElementKind.Image,\n                source: images.tutorial.finger,\n                dx: fingerPosition.x,\n                dy: fingerPosition.y,\n                dw: fingerWidth,\n                dh: fingerHeight,\n              }\n            : NULL_CANVAS_ELEMENT,\n        ],\n      };\n    }\n\n    if (onScreenLessThanWithHealthLhsAndEmptyRhsBlockSpec !== null) {\n      const instructionsText = getUiText(\n        language,\n        UiTextKind.TutorialLevel9Part5_Type20\n      );\n\n      const { screen } = this.state;\n      const secondsElapsedAfterLastEdit = getElapsedSeconds(\n        screen.currentTimestamp,\n        getLaterTimestamp(\n          screen.animationStartTime,\n          screen.mostRecentTutorialBlockEditorUpdateTime\n        )\n      );\n      const completionFactor =\n        0.5 +\n        0.5 *\n          Math.sin(\n            (2 * Math.PI * secondsElapsedAfterLastEdit) /\n              LEVEL_9_TUTORIAL_ANIMATION_CYCLE.literalTap.fingerFlashPeriod\n          );\n      const fingerPosition = addVec(totalScroll, {\n        x:\n          onScreenLessThanWithHealthLhsAndEmptyRhsBlockSpec.rbox.topLeft.x +\n          onScreenLessThanWithHealthLhsAndEmptyRhsBlockSpec.rbox.dimensions\n            .width -\n          SIZING.blockPadding -\n          0.3 * fingerWidth,\n        y:\n          onScreenLessThanWithHealthLhsAndEmptyRhsBlockSpec.rbox.topLeft.y +\n          0.5 *\n            onScreenLessThanWithHealthLhsAndEmptyRhsBlockSpec.rbox.dimensions\n              .height -\n          0.2 * fingerHeight,\n      });\n\n      return {\n        kind: CanvasElementKind.Group,\n        children: [\n          {\n            kind: CanvasElementKind.Image,\n            source: images.tutorial.short_instructions_box,\n            dx: instructionBoxBBox.topLeft.x,\n            dy: instructionBoxBBox.topLeft.y,\n            dw: instructionBoxBBox.dimensions.width,\n            dh: instructionBoxBBox.dimensions.height,\n          },\n          this.renderTextAndIconsAroundCenter(\n            instructionsText,\n            getRectCenter(instructionBoxBBox)\n          ),\n          {\n            kind: CanvasElementKind.Group,\n            alpha: completionFactor,\n            children: [\n              {\n                kind: CanvasElementKind.Image,\n                source: images.tutorial.finger,\n                dx: fingerPosition.x,\n                dy: fingerPosition.y,\n                dw: fingerWidth,\n                dh: fingerHeight,\n              },\n            ],\n          },\n        ],\n      };\n    }\n\n    return NULL_CANVAS_ELEMENT;\n  }\n\n  renderKilledEnemiesButForgotToMoveHeroToStairsHintIfNeeded(): CanvasElement {\n    const { language, appWidth, appHeight } = this.state;\n\n    const [protectedAreaScalePoint, protectedAreaScale] =\n      this.getBattleScreenProtectedAreaScalePointAndScaleFactor();\n    const protectedAreaTransform: readonly Transform[] = [\n      {\n        kind: TransformKind.Translate,\n        x: protectedAreaScalePoint.x,\n        y: protectedAreaScalePoint.y,\n      },\n      {\n        kind: TransformKind.Scale,\n        x: protectedAreaScale,\n        y: protectedAreaScale,\n      },\n      {\n        kind: TransformKind.Translate,\n        x: -protectedAreaScalePoint.x,\n        y: -protectedAreaScalePoint.y,\n      },\n    ];\n\n    const backgroundImageScale = appWidth / SIZING.castleInteriorImage.width;\n    const bBoxOfTallInstructionsBoxForCastleBackground: Rectangle =\n      ((): Rectangle => {\n        const source = images.tutorial.tall_instructions_box;\n        const width = 500 * backgroundImageScale;\n        const height = width * (source.naturalHeight / source.naturalWidth);\n        return {\n          topLeft: {\n            x: 50 * backgroundImageScale,\n            y: Math.max(-0.26 * height, appHeight - 600 * backgroundImageScale),\n          },\n          dimensions: {\n            width,\n            height,\n          },\n        };\n      })();\n\n    const instructionsBoxSource = images.tutorial.tall_instructions_box;\n    const instructionBoxBBox = bBoxOfTallInstructionsBoxForCastleBackground;\n    const instructionsBoxCanvasElement: CanvasImage = {\n      kind: CanvasElementKind.Image,\n      source: instructionsBoxSource,\n      dx: instructionBoxBBox.topLeft.x,\n      dy: instructionBoxBBox.topLeft.y,\n      dw: instructionBoxBBox.dimensions.width,\n      dh: instructionBoxBBox.dimensions.height,\n    };\n\n    const battleAnimationData = this.getCurrentLevelBattleAnimationData();\n    if (battleAnimationData.didHeroDefeatAllEnemiesButForgetToMoveToStairs) {\n      const enemyCombinationKind =\n        getEnemyCombinationKindOfEnemiesInitiallyBlockingHeroFromStairs(\n          this.state.screen.level\n        );\n\n      if (enemyCombinationKind === \"NoEnemies\") {\n        return NULL_CANVAS_ELEMENT;\n      }\n\n      const instructionsText =\n        LOCALIZED_DEFEATED_ENEMIES_BUT_FORGOT_TO_MOVE_HERO_TO_STAIRS_MESSAGE_TEXT[\n          language\n        ][enemyCombinationKind];\n      return {\n        kind: CanvasElementKind.Group,\n        transform: protectedAreaTransform,\n        children: [\n          instructionsBoxCanvasElement,\n          this.renderTextAndIconsAroundCenter(\n            instructionsText,\n            getRectCenter(instructionBoxBBox)\n          ),\n        ],\n      };\n    }\n\n    return NULL_CANVAS_ELEMENT;\n  }\n\n  getTutorialBlockEditorConfig(): BlockEditorConfig<TutorialBlockKind> {\n    const colors: BlockEditorColorProps<TutorialBlockKind> = {\n      ...TUTORIAL_BLOCK_EDITOR_STATIC_CONFIG.colors,\n      unreachableBlocks: this.getLevel9DragStatus().needsHealthBlockDrag\n        ? {\n            ...MAIN_BLOCK_EDITOR_STATIC_CONFIG.colors.unreachableBlocks,\n            [BlockKind.Health]: mapTriplet(\n              MAIN_BLOCK_EDITOR_STATIC_CONFIG.colors.unreachableBlocks[\n                BlockKind.Health\n              ],\n              (unreachableBlockColor) =>\n                compositeColor32(\n                  { ...unreachableBlockColor, a: 0xc0 },\n                  MAIN_BLOCK_EDITOR_STATIC_CONFIG.colors.blockLiteralBackground\n                )\n            ),\n          }\n        : TUTORIAL_BLOCK_EDITOR_STATIC_CONFIG.colors.unreachableBlocks,\n    };\n    return {\n      ...this.getMainBlockEditorConfig(),\n      componentInstanceUid: this.tutorialBlockEditorComponentInstanceUid,\n      colors,\n      defs: getLocalizedTutorialBlockDefs(this.state.language),\n    };\n  }\n\n  getTutorialBlockEditorState(): BlockEditorState<TutorialBlockKind> {\n    const { screen } = this.state;\n\n    if (screen.level === Level.Level1) {\n      return this.getTutorialBlockEditorStateAssumingLevel1();\n    }\n\n    if (screen.level === Level.Level9) {\n      return this.getTutorialBlockEditorStateAssumingLevel9();\n    }\n\n    const EMPTY_BLOCK_EDITOR_STATE: BlockEditorState<TutorialBlockKind> = {\n      palette: {\n        blockKinds: [],\n        scroll: { x: 0, y: 0 },\n        scrollInProgress: null,\n      },\n      uiTouch: null,\n      literalEditor: null,\n      dropdownMenu: null,\n      canvas: {\n        items: [],\n        scroll: { x: 0, y: 0 },\n        scrollInProgress: null,\n      },\n      cursor: \"default\",\n    };\n\n    return EMPTY_BLOCK_EDITOR_STATE;\n  }\n\n  getTutorialBlockEditorStateAssumingLevel1(): BlockEditorState<TutorialBlockKind> {\n    const { appHeight, screen } = this.state;\n    const { canvas } = screen.blockEditor;\n    const entryPoint = canvas.items.find(\n      (item) =>\n        item.content.length > 0 &&\n        item.content[0].kind === BlockKind.WhenBattleStarts\n    )!;\n\n    if (entryPoint.content.length > 2) {\n      return {\n        palette: {\n          blockKinds: [],\n          scroll: { x: 0, y: 0 },\n          scrollInProgress: null,\n        },\n        uiTouch: null,\n        literalEditor: null,\n        dropdownMenu: null,\n        canvas: {\n          items: [],\n          scroll: { x: 0, y: 0 },\n          scrollInProgress: null,\n        },\n        cursor: \"default\",\n      };\n    }\n\n    const fingerWidth = 60;\n    const fingerHeight =\n      fingerWidth *\n      (images.tutorial.finger.naturalHeight /\n        images.tutorial.finger.naturalWidth);\n    const readonlyMainBlockEditorProps: BlockEditorProps<BlockKind> = {\n      config: this.getMainBlockEditorConfig(),\n      state: this.state.screen.blockEditor,\n      measureText: this.measureSvgText,\n      setState: noOp,\n    };\n    const paletteSpecs = getPaletteBlockRenderSpecs(\n      readonlyMainBlockEditorProps\n    );\n\n    const paletteMoveForwardBlockRbox = paletteSpecs.find(\n      (spec) => spec.block.kind === BlockKind.MoveForward\n    )!.rbox;\n\n    const secondsElapsedAfterLastEdit = getElapsedSeconds(\n      screen.currentTimestamp,\n      getLaterTimestamp(\n        screen.animationStartTime,\n        screen.mostRecentTutorialBlockEditorUpdateTime\n      )\n    );\n    const secondsIntoDragCycle =\n      secondsElapsedAfterLastEdit %\n      LEVEL_1_TUTORIAL_DRAG_CYCLE.totalDurationInSeconds;\n    const showInsertionMark =\n      LEVEL_1_TUTORIAL_DRAG_CYCLE.insertionMarkTimeInSeconds <\n        secondsIntoDragCycle &&\n      secondsIntoDragCycle <\n        LEVEL_1_TUTORIAL_DRAG_CYCLE.blockReleaseTimeInSeconds;\n    const isDragging =\n      secondsIntoDragCycle <\n      LEVEL_1_TUTORIAL_DRAG_CYCLE.blockReleaseTimeInSeconds;\n\n    const offscreenBlockPosition: Vec2 = { x: 0, y: appHeight };\n    const [fingerStart, fingerEnd] = ((): [Vec2, Vec2] => {\n      const paletteMoveForwardBlockRboxMiddle = getRectCenter(\n        paletteMoveForwardBlockRbox\n      );\n      const dragStart = paletteMoveForwardBlockRboxMiddle;\n      const fingerStart = addVec(dragStart, {\n        x: -0.1 * fingerWidth,\n        y: -0.2 * fingerHeight,\n      });\n      const fingerEnd =\n        entryPoint.content.length === 1\n          ? LEVEL_1_TUTORIAL_DRAG_CYCLE.firstDragEnd\n          : LEVEL_1_TUTORIAL_DRAG_CYCLE.secondDragEnd;\n      return [fingerStart, fingerEnd];\n    })();\n    const dragStart = { x: 0, y: 0 };\n    const startDisplacement = subVec(\n      paletteMoveForwardBlockRbox.topLeft,\n      offscreenBlockPosition\n    );\n    const endDisplacement = addVec(\n      startDisplacement,\n      subVec(fingerEnd, fingerStart)\n    );\n    const dragDisplacement = addVec(\n      startDisplacement,\n      scaleVec(\n        subVec(endDisplacement, startDisplacement),\n        Math.min(\n          1,\n          secondsIntoDragCycle /\n            LEVEL_1_TUTORIAL_DRAG_CYCLE.movingPhaseDurationInSeconds\n        )\n      )\n    );\n\n    const offscreenMoveForward: CanvasItem<TutorialBlockKind> = {\n      position: offscreenBlockPosition,\n      content: [\n        {\n          isLiteral: false,\n          kind: BlockKind.MoveForward,\n          args: {\n            expressions: [\n              { isLiteral: true, source: \"\" },\n              { isLiteral: true, source: \"\" },\n            ],\n            dropdowns: [],\n            sequences: [],\n          },\n        },\n      ],\n    };\n\n    const onscreenWhenBattleStarts: CanvasItem<TutorialBlockKind> = {\n      position: entryPoint.position,\n      content: (\n        entryPoint.content as readonly Block<TutorialBlockKind>[]\n      ).slice(0, 1),\n    };\n\n    const onscreenWhenBattleStartsMoveForward: CanvasItem<TutorialBlockKind> = {\n      ...onscreenWhenBattleStarts,\n      content: onscreenWhenBattleStarts.content.concat([\n        {\n          isLiteral: false,\n          kind: BlockKind.MoveForward,\n          args: {\n            expressions: [],\n            dropdowns: [],\n            sequences: [],\n          },\n        },\n      ]),\n    };\n\n    const onscreenWhenBattleStartsMoveForwardTwice: CanvasItem<TutorialBlockKind> =\n      {\n        ...onscreenWhenBattleStarts,\n        content: onscreenWhenBattleStarts.content.concat([\n          {\n            isLiteral: false,\n            kind: BlockKind.MoveForward,\n            args: {\n              expressions: [],\n              dropdowns: [],\n              sequences: [],\n            },\n          },\n          {\n            isLiteral: false,\n            kind: BlockKind.MoveForward,\n            args: {\n              expressions: [],\n              dropdowns: [],\n              sequences: [],\n            },\n          },\n        ]),\n      };\n\n    const unsafeUiTouch: UiTouchState = {\n      kind: UiTouchStateKind.BlockDrag,\n      hasPositionChangedSinceDragStart: true,\n      draggeeOriginalAddress: [CANVAS_ADDRESS_PART, 0, 0],\n      insertionMarkAddress:\n        entryPoint.content.length === 1 && showInsertionMark\n          ? [CANVAS_ADDRESS_PART, 1, 1]\n          : entryPoint.content.length === 2 && showInsertionMark\n          ? [CANVAS_ADDRESS_PART, 1, 2]\n          : null,\n      startClientPosition: dragStart,\n      currentClientPosition: addVec(dragStart, dragDisplacement),\n    };\n    const uiTouch = isDragging ? unsafeUiTouch : null;\n\n    return {\n      palette: {\n        blockKinds: [],\n        scroll: { x: 0, y: 0 },\n        scrollInProgress: null,\n      },\n      uiTouch,\n      literalEditor: null,\n      dropdownMenu: null,\n      canvas: {\n        items:\n          isDragging && entryPoint.content.length === 1\n            ? [offscreenMoveForward, onscreenWhenBattleStarts]\n            : !isDragging && entryPoint.content.length === 1\n            ? [offscreenMoveForward, onscreenWhenBattleStartsMoveForward]\n            : isDragging && entryPoint.content.length === 2\n            ? [offscreenMoveForward, onscreenWhenBattleStartsMoveForward]\n            : !isDragging && entryPoint.content.length === 2\n            ? [offscreenMoveForward, onscreenWhenBattleStartsMoveForwardTwice]\n            : [],\n        scroll: { x: 0, y: 0 },\n        scrollInProgress: null,\n      },\n      cursor: \"default\",\n    };\n  }\n\n  getTutorialBlockEditorStateAssumingLevel9(): BlockEditorState<TutorialBlockKind> {\n    const EMPTY_BLOCK_EDITOR_STATE: BlockEditorState<TutorialBlockKind> = {\n      palette: {\n        blockKinds: [],\n        scroll: { x: 0, y: 0 },\n        scrollInProgress: null,\n      },\n      uiTouch: null,\n      literalEditor: null,\n      dropdownMenu: null,\n      canvas: {\n        items: [],\n        scroll: { x: 0, y: 0 },\n        scrollInProgress: null,\n      },\n      cursor: \"default\",\n    };\n\n    const { appHeight, appWidth, screen } = this.state;\n    const fingerWidth = 60;\n    const fingerHeight =\n      fingerWidth *\n      (images.tutorial.finger.naturalHeight /\n        images.tutorial.finger.naturalWidth);\n    const readonlyMainBlockEditorProps: BlockEditorProps<BlockKind> = {\n      config: this.getMainBlockEditorConfig(),\n      state: this.state.screen.blockEditor,\n      measureText: this.measureSvgText,\n      setState: noOp,\n    };\n    const paletteSpecs = getPaletteBlockRenderSpecs(\n      readonlyMainBlockEditorProps\n    );\n\n    const paletteLessThanBlockRbox = paletteSpecs.find(\n      (spec) => spec.block.kind === BlockKind.LessThan\n    )!.rbox;\n\n    const paletteHealthBlockRbox = paletteSpecs.find(\n      (spec) => spec.block.kind === BlockKind.Health\n    )!.rbox;\n\n    const { canvas } = screen.blockEditor;\n    const totalScroll =\n      canvas.scrollInProgress === null\n        ? canvas.scroll\n        : {\n            x:\n              canvas.scroll.x +\n              canvas.scrollInProgress.currentClientPosition.x -\n              canvas.scrollInProgress.startClientPosition.x,\n            y:\n              canvas.scroll.y +\n              canvas.scrollInProgress.currentClientPosition.y -\n              canvas.scrollInProgress.startClientPosition.y,\n          };\n    const onScreenEmptyLessThanBlockSpec =\n      ((): null | BlockRenderSpec<BlockKind> => {\n        function isOnScreenEmptyLessThanBlockSpec(\n          spec: BlockRenderSpec<BlockKind>\n        ): boolean {\n          const translatedTopLeft = addVec(totalScroll, spec.rbox.topLeft);\n          const left = translatedTopLeft.x;\n          const top = translatedTopLeft.y;\n          const right = left + spec.rbox.dimensions.width;\n          const bottom = top + spec.rbox.dimensions.height;\n          const isOnScreen =\n            0 <= left && right <= appWidth && 0 <= top && bottom <= appHeight;\n\n          const isEmpty = spec.block.args.expressions.every(\n            (expr) => expr.isLiteral && expr.source === \"\"\n          );\n\n          return (\n            isOnScreen && spec.block.kind === BlockKind.LessThan && isEmpty\n          );\n        }\n\n        const specs = getCanvasItemRenderSpecs(readonlyMainBlockEditorProps);\n        for (const seqSpec of specs) {\n          const blockSpec = getBlockSpecFromBlockSequenceSpecSatisfying(\n            seqSpec,\n            isOnScreenEmptyLessThanBlockSpec\n          );\n          if (blockSpec !== null) {\n            return blockSpec;\n          }\n        }\n\n        return null;\n      })();\n\n    const { needsLessThanBlockDrag, needsHealthBlockDrag } =\n      this.getLevel9DragStatus();\n\n    if (!(needsLessThanBlockDrag || needsHealthBlockDrag)) {\n      return EMPTY_BLOCK_EDITOR_STATE;\n    }\n\n    const secondsElapsedAfterLastEdit = getElapsedSeconds(\n      screen.currentTimestamp,\n      getLaterTimestamp(\n        screen.animationStartTime,\n        screen.mostRecentTutorialBlockEditorUpdateTime\n      )\n    );\n    const secondsIntoDragCycle =\n      secondsElapsedAfterLastEdit %\n      LEVEL_9_TUTORIAL_ANIMATION_CYCLE.paletteToCanvasDrag\n        .totalDurationInSeconds;\n    const showInsertionMark =\n      LEVEL_9_TUTORIAL_ANIMATION_CYCLE.paletteToCanvasDrag\n        .healthBlockIntoLessThanBlockInsertionMarkTimeInSeconds <\n        secondsIntoDragCycle &&\n      secondsIntoDragCycle <\n        LEVEL_9_TUTORIAL_ANIMATION_CYCLE.paletteToCanvasDrag\n          .blockReleaseTimeInSeconds;\n    const isDragging =\n      secondsIntoDragCycle <\n      LEVEL_9_TUTORIAL_ANIMATION_CYCLE.paletteToCanvasDrag\n        .blockReleaseTimeInSeconds;\n\n    const offscreenBlockPosition: Vec2 = { x: 0, y: appHeight };\n    const [fingerStart, fingerEnd] = needsLessThanBlockDrag\n      ? (function getFingerStartAndEndForLessThanBlockDrag(): [Vec2, Vec2] {\n          const paletteLessThanBlockRboxMiddle = getRectCenter(\n            paletteLessThanBlockRbox\n          );\n          const dragStart = paletteLessThanBlockRboxMiddle;\n          const fingerStart = addVec(dragStart, {\n            x: -0.1 * fingerWidth,\n            y: -0.2 * fingerHeight,\n          });\n          const fingerEnd =\n            LEVEL_9_TUTORIAL_ANIMATION_CYCLE.paletteToCanvasDrag\n              .lessThanBlockDragEnd;\n          return [fingerStart, fingerEnd];\n        })()\n      : (function getFingerStartAndEndForHealthBlockDrag(): [Vec2, Vec2] {\n          const paletteHealthBlockRboxMiddle = getRectCenter(\n            paletteHealthBlockRbox\n          );\n          const dragStart = paletteHealthBlockRboxMiddle;\n          const fingerStart = addVec(dragStart, {\n            x: -0.1 * fingerWidth,\n            y: -0.2 * fingerHeight,\n          });\n          const fingerEnd = addVec(totalScroll, {\n            x:\n              onScreenEmptyLessThanBlockSpec!.rbox.topLeft.x +\n              SIZING.blockPadding +\n              0.3 * fingerWidth,\n            y:\n              onScreenEmptyLessThanBlockSpec!.rbox.topLeft.y +\n              0.5 * onScreenEmptyLessThanBlockSpec!.rbox.dimensions.height -\n              0.2 * fingerHeight,\n          });\n          return [fingerStart, fingerEnd];\n        })();\n    const dragStart = { x: 0, y: 0 };\n    const draggedPaletteBlockRbox = needsLessThanBlockDrag\n      ? paletteLessThanBlockRbox\n      : paletteHealthBlockRbox;\n    const startDisplacement = subVec(\n      draggedPaletteBlockRbox.topLeft,\n      offscreenBlockPosition\n    );\n    const endDisplacement = addVec(\n      startDisplacement,\n      subVec(fingerEnd, fingerStart)\n    );\n    const dragDisplacement = addVec(\n      startDisplacement,\n      scaleVec(\n        subVec(endDisplacement, startDisplacement),\n        Math.min(\n          1,\n          secondsIntoDragCycle /\n            LEVEL_1_TUTORIAL_DRAG_CYCLE.movingPhaseDurationInSeconds\n        )\n      )\n    );\n\n    const offscreenLessThan: CanvasItem<TutorialBlockKind> = {\n      position: offscreenBlockPosition,\n      content: [\n        {\n          isLiteral: false,\n          kind: BlockKind.LessThan,\n          args: {\n            expressions: [\n              { isLiteral: true, source: \"\" },\n              { isLiteral: true, source: \"\" },\n            ],\n            dropdowns: [],\n            sequences: [],\n          },\n        },\n      ],\n    };\n    const offscreenHealth: CanvasItem<TutorialBlockKind> = {\n      position: offscreenBlockPosition,\n      content: [\n        {\n          isLiteral: false,\n          kind: BlockKind.Health,\n          args: {\n            expressions: [],\n            dropdowns: [],\n            sequences: [],\n          },\n        },\n      ],\n    };\n\n    const onscreenEmptyLessThan: null | CanvasItem<TutorialBlockKind> =\n      onScreenEmptyLessThanBlockSpec === null\n        ? null\n        : {\n            position: addVec(\n              onScreenEmptyLessThanBlockSpec.rbox.topLeft,\n              totalScroll\n            ),\n            content: [\n              {\n                isLiteral: false,\n                kind: BlockKind.LessThan,\n                args: {\n                  expressions: [\n                    { isLiteral: true, source: \"\" },\n                    { isLiteral: true, source: \"\" },\n                  ],\n                  dropdowns: [],\n                  sequences: [],\n                },\n              },\n            ],\n          };\n\n    const hypotheticalOnscreenEmptyLessThan: CanvasItem<TutorialBlockKind> = {\n      position: addVec(offscreenLessThan.position, endDisplacement),\n      content: offscreenLessThan.content,\n    };\n\n    const hypotheticalOnscreenFilledLessThan: null | CanvasItem<TutorialBlockKind> =\n      !(\n        onScreenEmptyLessThanBlockSpec !== null &&\n        onscreenEmptyLessThan !== null\n      )\n        ? null\n        : typesafeCast<CanvasItem<TutorialBlockKind>>({\n            position: onscreenEmptyLessThan.position,\n            content: [\n              {\n                isLiteral: false,\n                kind: BlockKind.LessThan,\n                args: {\n                  expressions: [\n                    {\n                      isLiteral: false,\n                      kind: BlockKind.Health,\n                      args: {\n                        expressions: [],\n                        dropdowns: [],\n                        sequences: [],\n                      },\n                    },\n                    onScreenEmptyLessThanBlockSpec.block.args\n                      .expressions[1] as Expression<TutorialBlockKind>,\n                  ],\n                  dropdowns: [],\n                  sequences: [],\n                },\n              },\n            ],\n          });\n\n    const unsafeUiTouch: UiTouchState = {\n      kind: UiTouchStateKind.BlockDrag,\n      hasPositionChangedSinceDragStart: true,\n      draggeeOriginalAddress: [CANVAS_ADDRESS_PART, 0, 0],\n      insertionMarkAddress:\n        needsHealthBlockDrag && showInsertionMark\n          ? [CANVAS_ADDRESS_PART, 1, 0, ARG_EXPRESSION_ADDRESS_PART, 0]\n          : null,\n      startClientPosition: dragStart,\n      currentClientPosition: addVec(dragStart, dragDisplacement),\n    };\n    const uiTouch = isDragging ? unsafeUiTouch : null;\n\n    return {\n      palette: {\n        blockKinds: [],\n        scroll: { x: 0, y: 0 },\n        scrollInProgress: null,\n      },\n      uiTouch,\n      literalEditor: null,\n      dropdownMenu: null,\n      canvas: {\n        items:\n          isDragging && needsLessThanBlockDrag\n            ? [offscreenLessThan]\n            : !isDragging && needsLessThanBlockDrag\n            ? [offscreenLessThan, hypotheticalOnscreenEmptyLessThan]\n            : isDragging && needsHealthBlockDrag\n            ? [offscreenHealth, onscreenEmptyLessThan!]\n            : !isDragging && needsHealthBlockDrag\n            ? [offscreenHealth, hypotheticalOnscreenFilledLessThan!]\n            : [],\n        scroll: { x: 0, y: 0 },\n        scrollInProgress: null,\n      },\n      cursor: \"default\",\n    };\n  }\n\n  getMinimapBlockEditorConfig(): BlockEditorConfig<MinimapBlockKind> {\n    const { appHeight } = this.state;\n    const safeAreaInsets = this.state.safeAreaInsets.insets;\n    const mainConfig = this.getMainBlockEditorConfig();\n    return {\n      ...mainConfig,\n      defs: {\n        ...mainConfig.defs,\n        ...mapBlockKindRecordToInactiveBlockKindRecord(\n          mainConfig.defs,\n          identity\n        ),\n      },\n      componentInstanceUid: this.minimapBlockEditorComponentInstanceUid,\n      colors: MINIMAP_BLOCK_EDITOR_STATIC_CONFIG.colors,\n      sizing: {\n        ...MINIMAP_BLOCK_EDITOR_STATIC_CONFIG.sizingWithoutWindowDependentProperties,\n\n        editorBounds: {\n          topLeft: { x: 0, y: 0 },\n          dimensions: { width: this.state.appWidth, height: appHeight },\n        },\n        paletteBounds: {\n          topLeft: { x: 0, y: 0 },\n          dimensions: { width: 0, height: appHeight },\n        },\n        canvasBounds: {\n          topLeft: { x: 0, y: 0 },\n          dimensions: {\n            width: this.state.appWidth,\n            height: appHeight,\n          },\n        },\n\n        blockDropdownMenuDimensions: {\n          width: 0.5 * (this.state.appWidth - SIZING.paletteWidth),\n          height: 0.5 * appHeight,\n        },\n\n        dividers: [],\n\n        paletteLeftPadding: safeAreaInsets.left + SIZING.minPalettePadding,\n        paletteRightPadding: SIZING.minPalettePadding,\n        paletteTopPadding: safeAreaInsets.top + SIZING.minPalettePadding,\n        paletteBottomPadding: safeAreaInsets.bottom + SIZING.minPalettePadding,\n      },\n    };\n  }\n\n  getMinimapBlockEditorState(): BlockEditorState<MinimapBlockKind> {\n    const { screen } = this.state;\n    const elapsedSeconds = getElapsedSeconds(\n      screen.currentTimestamp,\n      screen.animationStartTime\n    );\n    const battleEvents = this.getCurrentLevelBattleEvents();\n    const battleElapsedSeconds =\n      screen.animationKind === AnimationKind.PlayBattle\n        ? screen.battleAnimationOffsetSeconds + elapsedSeconds\n        : screen.animationKind === AnimationKind.PauseBattle\n        ? screen.battleAnimationOffsetSeconds\n        : 0;\n    const executedBlockAddress = getBattleAnimationData(\n      getInitialLevelState(screen.level),\n      battleEvents,\n      battleElapsedSeconds\n    ).executedBlockAddress ?? [CANVAS_ADDRESS_PART, 0, 0];\n\n    const { blockEditor } = this.state.screen;\n    const activeCanvasItemPosition: Vec2 = { x: 20, y: 20 };\n    const activeCanvasItem = blockEditor.canvas.items\n      .filter(\n        (item) =>\n          item.content.length >= 1 &&\n          item.content[0].kind === BlockKind.WhenBattleStarts\n      )\n      .map((item) => ({\n        content: flagBlockSequenceAsInactiveExcept(\n          executedBlockAddress.slice(2),\n          item.content,\n          []\n        ),\n        position: activeCanvasItemPosition,\n      }))[0];\n    if (activeCanvasItem === undefined) {\n      throw new Error(\n        \"Impossible: Called getMinimapBlockEditorState when there was no active canvas item.\"\n      );\n    }\n\n    const withoutCanvasScroll: BlockEditorState<MinimapBlockKind> = {\n      ...blockEditor,\n      palette: {\n        blockKinds: [],\n        scroll: { x: 0, y: 0 },\n        scrollInProgress: null,\n      },\n      uiTouch: null,\n      canvas: {\n        items: [activeCanvasItem],\n        scroll: { x: 0, y: 0 },\n        scrollInProgress: null,\n      },\n    };\n\n    const minimapBlockEditorProps: BlockEditorProps<MinimapBlockKind> = {\n      config: this.getMinimapBlockEditorConfig(),\n      state: withoutCanvasScroll,\n\n      measureText: this.measureSvgText,\n      setState: noOp,\n    };\n    const spec = getBlockSequenceRenderSpec({\n      editorProps: minimapBlockEditorProps,\n      position: activeCanvasItemPosition,\n      sequence: activeCanvasItem.content,\n      address: [],\n      insertionMark: null,\n      draggeeOriginalAddress: null,\n      hasDragPositionChangedSinceDragStart: false,\n      dropdownMenuDropdownAddress: null,\n      isUnreachable: false,\n    });\n    const rbox = getRboxAtAddressFromBlockSequence(\n      executedBlockAddress.slice(2),\n      spec\n    );\n    if (rbox === null) {\n      return withoutCanvasScroll;\n    }\n\n    const { appHeight } = this.state;\n    return {\n      ...withoutCanvasScroll,\n      canvas: {\n        ...withoutCanvasScroll.canvas,\n        scroll: {\n          x: withoutCanvasScroll.canvas.scroll.x,\n          y: -(rbox.topLeft.y + 0.5 * rbox.dimensions.height) + 0.5 * appHeight,\n        },\n      },\n    };\n  }\n\n  renderMinimapHoleCanvasElement(): CanvasElement {\n    const { screen } = this.state;\n    const elapsedSeconds = getElapsedSeconds(\n      screen.currentTimestamp,\n      screen.animationStartTime\n    );\n\n    const battleElapsedSeconds =\n      screen.animationKind === AnimationKind.PlayBattle\n        ? screen.battleAnimationOffsetSeconds + elapsedSeconds\n        : screen.animationKind === AnimationKind.PauseBattle\n        ? screen.battleAnimationOffsetSeconds\n        : 0;\n\n    if (battleElapsedSeconds === 0) {\n      return NULL_CANVAS_ELEMENT;\n    }\n\n    const bbox = this.getMinimapBBox();\n    return {\n      kind: CanvasElementKind.Clear,\n      x: bbox.topLeft.x,\n      y: bbox.topLeft.y,\n      w: bbox.dimensions.width,\n      h: bbox.dimensions.height,\n    };\n  }\n\n  getMinimapBBox(): Rectangle {\n    const { appWidth, appHeight } = this.state;\n    const backgroundImageScale = appWidth / SIZING.castleInteriorImage.width;\n    const width = 400 * backgroundImageScale;\n\n    return {\n      topLeft: { x: 20, y: 20 },\n      dimensions: {\n        width,\n        height: (appHeight / appWidth) * width,\n      },\n    };\n  }\n\n  dualRenderAssumingPortraitOrientation(): DualRenderOutput {\n    const text = getUiText(\n      this.state.language,\n      UiTextKind.PleaseSwitchToLandscape\n    );\n    const requestContent = text.includes(TEXT_SENTINELS.useManualBreaking)\n      ? text\n          .replace(TEXT_SENTINELS.useManualBreaking, \"\")\n          .split(TEXT_SENTINELS.break_)\n          .map((segmentText, i) => (\n            <span className=\"ManualBreak__Segment\" key={i}>\n              {segmentText}\n            </span>\n          ))\n      : text;\n    const reactElement = (\n      <div className=\"App\">\n        <div className=\"PleaseSwitchToLandscapeRequestContainer\">\n          <p className=\"PleaseSwitchToLandscapeRequest\">{requestContent}</p>\n        </div>\n      </div>\n    );\n    return { reactElement, canvasElement: NULL_CANVAS_ELEMENT };\n  }\n\n  updateCanvas(): void {\n    const { devicePixelRatio } = window;\n    const { frontCanvasCtx } = this;\n    const { appWidth, appHeight } = this.state;\n    frontCanvasCtx.canvas.width = devicePixelRatio * appWidth;\n    frontCanvasCtx.canvas.height = devicePixelRatio * appHeight;\n\n    frontCanvasCtx.resetTransform();\n\n    frontCanvasCtx.clearRect(\n      0,\n      0,\n      frontCanvasCtx.canvas.width,\n      frontCanvasCtx.canvas.height\n    );\n\n    frontCanvasCtx.scale(devicePixelRatio, devicePixelRatio);\n\n    const { canvasElement } = this.dualRender();\n    if (canvasElement !== null) {\n      paintCanvasElement(canvasElement, frontCanvasCtx);\n    }\n  }\n\n  onResize(): void {\n    getSafeAreaInsets().then((safeAreaInsets) => {\n      this.setState({\n        appWidth: window.innerWidth,\n        appHeight: window.innerHeight,\n        orientationType: window.screen.orientation.type,\n        safeAreaInsets,\n      });\n    });\n  }\n\n  onWindowTouchStart(event: TouchEvent): void {\n    if (event.target !== this.blockLiteralEditorInput) {\n      event.preventDefault();\n    }\n\n    if (event.touches.length !== 1) {\n      this.setState({\n        onlyTouchStartButton: null,\n        onlyTouchDepressedButton: null,\n      });\n      return;\n    }\n\n    this.onOnlyPointerDown({\n      x: event.touches[0].clientX,\n      y: event.touches[0].clientY,\n    });\n  }\n\n  onWindowMouseDown(event: MouseEvent): void {\n    this.onOnlyPointerDown({\n      x: event.clientX,\n      y: event.clientY,\n    });\n  }\n\n  onOnlyPointerDown(clientPosition: Vec2): void {\n    const onlyTouchStartButton = getButtonAt(\n      clientPosition,\n      this.state,\n      this.getButtonClickDetectorResources()\n    );\n    this.setState({\n      onlyTouchStartButton,\n      onlyTouchDepressedButton: onlyTouchStartButton,\n    });\n  }\n\n  onWindowTouchMove(event: TouchEvent): void {\n    if (event.touches.length !== 1) {\n      this.setState({\n        onlyTouchStartButton: null,\n        onlyTouchDepressedButton: null,\n      });\n      return;\n    }\n\n    const touchedButton = getButtonAt(\n      {\n        x: event.touches[0].clientX,\n        y: event.touches[0].clientY,\n      },\n      this.state,\n      this.getButtonClickDetectorResources()\n    );\n    const onlyTouchDepressedButton =\n      touchedButton === this.state.onlyTouchStartButton ? touchedButton : null;\n    this.setState({\n      onlyTouchDepressedButton,\n    });\n  }\n\n  onWindowMouseMove(event: MouseEvent): void {\n    this.setState({\n      mouseClientPosition: { x: event.clientX, y: event.clientY },\n    });\n    this.onOnlyPointerMove({\n      x: event.clientX,\n      y: event.clientY,\n    });\n  }\n\n  onOnlyPointerMove(clientPosition: Vec2): void {\n    const touchedButton = getButtonAt(\n      clientPosition,\n      this.state,\n      this.getButtonClickDetectorResources()\n    );\n    const onlyTouchDepressedButton =\n      touchedButton === this.state.onlyTouchStartButton ? touchedButton : null;\n    this.setState({\n      onlyTouchDepressedButton,\n    });\n  }\n\n  onWindowTouchEnd(event: TouchEvent): void {\n    if (!(event.touches.length === 0 && event.changedTouches.length === 1)) {\n      this.setState({\n        onlyTouchStartButton: null,\n        onlyTouchDepressedButton: null,\n      });\n      return;\n    }\n\n    this.onOnlyPointerUp({\n      x: event.changedTouches[0].clientX,\n      y: event.changedTouches[0].clientY,\n    });\n  }\n\n  onWindowMouseUp(event: MouseEvent): void {\n    this.onOnlyPointerUp({\n      x: event.clientX,\n      y: event.clientY,\n    });\n  }\n\n  onOnlyPointerUp(clientPosition: Vec2): void {\n    const { onlyTouchStartButton } = this.state;\n    const onlyTouchDepressedButton = getButtonAt(\n      clientPosition,\n      this.state,\n      this.getButtonClickDetectorResources()\n    );\n    if (\n      !(\n        onlyTouchDepressedButton === onlyTouchStartButton &&\n        onlyTouchDepressedButton !== null\n      )\n    ) {\n      this.setState({\n        onlyTouchStartButton: null,\n        onlyTouchDepressedButton: null,\n      });\n      return;\n    }\n\n    this.setState({\n      onlyTouchStartButton: null,\n      onlyTouchDepressedButton: null,\n    });\n\n    switch (onlyTouchDepressedButton) {\n      case ButtonKind.HomeScreenStart:\n      case ButtonKind.Settings:\n      case ButtonKind.NextLevel:\n      case ButtonKind.PuzzleScreenLeft:\n      case ButtonKind.PuzzleScreenMiddle:\n      case ButtonKind.PuzzleScreenRight:\n      case ButtonKind.Language:\n      case ButtonKind.Credits:\n      case ButtonKind.OpenConfirmResetToLevelOneScreen:\n      case ButtonKind.SettingsScreenClose:\n      case ButtonKind.ConfirmResetToLevelOne:\n      case ButtonKind.CancelResetToLevelOne:\n      case ButtonKind.ConfirmResetToLevelOneScreenClose:\n        this.buttonPopSound.play();\n        break;\n\n      case ButtonKind.SettingsScreenSecondaryClose:\n      case ButtonKind.CreditsScreenClose:\n        // Do nothing.\n        break;\n\n      default:\n        typecheckedAssertNever(onlyTouchDepressedButton);\n    }\n\n    switch (onlyTouchDepressedButton) {\n      case ButtonKind.HomeScreenStart:\n        this.onHomeScreenStartButtonClick();\n        break;\n      case ButtonKind.Settings:\n        this.onHomeScreenSettingsButtonClick();\n        break;\n      case ButtonKind.NextLevel:\n        this.onNextLevelButtonClick();\n        break;\n      case ButtonKind.PuzzleScreenLeft:\n        this.onPuzzleScreenLeftButtonClick();\n        break;\n      case ButtonKind.PuzzleScreenMiddle:\n        this.onPuzzleScreenMiddleButtonClick();\n        break;\n      case ButtonKind.PuzzleScreenRight:\n        this.onPuzzleScreenRightButtonClick();\n        break;\n      case ButtonKind.Language:\n        this.onLanguageButtonClick();\n        break;\n      case ButtonKind.Credits:\n        this.onCreditsButtonClick();\n        break;\n      case ButtonKind.OpenConfirmResetToLevelOneScreen:\n        this.onOpenConfirmResetToLevelOneScreenButtonClick();\n        break;\n      case ButtonKind.SettingsScreenClose:\n      case ButtonKind.SettingsScreenSecondaryClose:\n      case ButtonKind.ConfirmResetToLevelOneScreenClose:\n        this.onSettingsScreenCloseButtonClick();\n        break;\n      case ButtonKind.CreditsScreenClose:\n        this.onCreditsScreenCloseButtonClick();\n        break;\n      case ButtonKind.ConfirmResetToLevelOne:\n        this.onConfirmResetToLevelOneButtonClick();\n        break;\n      case ButtonKind.CancelResetToLevelOne:\n        this.onCancelResetToLevelOneButtonClick();\n        break;\n      default:\n        typecheckedAssertNever(onlyTouchDepressedButton);\n    }\n  }\n\n  onEditBlocksButtonClick(): void {\n    const { screen } = this.state;\n\n    if (\n      [AnimationKind.PlayBattle, AnimationKind.PauseBattle].includes(\n        screen.animationKind\n      )\n    ) {\n      const animationStartTime = getCurrentTimestamp();\n\n      const updateAnimationTimeIfAnimationIsStillInProgress = (): void => {\n        const currentState = this.state;\n        if (\n          !(\n            currentState.screen.animationKind === AnimationKind.ViewToEdit &&\n            areTimestampsEqual(\n              currentState.screen.animationStartTime,\n              animationStartTime\n            )\n          )\n        ) {\n          return;\n        }\n\n        const currentTimestamp = getCurrentTimestamp();\n        const elapsedSeconds = getElapsedSeconds(\n          currentTimestamp,\n          currentState.screen.animationStartTime\n        );\n\n        if (elapsedSeconds > SCREEN_TRANSITION_ANIMATION_SECONDS) {\n          this.setState(\n            {\n              ...currentState,\n              screen: {\n                blockEditor: {\n                  ...currentState.screen.blockEditor,\n                  literalEditor: null,\n                },\n                level: currentState.screen.level,\n\n                animationKind: AnimationKind.Edit,\n                animationStartTime: currentTimestamp,\n                currentTimestamp,\n                battleAnimationOffsetSeconds: 0,\n                prevLevelBlockEditor: getDummyBlockEditorState(),\n                mostRecentTutorialBlockEditorUpdateTime:\n                  this.state.screen.mostRecentTutorialBlockEditorUpdateTime,\n              },\n            },\n            this.getEditScreenAnimationUpdaterIfOnTutorialLevel(\n              currentTimestamp\n            )\n          );\n          return;\n        }\n\n        this.setState({\n          ...currentState,\n          screen: {\n            ...currentState.screen,\n            currentTimestamp,\n          },\n        });\n\n        requestAnimationFrame(updateAnimationTimeIfAnimationIsStillInProgress);\n      };\n\n      this.setState(\n        {\n          screen: {\n            blockEditor: screen.blockEditor,\n            level: screen.level,\n\n            animationKind: AnimationKind.ViewToEdit,\n            animationStartTime,\n            currentTimestamp: getCurrentTimestamp(),\n            battleAnimationOffsetSeconds: 0,\n            prevLevelBlockEditor: getDummyBlockEditorState(),\n            mostRecentTutorialBlockEditorUpdateTime:\n              this.state.screen.mostRecentTutorialBlockEditorUpdateTime,\n          },\n        },\n        updateAnimationTimeIfAnimationIsStillInProgress\n      );\n    }\n  }\n\n  onViewMapButtonClick(): void {\n    const { screen } = this.state;\n    if (screen.animationKind === AnimationKind.Edit) {\n      const animationStartTime = getCurrentTimestamp();\n\n      this.setState(\n        {\n          screen: {\n            blockEditor: screen.blockEditor,\n            level: screen.level,\n\n            animationKind: AnimationKind.EditToView,\n            animationStartTime,\n            currentTimestamp: getCurrentTimestamp(),\n            battleAnimationOffsetSeconds: 0,\n            prevLevelBlockEditor: getDummyBlockEditorState(),\n            mostRecentTutorialBlockEditorUpdateTime:\n              this.state.screen.mostRecentTutorialBlockEditorUpdateTime,\n          },\n        },\n        this.getViewScreenEnterAnimationUpdater(\n          animationStartTime,\n          AnimationKind.EditToView\n        )\n      );\n    }\n  }\n\n  onResumeBattleButtonClick(): void {\n    const { screen } = this.state;\n\n    if (screen.animationKind !== AnimationKind.PauseBattle) {\n      throw new Error(\n        \"The Resume Battle button was clicked when screen.animationKind was \" +\n          screen.animationKind\n      );\n    }\n\n    const animationStartTime = getCurrentTimestamp();\n    const updateAnimationTimeIfAnimationIsStillInProgress = (): void => {\n      const currentState = this.state;\n      if (\n        !(\n          currentState.screen.animationKind === AnimationKind.PlayBattle &&\n          areTimestampsEqual(\n            currentState.screen.animationStartTime,\n            animationStartTime\n          )\n        )\n      ) {\n        return;\n      }\n\n      if (\n        this.getCurrentLevelBattleAnimationData()\n          .didHeroSurviveLevelButFailToReachStairs\n      ) {\n        const currentTimestamp = getCurrentTimestamp();\n        const elapsedSeconds = getElapsedSeconds(\n          currentTimestamp,\n          screen.animationStartTime\n        );\n        const battleAnimationOffsetSeconds =\n          screen.battleAnimationOffsetSeconds + elapsedSeconds;\n        this.setState(\n          {\n            ...currentState,\n            screen: {\n              ...currentState.screen,\n              animationKind: AnimationKind.PauseBattle,\n              animationStartTime: currentTimestamp,\n              currentTimestamp,\n              battleAnimationOffsetSeconds,\n            },\n          },\n          this.getPauseScreenAnimationUpdater(currentTimestamp)\n        );\n        return;\n      }\n\n      this.setState({\n        ...currentState,\n        screen: {\n          ...currentState.screen,\n          currentTimestamp: getCurrentTimestamp(),\n        },\n      });\n      requestAnimationFrame(updateAnimationTimeIfAnimationIsStillInProgress);\n    };\n    this.setState(\n      {\n        screen: {\n          blockEditor: screen.blockEditor,\n          level: screen.level,\n          animationKind: AnimationKind.PlayBattle,\n          animationStartTime,\n          currentTimestamp: getCurrentTimestamp(),\n          battleAnimationOffsetSeconds: screen.battleAnimationOffsetSeconds,\n          prevLevelBlockEditor: getDummyBlockEditorState(),\n          mostRecentTutorialBlockEditorUpdateTime:\n            this.state.screen.mostRecentTutorialBlockEditorUpdateTime,\n        },\n      },\n      updateAnimationTimeIfAnimationIsStillInProgress\n    );\n  }\n\n  onPauseBattleButtonClick(): void {\n    const { screen } = this.state;\n\n    const currentTimestamp = getCurrentTimestamp();\n    const elapsedSeconds = getElapsedSeconds(\n      currentTimestamp,\n      screen.animationStartTime\n    );\n    const battleAnimationOffsetSeconds =\n      screen.battleAnimationOffsetSeconds + elapsedSeconds;\n    this.setState(\n      {\n        screen: {\n          ...screen,\n          animationKind: AnimationKind.PauseBattle,\n          animationStartTime: currentTimestamp,\n          currentTimestamp,\n          battleAnimationOffsetSeconds,\n        },\n      },\n      this.getPauseScreenAnimationUpdater(currentTimestamp)\n    );\n  }\n\n  onNextLevelButtonClick(): void {\n    const nextLevel = getNextLevel(this.state.screen.level);\n    if (nextLevel === null) {\n      throw new Error(\"There is no next level.\");\n    }\n    const animationStartTime = getCurrentTimestamp();\n    const updateAnimationTimeIfAnimationIsStillInProgress = (): void => {\n      const currentState = this.state;\n      if (\n        !(\n          currentState.screen.animationKind === AnimationKind.NextLevel &&\n          areTimestampsEqual(\n            currentState.screen.animationStartTime,\n            animationStartTime\n          )\n        )\n      ) {\n        return;\n      }\n\n      const currentTimestamp = getCurrentTimestamp();\n      const elapsedSeconds = getElapsedSeconds(\n        currentTimestamp,\n        currentState.screen.animationStartTime\n      );\n\n      // We need to transition over 2 screens, so we double the usual time.\n      if (elapsedSeconds > 2 * SCREEN_TRANSITION_ANIMATION_SECONDS) {\n        this.setState({\n          ...currentState,\n          screen: {\n            ...currentState.screen,\n            animationKind: AnimationKind.PauseBattle,\n            currentTimestamp,\n            battleAnimationOffsetSeconds: 0,\n          },\n        });\n        return;\n      }\n\n      this.setState({\n        ...currentState,\n        screen: {\n          ...currentState.screen,\n          currentTimestamp,\n        },\n      });\n\n      requestAnimationFrame(updateAnimationTimeIfAnimationIsStillInProgress);\n    };\n    this.setState(\n      {\n        screen: {\n          blockEditor: getStartingBlockEditorStateForLevel(nextLevel),\n          level: nextLevel,\n          animationKind: AnimationKind.NextLevel,\n          animationStartTime,\n          currentTimestamp: animationStartTime,\n          battleAnimationOffsetSeconds: 0,\n          prevLevelBlockEditor: this.state.screen.blockEditor,\n          mostRecentTutorialBlockEditorUpdateTime:\n            this.state.screen.mostRecentTutorialBlockEditorUpdateTime,\n        },\n      },\n      updateAnimationTimeIfAnimationIsStillInProgress\n    );\n  }\n\n  onPuzzleScreenLeftButtonClick(): void {\n    const { screen } = this.state;\n    if (\n      ![AnimationKind.PlayBattle, AnimationKind.PauseBattle].includes(\n        screen.animationKind\n      ) ||\n      isScreenShowingVictory(screen, this.getCurrentLevelBattleEvents)\n    ) {\n      return;\n    }\n\n    this.onEditBlocksButtonClick();\n  }\n\n  onPuzzleScreenMiddleButtonClick(): void {\n    const { screen } = this.state;\n    const isBattleFinished =\n      isScreenShowingVictory(screen, this.getCurrentLevelBattleEvents) ||\n      isScreenShowingDefeat(screen, this.getCurrentLevelBattleEvents);\n\n    if (\n      screen.animationKind === AnimationKind.PlayBattle &&\n      !isBattleFinished\n    ) {\n      this.onPauseBattleButtonClick();\n      return;\n    }\n\n    const blockEditorCanvasItems = screen.blockEditor.canvas.items;\n    const isLevelOneAndNotReadyToExecuteCode =\n      screen.level === Level.Level1 &&\n      !(\n        blockEditorCanvasItems.length === 1 &&\n        blockEditorCanvasItems[0].content.length >= 3\n      );\n\n    if (\n      screen.animationKind === AnimationKind.PauseBattle &&\n      areAnyBlocksReachable(screen) &&\n      !isLevelOneAndNotReadyToExecuteCode\n    ) {\n      this.onResumeBattleButtonClick();\n      return;\n    }\n\n    if (screen.animationKind === AnimationKind.Edit) {\n      this.onViewMapButtonClick();\n      return;\n    }\n  }\n\n  onPuzzleScreenRightButtonClick(): void {\n    this.onReturnHomeButtonClick();\n  }\n\n  onLanguageButtonClick(): void {\n    this.setState({\n      language: {\n        [UiLanguage.English]: UiLanguage.Japanese,\n        [UiLanguage.Japanese]: UiLanguage.English,\n      }[this.state.language],\n    });\n  }\n\n  onCreditsButtonClick(): void {\n    const animationStartTime = getCurrentTimestamp();\n    const updateAnimationTimeIfAnimationIsStillInProgress = (): void => {\n      const currentState = this.state;\n      if (\n        !(\n          currentState.screen.animationKind === AnimationKind.Credits &&\n          areTimestampsEqual(\n            currentState.screen.animationStartTime,\n            animationStartTime\n          )\n        )\n      ) {\n        return;\n      }\n\n      const currentTimestamp = getCurrentTimestamp();\n      const elapsedSeconds = getElapsedSeconds(\n        currentTimestamp,\n        currentState.screen.animationStartTime\n      );\n\n      if (elapsedSeconds > this.getCreditRollDurationInSeconds()) {\n        this.setState({\n          ...currentState,\n          screen: {\n            ...currentState.screen,\n            animationKind: AnimationKind.StaticSettings,\n          },\n        });\n        return;\n      }\n\n      this.setState({\n        ...currentState,\n        screen: {\n          ...currentState.screen,\n          currentTimestamp,\n        },\n      });\n\n      requestAnimationFrame(updateAnimationTimeIfAnimationIsStillInProgress);\n    };\n\n    this.setState(\n      {\n        screen: {\n          ...this.state.screen,\n          animationKind: AnimationKind.Credits,\n          animationStartTime,\n          currentTimestamp: animationStartTime,\n        },\n      },\n      updateAnimationTimeIfAnimationIsStillInProgress\n    );\n  }\n\n  onOpenConfirmResetToLevelOneScreenButtonClick(): void {\n    const currentTimestamp = getCurrentTimestamp();\n    this.setState((prevState) => ({\n      ...prevState,\n      screen: {\n        ...prevState.screen,\n        animationKind: AnimationKind.StaticConfirmResetToLevelOne,\n        animationStartTime: currentTimestamp,\n        currentTimestamp,\n      },\n    }));\n  }\n\n  onSettingsScreenCloseButtonClick(): void {\n    const animationStartTime = getCurrentTimestamp();\n    const updateAnimationTimeIfAnimationIsStillInProgress = (): void => {\n      const currentState = this.state;\n      if (\n        !(\n          currentState.screen.animationKind === AnimationKind.CloseSettings &&\n          areTimestampsEqual(\n            currentState.screen.animationStartTime,\n            animationStartTime\n          )\n        )\n      ) {\n        return;\n      }\n\n      const currentTimestamp = getCurrentTimestamp();\n      const elapsedSeconds = getElapsedSeconds(\n        currentTimestamp,\n        currentState.screen.animationStartTime\n      );\n\n      if (elapsedSeconds > SCREEN_TRANSITION_ANIMATION_SECONDS) {\n        this.setState({\n          ...currentState,\n          screen: {\n            ...currentState.screen,\n            animationKind: AnimationKind.StaticHome,\n          },\n        });\n        return;\n      }\n\n      this.setState({\n        ...currentState,\n        screen: {\n          ...currentState.screen,\n          currentTimestamp,\n        },\n      });\n\n      requestAnimationFrame(updateAnimationTimeIfAnimationIsStillInProgress);\n    };\n\n    const { screen } = this.state;\n    this.setState(\n      {\n        screen: {\n          blockEditor: screen.blockEditor,\n          level: screen.level,\n\n          animationKind: AnimationKind.CloseSettings,\n          animationStartTime,\n          currentTimestamp: animationStartTime,\n          battleAnimationOffsetSeconds: 0,\n          prevLevelBlockEditor: getDummyBlockEditorState(),\n          mostRecentTutorialBlockEditorUpdateTime:\n            this.state.screen.mostRecentTutorialBlockEditorUpdateTime,\n        },\n      },\n      updateAnimationTimeIfAnimationIsStillInProgress\n    );\n  }\n\n  onCreditsScreenCloseButtonClick(): void {\n    const animationStartTime = getCurrentTimestamp();\n    this.setState({\n      screen: {\n        ...this.state.screen,\n        animationKind: AnimationKind.StaticSettings,\n        animationStartTime,\n        currentTimestamp: animationStartTime,\n      },\n    });\n  }\n\n  onConfirmResetToLevelOneButtonClick(): void {\n    this.setState(\n      {\n        screen: {\n          ...this.state.screen,\n          blockEditor: getStartingBlockEditorStateForLevel(Level.Level1),\n          level: Level.Level1,\n        },\n      },\n      this.startLoadingBarProgressAnimation\n    );\n  }\n\n  onCancelResetToLevelOneButtonClick(): void {\n    const currentTimestamp = getCurrentTimestamp();\n    this.setState((prevState) => ({\n      ...prevState,\n      screen: {\n        ...prevState.screen,\n        animationKind: AnimationKind.StaticSettings,\n        animationStartTime: currentTimestamp,\n        currentTimestamp,\n      },\n    }));\n  }\n\n  onLiteralEditorFormSubmit(event: SubmitEvent): void {\n    event.preventDefault();\n    this.closeLiteralEditor();\n  }\n\n  onLiteralEditorInputChange(): void {\n    const newLiteralSource = this.blockLiteralEditorInput.value;\n    this.setState(\n      (state): State => {\n        const { screen } = state;\n\n        if (screen.blockEditor.literalEditor === null) {\n          return state;\n        }\n\n        const newLiteralEditorState = {\n          ...screen.blockEditor.literalEditor,\n          literalSource: newLiteralSource,\n        };\n\n        return {\n          ...state,\n          screen: {\n            ...screen,\n            blockEditor: {\n              ...screen.blockEditor,\n              canvas: updateCanvasToMatchLiteralEditor(\n                screen.blockEditor.canvas,\n                newLiteralEditorState\n              ),\n              literalEditor: newLiteralEditorState,\n            },\n          },\n        };\n      },\n      () => this.setBlockEditorState(identity)\n    );\n  }\n\n  onCloseLiteralEditorButtonClick(): void {\n    this.closeLiteralEditor();\n  }\n\n  closeLiteralEditor(): void {\n    this.setState((state): State => {\n      const { screen } = state;\n\n      if (screen.blockEditor.literalEditor === null) {\n        return state;\n      }\n\n      return {\n        ...state,\n        screen: {\n          ...screen,\n          blockEditor: {\n            ...screen.blockEditor,\n            canvas: updateCanvasToMatchLiteralEditor(\n              screen.blockEditor.canvas,\n              screen.blockEditor.literalEditor\n            ),\n            literalEditor: null,\n          },\n        },\n      };\n    });\n  }\n\n  measureSvgText(\n    text: string,\n    fontFamily: string,\n    fontSizePx: number\n  ): Dimensions {\n    const key = getSvgTextDimensionCacheKey(text, fontFamily, fontSizePx);\n    const cached = svgTextDimensionCache.get(key);\n    if (cached !== undefined) {\n      return cached;\n    }\n\n    const dimensions = this.measureSvgTextIgnoringCache(\n      text,\n      fontFamily,\n      fontSizePx\n    );\n    svgTextDimensionCache.set(key, dimensions);\n    return dimensions;\n  }\n\n  measureSvgTextIgnoringCache(\n    text: string,\n    fontFamily: string,\n    fontSizePx: number\n  ): Dimensions {\n    const { ghostSvg } = this;\n    const { appWidth, appHeight } = this.state;\n\n    const svgRect = ghostSvg.getBoundingClientRect();\n    const isCorrectSize =\n      svgRect.width === appWidth && svgRect.height === appHeight;\n    if (!isCorrectSize) {\n      ghostSvg.setAttribute(\"width\", String(this.state.appWidth));\n      ghostSvg.setAttribute(\"height\", String(this.state.appHeight));\n    }\n\n    const textElement = document.createElementNS(\n      \"http://www.w3.org/2000/svg\",\n      \"text\"\n    );\n    textElement.textContent = text;\n    textElement.style.fontFamily = fontFamily;\n    textElement.style.fontSize = fontSizePx + \"px\";\n    ghostSvg.appendChild(textElement);\n    const bbox = textElement.getBBox();\n    ghostSvg.removeChild(textElement);\n\n    return bbox;\n  }\n\n  measureCanvasText({\n    text,\n    ...font\n  }: { readonly text: string } & CanvasTextFont): Dimensions {\n    const { tempCanvasCtx } = this;\n\n    applyFont(font, tempCanvasCtx);\n    const output = tempCanvasCtx.measureText(text);\n\n    return {\n      width: output.width,\n      height: output.actualBoundingBoxAscent + output.actualBoundingBoxDescent,\n    };\n  }\n\n  getMainBlockEditorConfig(): BlockEditorConfig<BlockKind> {\n    const { appHeight } = this.state;\n    const safeAreaInsets = this.state.safeAreaInsets.insets;\n    return {\n      componentInstanceUid: this.mainBlockEditorComponentInstanceUid,\n\n      sizing: {\n        ...MAIN_BLOCK_EDITOR_STATIC_CONFIG.sizingWithoutWindowDependentProperties,\n\n        editorBounds: {\n          topLeft: { x: 0, y: 0 },\n          dimensions: { width: this.state.appWidth, height: appHeight },\n        },\n        paletteBounds: {\n          topLeft: { x: 0, y: 0 },\n          dimensions: { width: SIZING.paletteWidth, height: appHeight },\n        },\n        canvasBounds: {\n          topLeft: { x: SIZING.paletteWidth, y: 0 },\n          dimensions: {\n            width: this.state.appWidth - SIZING.paletteWidth,\n            height: appHeight,\n          },\n        },\n\n        blockDropdownMenuDimensions: {\n          width: 0.5 * (this.state.appWidth - SIZING.paletteWidth),\n          height: 0.5 * appHeight,\n        },\n\n        dividers: [\n          {\n            topLeft: { x: SIZING.paletteWidth, y: 0 },\n            dimensions: {\n              width: 1,\n              height: appHeight,\n            },\n          },\n        ],\n\n        paletteLeftPadding: safeAreaInsets.left + SIZING.minPalettePadding,\n        paletteRightPadding: SIZING.minPalettePadding,\n        paletteTopPadding: safeAreaInsets.top + SIZING.minPalettePadding,\n        paletteBottomPadding: safeAreaInsets.bottom + SIZING.minPalettePadding,\n      },\n      colors: MAIN_BLOCK_EDITOR_STATIC_CONFIG.colors,\n      fonts: MAIN_BLOCK_EDITOR_STATIC_CONFIG.fonts,\n      defs: disableBlockDeletionBasedOnLevel(\n        getLocalizedBlockDefs(this.state.language),\n        this.state.screen.level\n      ),\n    };\n  }\n\n  setBlockEditorState(\n    updateBlockEditorState: (\n      oldState: BlockEditorState<BlockKind>\n    ) => BlockEditorState<BlockKind>,\n    optionalCallback?: (newState: BlockEditorState<BlockKind>) => void\n  ): void {\n    let newBlockEditorState: null | BlockEditorState<BlockKind> = null;\n    this.setState(\n      (oldState) => {\n        const oldBlockEditorState = oldState.screen.blockEditor;\n        newBlockEditorState = updateBlockEditorState(oldBlockEditorState);\n\n        if (oldBlockEditorState !== newBlockEditorState) {\n          this.lastBlockEditorSetStateCallTime = getCurrentTimestamp();\n        }\n\n        if (oldState.screen.level === Level.Level1) {\n          const isDraggingWhenBattleStartsBlock =\n            newBlockEditorState.uiTouch !== null &&\n            newBlockEditorState.uiTouch.kind === UiTouchStateKind.BlockDrag &&\n            newBlockEditorState.uiTouch.draggeeOriginalAddress[0] ===\n              CANVAS_ADDRESS_PART &&\n            newBlockEditorState.uiTouch.draggeeOriginalAddress[1] === 0 &&\n            newBlockEditorState.uiTouch.draggeeOriginalAddress[2] === 0;\n          const isScrollingCanvas =\n            newBlockEditorState.canvas.scrollInProgress !== null;\n          const shouldPreventUpdate =\n            isDraggingWhenBattleStartsBlock || isScrollingCanvas;\n\n          if (shouldPreventUpdate) {\n            newBlockEditorState = oldState.screen.blockEditor;\n          }\n\n          newBlockEditorState = {\n            ...newBlockEditorState,\n            canvas: {\n              ...newBlockEditorState.canvas,\n              items: newBlockEditorState.canvas.items.filter(\n                (item) =>\n                  item.content.length >= 1 &&\n                  item.content[0].kind === BlockKind.WhenBattleStarts\n              ),\n            },\n          };\n        }\n\n        const hasUserEditedLiteral = newBlockEditorState.canvas.items.some(\n          (item) => doesBlockSequenceContainNonEmptyLiteral(item.content)\n        );\n        if (oldState.screen.level === Level.Level9 && !hasUserEditedLiteral) {\n          newBlockEditorState = {\n            ...newBlockEditorState,\n            canvas: {\n              ...newBlockEditorState.canvas,\n              scroll: oldBlockEditorState.canvas.scroll,\n              scrollInProgress: null,\n            },\n          };\n        }\n\n        const isLevel1AndShouldResetMostRecentTutorialBlockEditorUpdateTime =\n          oldState.screen.level === Level.Level1 &&\n          areAnyTrue([\n            oldBlockEditorState.uiTouch !== null &&\n              newBlockEditorState.uiTouch === null,\n\n            oldBlockEditorState.palette.scrollInProgress !== null &&\n              newBlockEditorState.palette.scrollInProgress === null,\n\n            oldBlockEditorState.canvas.scrollInProgress !== null &&\n              newBlockEditorState.canvas.scroll === null,\n\n            oldBlockEditorState.canvas.items.length === 1 &&\n              newBlockEditorState.canvas.items.length === 1 &&\n              newBlockEditorState.canvas.items[0].content.length !==\n                oldBlockEditorState.canvas.items[0].content.length,\n          ]);\n        const isLevel9AndShouldResetMostRecentTutorialBlockEditorUpdateTime =\n          oldState.screen.level === Level.Level9 &&\n          areAnyTrue([\n            oldBlockEditorState.uiTouch !== null &&\n              newBlockEditorState.uiTouch === null,\n\n            oldBlockEditorState.palette.scrollInProgress !== null &&\n              newBlockEditorState.palette.scrollInProgress === null,\n\n            oldBlockEditorState.canvas.scrollInProgress !== null &&\n              newBlockEditorState.canvas.scroll === null,\n\n            oldBlockEditorState.literalEditor !== null &&\n              newBlockEditorState.literalEditor === null,\n\n            oldBlockEditorState.canvas.items.length !==\n              newBlockEditorState.canvas.items.length,\n\n            oldBlockEditorState.canvas.items.length ===\n              newBlockEditorState.canvas.items.length &&\n              oldBlockEditorState.canvas.items.some((oldItem, itemIndex) => {\n                const newItem = newBlockEditorState!.canvas.items[itemIndex];\n                return oldItem.content.length !== newItem.content.length;\n              }),\n          ]);\n        const shouldResetMostRecentTutorialBlockEditorUpdateTime =\n          isLevel1AndShouldResetMostRecentTutorialBlockEditorUpdateTime ||\n          isLevel9AndShouldResetMostRecentTutorialBlockEditorUpdateTime;\n\n        return {\n          screen: {\n            ...this.state.screen,\n            blockEditor: newBlockEditorState,\n            mostRecentTutorialBlockEditorUpdateTime:\n              shouldResetMostRecentTutorialBlockEditorUpdateTime\n                ? getCurrentTimestamp()\n                : this.state.screen.mostRecentTutorialBlockEditorUpdateTime,\n          },\n        };\n      },\n      () => {\n        if (newBlockEditorState === null) {\n          throw new Error(\n            \"Expected newBlockEditorState to be set by the time ReactComponent.prototype.setState callback was called.\"\n          );\n        }\n\n        if (optionalCallback !== undefined) {\n          optionalCallback(newBlockEditorState);\n        }\n      }\n    );\n  }\n\n  onHomeScreenStartButtonClick(): void {\n    const animationStartTime = getCurrentTimestamp();\n    const { screen } = this.state;\n    this.setState(\n      {\n        screen: {\n          blockEditor: screen.blockEditor,\n          level: screen.level,\n\n          animationKind: AnimationKind.HomeToView,\n          animationStartTime,\n          currentTimestamp: animationStartTime,\n          battleAnimationOffsetSeconds: 0,\n          prevLevelBlockEditor: getDummyBlockEditorState(),\n          mostRecentTutorialBlockEditorUpdateTime:\n            this.state.screen.mostRecentTutorialBlockEditorUpdateTime,\n        },\n      },\n      this.getViewScreenEnterAnimationUpdater(\n        animationStartTime,\n        AnimationKind.HomeToView\n      )\n    );\n  }\n\n  onHomeScreenSettingsButtonClick(): void {\n    const animationStartTime = getCurrentTimestamp();\n    const updateAnimationTimeIfAnimationIsStillInProgress = (): void => {\n      const currentState = this.state;\n      if (\n        !(\n          currentState.screen.animationKind === AnimationKind.OpenSettings &&\n          areTimestampsEqual(\n            currentState.screen.animationStartTime,\n            animationStartTime\n          )\n        )\n      ) {\n        return;\n      }\n\n      const currentTimestamp = getCurrentTimestamp();\n      const elapsedSeconds = getElapsedSeconds(\n        currentTimestamp,\n        currentState.screen.animationStartTime\n      );\n\n      if (elapsedSeconds > SCREEN_TRANSITION_ANIMATION_SECONDS) {\n        this.setState({\n          ...currentState,\n          screen: {\n            ...currentState.screen,\n            animationKind: AnimationKind.StaticSettings,\n          },\n        });\n        return;\n      }\n\n      this.setState({\n        ...currentState,\n        screen: {\n          ...currentState.screen,\n          currentTimestamp,\n        },\n      });\n\n      requestAnimationFrame(updateAnimationTimeIfAnimationIsStillInProgress);\n    };\n\n    const { screen } = this.state;\n    this.setState(\n      {\n        screen: {\n          blockEditor: screen.blockEditor,\n          level: screen.level,\n\n          animationKind: AnimationKind.OpenSettings,\n          animationStartTime,\n          currentTimestamp: animationStartTime,\n          battleAnimationOffsetSeconds: 0,\n          prevLevelBlockEditor: getDummyBlockEditorState(),\n          mostRecentTutorialBlockEditorUpdateTime:\n            this.state.screen.mostRecentTutorialBlockEditorUpdateTime,\n        },\n      },\n      updateAnimationTimeIfAnimationIsStillInProgress\n    );\n  }\n\n  onReturnHomeButtonClick(): void {\n    const { screen } = this.state;\n\n    if (screen.animationKind === AnimationKind.Edit) {\n      this.startEditToHomeAnimation();\n      return;\n    }\n\n    if (\n      [AnimationKind.PlayBattle, AnimationKind.PauseBattle].includes(\n        screen.animationKind\n      )\n    ) {\n      this.startViewToHomeAnimation();\n      return;\n    }\n  }\n\n  startEditToHomeAnimation(): void {\n    const currentScreen = this.state.screen;\n    const currentTimestamp = getCurrentTimestamp();\n    this.setState(\n      {\n        screen: {\n          blockEditor: currentScreen.blockEditor,\n          level: currentScreen.level,\n\n          animationKind: AnimationKind.EditToHome,\n          animationStartTime: currentTimestamp,\n          currentTimestamp,\n          battleAnimationOffsetSeconds: 0,\n          prevLevelBlockEditor: getDummyBlockEditorState(),\n          mostRecentTutorialBlockEditorUpdateTime:\n            this.state.screen.mostRecentTutorialBlockEditorUpdateTime,\n        },\n      },\n      this.getHomeScreenEnterAnimationUpdater(\n        currentTimestamp,\n        AnimationKind.EditToHome,\n        false\n      )\n    );\n  }\n\n  startViewToHomeAnimation(): void {\n    const currentScreen = this.state.screen;\n    const currentTimestamp = getCurrentTimestamp();\n    const levelUpOnHomeScreen =\n      isScreenShowingVictory(currentScreen, this.getCurrentLevelBattleEvents) &&\n      currentScreen.level < LAST_LEVEL;\n    this.setState(\n      {\n        screen: {\n          blockEditor: currentScreen.blockEditor,\n          level: currentScreen.level,\n\n          animationKind: AnimationKind.ViewToHome,\n          animationStartTime: currentTimestamp,\n          currentTimestamp,\n          battleAnimationOffsetSeconds: 0,\n          prevLevelBlockEditor: getDummyBlockEditorState(),\n          mostRecentTutorialBlockEditorUpdateTime:\n            this.state.screen.mostRecentTutorialBlockEditorUpdateTime,\n        },\n      },\n      this.getHomeScreenEnterAnimationUpdater(\n        currentTimestamp,\n        AnimationKind.ViewToHome,\n        levelUpOnHomeScreen\n      )\n    );\n  }\n\n  getHomeScreenEnterAnimationUpdater(\n    animationStartTime: Timestamp,\n    animationKind: AnimationKind,\n    levelUpOnHomeScreen: boolean\n  ): () => void {\n    const updateAnimationTimeIfAnimationIsStillInProgress = (): void => {\n      const currentState = this.state;\n      if (\n        !(\n          currentState.screen.animationKind === animationKind &&\n          areTimestampsEqual(\n            currentState.screen.animationStartTime,\n            animationStartTime\n          )\n        )\n      ) {\n        return;\n      }\n\n      const currentTimestamp = getCurrentTimestamp();\n      const elapsedSeconds = getElapsedSeconds(\n        currentTimestamp,\n        currentState.screen.animationStartTime\n      );\n\n      if (elapsedSeconds > SCREEN_TRANSITION_ANIMATION_SECONDS) {\n        const unsafeNextLevel = currentState.screen.level + 1;\n        const newLevelAndBlockEditorState: Partial<ScreenState> =\n          levelUpOnHomeScreen\n            ? {\n                level: unsafeNextLevel,\n                blockEditor:\n                  getStartingBlockEditorStateForLevel(unsafeNextLevel),\n              }\n            : {};\n        this.setState({\n          ...currentState,\n          screen: {\n            ...currentState.screen,\n            ...newLevelAndBlockEditorState,\n            animationKind: AnimationKind.StaticHome,\n          },\n        });\n        return;\n      }\n\n      this.setState({\n        ...currentState,\n        screen: {\n          ...currentState.screen,\n          currentTimestamp,\n        },\n      });\n\n      requestAnimationFrame(updateAnimationTimeIfAnimationIsStillInProgress);\n    };\n    return updateAnimationTimeIfAnimationIsStillInProgress;\n  }\n\n  getViewScreenEnterAnimationUpdater(\n    animationStartTime: Timestamp,\n    animationKind: AnimationKind\n  ): () => void {\n    const updateAnimationTimeIfAnimationIsStillInProgress = (): void => {\n      const currentState = this.state;\n      if (\n        !(\n          currentState.screen.animationKind === animationKind &&\n          areTimestampsEqual(\n            currentState.screen.animationStartTime,\n            animationStartTime\n          )\n        )\n      ) {\n        return;\n      }\n\n      const currentTimestamp = getCurrentTimestamp();\n      const elapsedSeconds = getElapsedSeconds(\n        currentTimestamp,\n        currentState.screen.animationStartTime\n      );\n\n      if (elapsedSeconds > SCREEN_TRANSITION_ANIMATION_SECONDS) {\n        this.setState(\n          {\n            ...currentState,\n            screen: {\n              ...currentState.screen,\n              animationKind: AnimationKind.PauseBattle,\n              animationStartTime: currentTimestamp,\n              currentTimestamp,\n              battleAnimationOffsetSeconds: 0,\n            },\n          },\n          this.getPauseScreenAnimationUpdater(currentTimestamp)\n        );\n        return;\n      }\n\n      this.setState({\n        ...currentState,\n        screen: {\n          ...currentState.screen,\n          currentTimestamp,\n        },\n      });\n\n      requestAnimationFrame(updateAnimationTimeIfAnimationIsStillInProgress);\n    };\n    return updateAnimationTimeIfAnimationIsStillInProgress;\n  }\n\n  getPauseScreenAnimationUpdater(animationStartTime: Timestamp): () => void {\n    const updateAnimationTimeIfAnimationIsStillInProgress = (): void => {\n      const currentState = this.state;\n      if (\n        !(\n          currentState.screen.animationKind === AnimationKind.PauseBattle &&\n          areTimestampsEqual(\n            currentState.screen.animationStartTime,\n            animationStartTime\n          )\n        )\n      ) {\n        return;\n      }\n\n      const currentTimestamp = getCurrentTimestamp();\n      this.setState({\n        ...currentState,\n        screen: {\n          ...currentState.screen,\n          currentTimestamp,\n        },\n      });\n\n      requestAnimationFrame(updateAnimationTimeIfAnimationIsStillInProgress);\n    };\n    return updateAnimationTimeIfAnimationIsStillInProgress;\n  }\n\n  getEditScreenAnimationUpdaterIfOnTutorialLevel(\n    animationStartTime: Timestamp\n  ): () => void {\n    if (![Level.Level1, Level.Level9].includes(this.state.screen.level)) {\n      return noOp;\n    }\n\n    const updateAnimationTimeIfAnimationIsStillInProgress = (): void => {\n      const currentState = this.state;\n      if (\n        !(\n          currentState.screen.animationKind === AnimationKind.Edit &&\n          areTimestampsEqual(\n            currentState.screen.animationStartTime,\n            animationStartTime\n          )\n        )\n      ) {\n        return;\n      }\n\n      if (\n        currentState.screen.blockEditor.uiTouch === null &&\n        currentState.screen.blockEditor.palette.scrollInProgress === null &&\n        currentState.screen.blockEditor.canvas.scrollInProgress === null &&\n        currentState.screen.blockEditor.literalEditor === null\n      ) {\n        const currentTimestamp = getCurrentTimestamp();\n        this.setState({\n          ...currentState,\n          screen: {\n            ...currentState.screen,\n            currentTimestamp,\n          },\n        });\n      }\n\n      requestAnimationFrame(updateAnimationTimeIfAnimationIsStillInProgress);\n    };\n    return updateAnimationTimeIfAnimationIsStillInProgress;\n  }\n\n  getButtonClickDetectorResources(): ButtonClickDetectorResources {\n    return {\n      tempCanvasCtx: this.tempCanvasCtx,\n      measureCanvasText: this.measureCanvasText,\n      getCurrentLevelBattleEvents: this.getCurrentLevelBattleEvents,\n    };\n  }\n\n  getCurrentLevelBattleAnimationData(): BattleAnimationData {\n    const { screen } = this.state;\n    const elapsedSeconds = getElapsedSeconds(\n      screen.currentTimestamp,\n      screen.animationStartTime\n    );\n    const battleEvents = this.getCurrentLevelBattleEvents();\n    const battleElapsedSeconds =\n      screen.animationKind === AnimationKind.PlayBattle\n        ? screen.battleAnimationOffsetSeconds + elapsedSeconds\n        : screen.animationKind === AnimationKind.PauseBattle\n        ? screen.battleAnimationOffsetSeconds\n        : 0;\n    return getBattleAnimationData(\n      getInitialLevelState(screen.level),\n      battleEvents,\n      battleElapsedSeconds\n    );\n  }\n\n  getCurrentLevelBattleEvents(): readonly BattleEvent[] {\n    const {\n      currentLevelBattleEventsCache: battleEventsCache,\n      lastBlockEditorSetStateCallTime,\n    } = this;\n    if (\n      lastBlockEditorSetStateCallTime.millisecondsSinceEpoch <=\n      battleEventsCache.timeCached.millisecondsSinceEpoch\n    ) {\n      return battleEventsCache.events;\n    }\n\n    const { screen } = this.state;\n    const newCache: BattleEventsCache = {\n      timeCached: getCurrentTimestamp(),\n      events: getBattleEvents(\n        screen.blockEditor.canvas,\n        getInitialLevelState(screen.level)\n      ),\n    };\n    this.currentLevelBattleEventsCache = newCache;\n    return newCache.events;\n  }\n\n  getPrevLevelBattleEvents(): readonly BattleEvent[] {\n    const {\n      prevLevelBattleEventsCache: battleEventsCache,\n      lastBlockEditorSetStateCallTime,\n    } = this;\n    if (\n      lastBlockEditorSetStateCallTime.millisecondsSinceEpoch <=\n      battleEventsCache.timeCached.millisecondsSinceEpoch\n    ) {\n      return battleEventsCache.events;\n    }\n\n    const { screen } = this.state;\n    const newCache: BattleEventsCache = {\n      timeCached: getCurrentTimestamp(),\n      events: getBattleEvents(\n        screen.prevLevelBlockEditor.canvas,\n        getInitialLevelState(screen.level - 1)\n      ),\n    };\n    this.prevLevelBattleEventsCache = newCache;\n    return newCache.events;\n  }\n\n  getLevel9DragStatus(): {\n    readonly needsLessThanBlockDrag: boolean;\n    readonly needsHealthBlockDrag: boolean;\n  } {\n    if (this.state.screen.level !== Level.Level9) {\n      return { needsLessThanBlockDrag: false, needsHealthBlockDrag: false };\n    }\n\n    const hasUserEditedLiteral =\n      this.state.screen.blockEditor.canvas.items.some((item) =>\n        doesBlockSequenceContainNonEmptyLiteral(item.content)\n      );\n    if (hasUserEditedLiteral) {\n      return { needsLessThanBlockDrag: false, needsHealthBlockDrag: false };\n    }\n\n    const { appHeight, appWidth, screen } = this.state;\n    const fingerWidth = 60;\n    const fingerHeight =\n      fingerWidth *\n      (images.tutorial.finger.naturalHeight /\n        images.tutorial.finger.naturalWidth);\n    const readonlyMainBlockEditorProps: BlockEditorProps<BlockKind> = {\n      config: this.getMainBlockEditorConfig(),\n      state: this.state.screen.blockEditor,\n      measureText: this.measureSvgText,\n      setState: noOp,\n    };\n    const paletteSpecs = getPaletteBlockRenderSpecs(\n      readonlyMainBlockEditorProps\n    );\n\n    const paletteLessThanBlockRbox = paletteSpecs.find(\n      (spec) => spec.block.kind === BlockKind.LessThan\n    )!.rbox;\n    const paletteLessThanBlockRboxTop = paletteLessThanBlockRbox.topLeft.y;\n    const paletteLessThanBlockRboxBottom =\n      paletteLessThanBlockRbox.topLeft.y +\n      paletteLessThanBlockRbox.dimensions.height;\n    const PADDING = 20 + 0.3 * fingerHeight;\n    const requiredPaletteScrollYForLessThanBlock =\n      paletteLessThanBlockRboxTop < 0\n        ? -paletteLessThanBlockRboxTop + PADDING\n        : paletteLessThanBlockRboxBottom > appHeight\n        ? appHeight - paletteLessThanBlockRboxBottom - PADDING\n        : 0;\n\n    const paletteHealthBlockRbox = paletteSpecs.find(\n      (spec) => spec.block.kind === BlockKind.Health\n    )!.rbox;\n    const paletteHealthBlockRboxTop = paletteHealthBlockRbox.topLeft.y;\n    const paletteHealthBlockRboxBottom =\n      paletteHealthBlockRbox.topLeft.y +\n      paletteHealthBlockRbox.dimensions.height;\n    const requiredPaletteScrollYForHealthBlock =\n      paletteHealthBlockRboxTop < 0\n        ? -paletteHealthBlockRboxTop + PADDING\n        : paletteHealthBlockRboxBottom > appHeight\n        ? appHeight - paletteHealthBlockRboxBottom - PADDING\n        : 0;\n\n    const { canvas } = screen.blockEditor;\n    const totalScroll =\n      canvas.scrollInProgress === null\n        ? canvas.scroll\n        : {\n            x:\n              canvas.scroll.x +\n              canvas.scrollInProgress.currentClientPosition.x -\n              canvas.scrollInProgress.startClientPosition.x,\n            y:\n              canvas.scroll.y +\n              canvas.scrollInProgress.currentClientPosition.y -\n              canvas.scrollInProgress.startClientPosition.y,\n          };\n    const onScreenEmptyLessThanBlockSpec =\n      ((): null | BlockRenderSpec<BlockKind> => {\n        function isOnScreenEmptyLessThanBlockSpec(\n          spec: BlockRenderSpec<BlockKind>\n        ): boolean {\n          const translatedTopLeft = addVec(totalScroll, spec.rbox.topLeft);\n          const left = translatedTopLeft.x;\n          const top = translatedTopLeft.y;\n          const right = left + spec.rbox.dimensions.width;\n          const bottom = top + spec.rbox.dimensions.height;\n          const isOnScreen =\n            0 <= left && right <= appWidth && 0 <= top && bottom <= appHeight;\n\n          const isEmpty = spec.block.args.expressions.every(\n            (expr) => expr.isLiteral && expr.source === \"\"\n          );\n\n          return (\n            isOnScreen && spec.block.kind === BlockKind.LessThan && isEmpty\n          );\n        }\n\n        const specs = getCanvasItemRenderSpecs(readonlyMainBlockEditorProps);\n        for (const seqSpec of specs) {\n          const blockSpec = getBlockSpecFromBlockSequenceSpecSatisfying(\n            seqSpec,\n            isOnScreenEmptyLessThanBlockSpec\n          );\n          if (blockSpec !== null) {\n            return blockSpec;\n          }\n        }\n\n        return null;\n      })();\n    const onScreenLessThanWithHealthLhsAndEmptyRhsBlockSpec =\n      ((): null | BlockRenderSpec<BlockKind> => {\n        function isOnScreenLessThanWithHealthLhsAndEmptyRhsBlockSpec(\n          spec: BlockRenderSpec<BlockKind>\n        ): boolean {\n          const translatedTopLeft = addVec(totalScroll, spec.rbox.topLeft);\n          const left = translatedTopLeft.x;\n          const top = translatedTopLeft.y;\n          const right = left + spec.rbox.dimensions.width;\n          const bottom = top + spec.rbox.dimensions.height;\n          const isOnScreen =\n            0 <= left && right <= appWidth && 0 <= top && bottom <= appHeight;\n\n          const lhs = spec.block.args.expressions[0];\n          const isLhsHealthBlock =\n            lhs !== undefined &&\n            !lhs.isLiteral &&\n            lhs.kind === BlockKind.Health;\n\n          const rhs = spec.block.args.expressions[1];\n          const isRhsEmptyLiteral =\n            rhs !== undefined && rhs.isLiteral && rhs.source === \"\";\n\n          return (\n            isOnScreen &&\n            spec.block.kind === BlockKind.LessThan &&\n            isLhsHealthBlock &&\n            isRhsEmptyLiteral\n          );\n        }\n\n        const specs = getCanvasItemRenderSpecs(readonlyMainBlockEditorProps);\n        for (const seqSpec of specs) {\n          const blockSpec = getBlockSpecFromBlockSequenceSpecSatisfying(\n            seqSpec,\n            isOnScreenLessThanWithHealthLhsAndEmptyRhsBlockSpec\n          );\n          if (blockSpec !== null) {\n            return blockSpec;\n          }\n        }\n\n        return null;\n      })();\n\n    const noBlockEditorUiAction =\n      screen.blockEditor.uiTouch === null &&\n      screen.blockEditor.palette.scrollInProgress === null &&\n      screen.blockEditor.canvas.scrollInProgress === null &&\n      screen.blockEditor.literalEditor === null;\n\n    const needsLessThanBlockDrag =\n      onScreenEmptyLessThanBlockSpec === null &&\n      onScreenLessThanWithHealthLhsAndEmptyRhsBlockSpec === null &&\n      requiredPaletteScrollYForLessThanBlock === 0 &&\n      noBlockEditorUiAction;\n\n    const needsHealthBlockDrag =\n      onScreenEmptyLessThanBlockSpec !== null &&\n      onScreenLessThanWithHealthLhsAndEmptyRhsBlockSpec === null &&\n      requiredPaletteScrollYForHealthBlock === 0 &&\n      noBlockEditorUiAction;\n\n    return { needsLessThanBlockDrag, needsHealthBlockDrag };\n  }\n\n  getLoadingScreenAnimationUpdater(animationStartTime: Timestamp): () => void {\n    const updateAnimationTimeIfAnimationIsStillInProgress = (): void => {\n      const currentState = this.state;\n\n      if (\n        !(\n          currentState.screen.animationKind === AnimationKind.Loading &&\n          areTimestampsEqual(\n            currentState.screen.animationStartTime,\n            animationStartTime\n          )\n        )\n      ) {\n        return;\n      }\n\n      const currentTimestamp = getCurrentTimestamp();\n\n      if (this.getLoadCompletionFactor() >= 1) {\n        this.setState({\n          ...currentState,\n          screen: {\n            ...currentState.screen,\n            animationKind: AnimationKind.StaticHome,\n            animationStartTime: currentTimestamp,\n            currentTimestamp,\n          },\n        });\n        return;\n      }\n\n      this.setState({\n        ...currentState,\n        screen: {\n          ...currentState.screen,\n          currentTimestamp,\n        },\n      });\n\n      requestAnimationFrame(updateAnimationTimeIfAnimationIsStillInProgress);\n    };\n    return updateAnimationTimeIfAnimationIsStillInProgress;\n  }\n\n  getLoadCompletionFactor(): number {\n    const { currentTimestamp, animationStartTime } = this.state.screen;\n    const elapsedSeconds = getElapsedSeconds(\n      currentTimestamp,\n      animationStartTime\n    );\n    return Math.min(\n      1,\n      evaluateSimpleClampedFunction(\n        {\n          kind: \"StepwiseLinearFunction\",\n          points: [\n            { x: 0, y: 0 },\n            { x: 0.3, y: 0.3 },\n            { x: 0.6, y: 0.3 },\n            { x: 1, y: 1 },\n          ],\n        },\n        elapsedSeconds\n      )\n    );\n  }\n\n  renderTextAndIconsAroundCenter(text: string, center: Vec2): CanvasElement {\n    const elements: CanvasElement[] = [];\n\n    const {\n      puzzleButtonIconDimensions,\n      puzzleButtonIconHorizontalMargin,\n      minLineHeight,\n      font,\n      textColor,\n    } = this.getInstructionsBoxRenderInfo();\n\n    const lines: readonly (readonly string[])[] = text\n      .split(\"\\n\")\n      .map((rawLine) =>\n        typesafeCast<readonly TextSentinel[]>(\n          ALL_PUZZLE_SCREEN_BUTTON_ICON_SENTINELS\n        )\n          .concat(ALL_FONT_CHANGE_SENTINELS)\n          .reduce(\n            (currentText, sentinel) =>\n              currentText.replace(sentinel, `\\n${sentinel}\\n`),\n            rawLine\n          )\n          .split(\"\\n\")\n          .map((part) => part.trim())\n          .filter((part) => part !== \"\")\n      );\n    const allPartWidths: readonly (readonly number[])[] = lines.map((line) => {\n      let fontFamilyOverride = font.fontFamily;\n      return line.map((part) => {\n        if (\n          typesafeCast<readonly string[]>(\n            ALL_PUZZLE_SCREEN_BUTTON_ICON_SENTINELS\n          ).includes(part)\n        ) {\n          return (\n            puzzleButtonIconDimensions.width +\n            2 * puzzleButtonIconHorizontalMargin\n          );\n        }\n\n        if (\n          typesafeCast<readonly string[]>(ALL_FONT_CHANGE_SENTINELS).includes(\n            part\n          )\n        ) {\n          fontFamilyOverride =\n            FONT_CHANGE_SENTINEL_FONT_FAMILIES[part as FontChangeTextSentinel];\n          return 0;\n        }\n\n        return this.measureCanvasText({\n          ...font,\n          fontFamily: fontFamilyOverride,\n          text: part,\n        }).width;\n      });\n    });\n    const lineHeights: readonly number[] = lines.map((line) => {\n      let fontFamilyOverride = font.fontFamily;\n      return Math.max(\n        minLineHeight,\n        ...line.map((part) => {\n          if (\n            typesafeCast<readonly string[]>(\n              ALL_PUZZLE_SCREEN_BUTTON_ICON_SENTINELS\n            ).includes(part)\n          ) {\n            return puzzleButtonIconDimensions.height;\n          }\n\n          if (\n            typesafeCast<readonly string[]>(ALL_FONT_CHANGE_SENTINELS).includes(\n              part\n            )\n          ) {\n            fontFamilyOverride =\n              FONT_CHANGE_SENTINEL_FONT_FAMILIES[\n                part as FontChangeTextSentinel\n              ];\n            return 0;\n          }\n\n          return this.measureCanvasText({\n            ...font,\n            fontFamily: fontFamilyOverride,\n            text: part,\n          }).height;\n        })\n      );\n    });\n\n    let y = center.y - 0.5 * sum(lineHeights);\n    for (let lineIndex = 0; lineIndex < lines.length; ++lineIndex) {\n      const lineHeight = lineHeights[lineIndex];\n      const parts = lines[lineIndex];\n      const partWidths = allPartWidths[lineIndex];\n      let x = center.x - 0.5 * sum(partWidths);\n\n      let fontFamilyOverride = font.fontFamily;\n\n      for (let partIndex = 0; partIndex < parts.length; ++partIndex) {\n        const part = parts[partIndex];\n        const partWidth = partWidths[partIndex];\n\n        if (\n          typesafeCast<readonly string[]>(\n            ALL_PUZZLE_SCREEN_BUTTON_ICON_SENTINELS\n          ).includes(part)\n        ) {\n          elements.push({\n            kind: CanvasElementKind.Image,\n            source:\n              PUZZLE_SCREEN_BUTTON_ICON_SENTINEL_IMAGES[\n                part as PuzzleScreenButtonIconTextSentinel\n              ],\n            dx: x + 0.5 * partWidth - 0.5 * puzzleButtonIconDimensions.width,\n            dy: y + 0.5 * lineHeight - 0.5 * puzzleButtonIconDimensions.height,\n            dw: puzzleButtonIconDimensions.width,\n            dh: puzzleButtonIconDimensions.height,\n          });\n        } else if (\n          typesafeCast<readonly string[]>(ALL_FONT_CHANGE_SENTINELS).includes(\n            part\n          )\n        ) {\n          fontFamilyOverride =\n            FONT_CHANGE_SENTINEL_FONT_FAMILIES[part as FontChangeTextSentinel];\n        } else {\n          elements.push({\n            kind: CanvasElementKind.Text,\n            text: part,\n            x: x + 0.5 * partWidth,\n            y: y + 0.5 * lineHeight,\n            fill: textColor,\n            ...font,\n            fontFamily: fontFamilyOverride,\n            textAlign: \"center\",\n            textBaseline: \"middle\",\n          });\n        }\n\n        x += partWidth;\n      }\n\n      y += lineHeight;\n    }\n\n    return {\n      kind: CanvasElementKind.Group,\n      children: elements,\n    };\n  }\n\n  getInstructionsBoxRenderInfo(): InstructionsBoxRenderInfo {\n    const { appWidth } = this.state;\n\n    const backgroundImageScale = appWidth / SIZING.castleInteriorImage.width;\n\n    const buttonIconWidth = backgroundImageScale * 50;\n\n    const { minLineHeight, fontSize } = {\n      [UiLanguage.English]: {\n        minLineHeight: backgroundImageScale * 33,\n        fontSize: backgroundImageScale * 22,\n      },\n      [UiLanguage.Japanese]: {\n        minLineHeight: backgroundImageScale * 42,\n        fontSize: backgroundImageScale * 28,\n      },\n    }[this.state.language];\n\n    return {\n      puzzleButtonIconDimensions: {\n        width: buttonIconWidth,\n        height:\n          buttonIconWidth *\n          (images.buttons.puzzle.edit.naturalHeight /\n            images.buttons.puzzle.edit.naturalWidth),\n      },\n      puzzleButtonIconHorizontalMargin: backgroundImageScale * 10,\n      minLineHeight,\n      font: {\n        fontSize,\n        fontFamily: UI_TEXT_FONT_FAMILY,\n      },\n      textColor: COLOR_THEME.textBrown,\n    };\n  }\n}\n\nfunction getUiText(language: UiLanguage, kind: UiTextKind): string {\n  return LOCALIZED_UI_TEXT[language][kind];\n}\n\nfunction getCurrentTimestamp(): Timestamp {\n  return {\n    millisecondsSinceEpoch: Date.now(),\n  };\n}\n\nfunction areTimestampsEqual(a: Timestamp, b: Timestamp): boolean {\n  return a.millisecondsSinceEpoch === b.millisecondsSinceEpoch;\n}\n\nfunction getBattleEvents(\n  canvas: BlockCanvasState<BlockKind>,\n  initialLevelState: LevelState\n): readonly BattleEvent[] {\n  const canvasItem = canvas.items.find(\n    (item) =>\n      item.content.length > 0 &&\n      item.content[0].kind === BlockKind.WhenBattleStarts\n  );\n  if (canvasItem === undefined) {\n    return [];\n  }\n\n  const mbec: MutableBlockExecutionContext = {\n    gas: 9999,\n    stack: canvasItem.content\n      .slice(1)\n      .map(\n        (block, blockIndexMinusOne): AddressedCommand => ({\n          block,\n          blockSource: [CANVAS_ADDRESS_PART, 0, blockIndexMinusOne + 1],\n        })\n      )\n      .reverse(),\n    levelState: initialLevelState,\n    events: [],\n  };\n\n  while (\n    mbec.gas > 0 &&\n    mbec.stack.length > 0 &&\n    isBattleStillOngoing(mbec.levelState)\n  ) {\n    evalAndPopTopStackBlock(mbec, true);\n  }\n\n  const { events } = mbec;\n  const TURNS_ALLOWED_FOR_ENEMIES_TO_ATTACK_UNOPPOSED = 100;\n  for (\n    let i = 0;\n    i < TURNS_ALLOWED_FOR_ENEMIES_TO_ATTACK_UNOPPOSED &&\n    isBattleStillOngoing(mbec.levelState);\n    ++i\n  ) {\n    const [eventsFromEnemyTurn, levelStateAfterEnemyTurn] =\n      getBattleEventsAndNewLevelStateAfterEnemyTurn(\n        mbec.levelState,\n        mbec,\n        true\n      );\n    events.push(...eventsFromEnemyTurn);\n    mbec.levelState = levelStateAfterEnemyTurn;\n  }\n\n  // If the hero hasn't finished the level and there are no more\n  // commands, the player fails the level.\n  if (getHeroIndex(mbec.levelState) < mbec.levelState.squares.length - 1) {\n    addFailLevelEventIfNotAlreadyPresent(events);\n  }\n  return events;\n}\n\nfunction evalAndPopTopStackBlock(\n  mbec: MutableBlockExecutionContext,\n  canEnemiesSummon: boolean\n): string {\n  if (!(mbec.gas > 0 && mbec.stack.length > 0)) {\n    return \"\";\n  }\n\n  const command = mbec.stack.pop();\n  if (command === undefined) {\n    return \"\";\n  }\n\n  --mbec.gas;\n\n  const { events } = mbec;\n  let { levelState } = mbec;\n\n  const { block, blockSource } = command;\n  events.push({\n    kind: BattleEventKind.EvalBlock,\n    block,\n    source: blockSource,\n  });\n\n  if (block.kind === BlockKind.MoveForward) {\n    const canAdvance =\n      levelState.squares[getHeroIndex(levelState) + 1].kind ===\n      SquareKind.Empty;\n    const advanceAttempt: BattleEvent = canAdvance\n      ? {\n          kind: BattleEventKind.Advance,\n          source: blockSource,\n        }\n      : {\n          kind: BattleEventKind.FailHeroAction,\n          failedActionKind: HeroActionKind.Advance,\n          source: blockSource,\n        };\n    events.push(advanceAttempt);\n    levelState = applyBattleEventUnchecked(advanceAttempt, levelState);\n\n    if (getHeroIndex(levelState) === levelState.squares.length - 1) {\n      events.push({ kind: BattleEventKind.ClimbStairs });\n      mbec.gas = 0;\n      mbec.levelState = levelState;\n      return \"\";\n    }\n  }\n\n  if (block.kind === BlockKind.MoveBackward) {\n    const canRetreat =\n      getHeroIndex(levelState) > 0 &&\n      levelState.squares[getHeroIndex(levelState) - 1].kind ===\n        SquareKind.Empty;\n    const retreatAttempt: BattleEvent = canRetreat\n      ? {\n          kind: BattleEventKind.Retreat,\n          source: blockSource,\n        }\n      : {\n          kind: BattleEventKind.FailHeroAction,\n          failedActionKind: HeroActionKind.Retreat,\n          source: blockSource,\n        };\n    events.push(retreatAttempt);\n    levelState = applyBattleEventUnchecked(retreatAttempt, levelState);\n  }\n\n  if (block.kind === BlockKind.Attack) {\n    const connectsWithTarget =\n      getHeroIndex(levelState) < levelState.squares.length - 1 &&\n      (levelState.squares[getHeroIndex(levelState) + 1].kind ===\n        SquareKind.Goblin ||\n        levelState.squares[getHeroIndex(levelState) + 1].kind ===\n          SquareKind.GiantGoblin ||\n        levelState.squares[getHeroIndex(levelState) + 1].kind ===\n          SquareKind.Witch);\n    const attackAttempt: BattleEvent = connectsWithTarget\n      ? {\n          kind: BattleEventKind.Attack,\n          attackerIndex: getHeroIndex(levelState),\n          targetIndex: getHeroIndex(levelState) + 1,\n          damage: BATTLE_CONFIG.heroDamage,\n          source: blockSource,\n        }\n      : {\n          kind: BattleEventKind.FailHeroAction,\n          failedActionKind: HeroActionKind.Attack,\n          source: blockSource,\n        };\n    events.push(attackAttempt);\n    levelState = applyBattleEventUnchecked(attackAttempt, levelState);\n  }\n\n  if (block.kind === BlockKind.Heal) {\n    const canHeal =\n      getHeroIndex(levelState) < levelState.squares.length - 1 &&\n      (levelState.squares[getHeroIndex(levelState)] as HeroSquareState).health <\n        BATTLE_CONFIG.heroMaxHealth;\n    const healAttempt: BattleEvent = canHeal\n      ? {\n          kind: BattleEventKind.Heal,\n          targetIndex: getHeroIndex(levelState),\n          healAmount: Math.min(\n            BATTLE_CONFIG.heroMaxHealth -\n              (levelState.squares[getHeroIndex(levelState)] as HeroSquareState)\n                .health,\n            BATTLE_CONFIG.heroHeal\n          ),\n          source: blockSource,\n        }\n      : {\n          kind: BattleEventKind.FailHeroAction,\n          failedActionKind: HeroActionKind.Heal,\n          source: blockSource,\n        };\n    events.push(healAttempt);\n    levelState = applyBattleEventUnchecked(healAttempt, levelState);\n  }\n\n  if (block.kind === BlockKind.Forever) {\n    mbec.stack.push({ block, blockSource });\n    mbec.stack.push(\n      ...block.args.sequences[0]\n        .map(\n          (sequenceBlock, sequenceBlockIndex): AddressedCommand => ({\n            block: sequenceBlock,\n            blockSource: blockSource.concat([\n              ARG_COMMAND_SEQUENCE_ADDRESS_PART,\n              0,\n              sequenceBlockIndex,\n            ]),\n          })\n        )\n        .reverse()\n    );\n  }\n\n  if (block.kind === BlockKind.If) {\n    const shouldExecuteBody = evalArgExpression(\n      block.args.expressions[0],\n      blockSource.concat([ARG_EXPRESSION_ADDRESS_PART, 0]),\n      mbec\n    );\n    if (shouldExecuteBody === \"true\") {\n      mbec.stack.push(\n        ...block.args.sequences[0]\n          .map(\n            (sequenceBlock, sequenceBlockIndex): AddressedCommand => ({\n              block: sequenceBlock,\n              blockSource: blockSource.concat([\n                ARG_COMMAND_SEQUENCE_ADDRESS_PART,\n                0,\n                sequenceBlockIndex,\n              ]),\n            })\n          )\n          .reverse()\n      );\n    }\n  }\n\n  if (block.kind === BlockKind.And) {\n    const left = evalArgExpression(\n      block.args.expressions[0],\n      blockSource.concat([ARG_EXPRESSION_ADDRESS_PART, 0]),\n      mbec\n    );\n    const right = evalArgExpression(\n      block.args.expressions[1],\n      blockSource.concat([ARG_EXPRESSION_ADDRESS_PART, 1]),\n      mbec\n    );\n    return String(left === \"true\" && right === \"true\");\n  }\n\n  if (block.kind === BlockKind.Or) {\n    const left = evalArgExpression(\n      block.args.expressions[0],\n      blockSource.concat([ARG_EXPRESSION_ADDRESS_PART, 0]),\n      mbec\n    );\n    const right = evalArgExpression(\n      block.args.expressions[1],\n      blockSource.concat([ARG_EXPRESSION_ADDRESS_PART, 1]),\n      mbec\n    );\n    return String(left === \"true\" || right === \"true\");\n  }\n\n  if (block.kind === BlockKind.Not) {\n    const operand = evalArgExpression(\n      block.args.expressions[0],\n      blockSource.concat([ARG_EXPRESSION_ADDRESS_PART, 0]),\n      mbec\n    );\n    return String(operand !== \"true\");\n  }\n\n  if (block.kind === BlockKind.XInFront) {\n    const dropdownValue = block.args.dropdowns[0];\n    const expected =\n      X_IN_FRONT_DROPDOWN_VALUES_TO_EXPECTED_SQUARE_KIND_DICT[dropdownValue];\n    if (expected === undefined) {\n      return \"\";\n    }\n\n    const heroIndex = getHeroIndex(levelState);\n    if (heroIndex === -1 || heroIndex === levelState.squares.length - 1) {\n      return \"\";\n    }\n\n    const inspectedIndex = heroIndex + 1;\n    return String(levelState.squares[inspectedIndex].kind === expected);\n  }\n\n  if (block.kind === BlockKind.Health) {\n    const heroIndex = getHeroIndex(levelState);\n    if (heroIndex === -1) {\n      return \"0\";\n    }\n    const hero = levelState.squares[heroIndex] as HeroSquareState;\n\n    return String(hero.health);\n  }\n\n  if (block.kind === BlockKind.LessThan) {\n    const lhsStr = evalArgExpression(\n      block.args.expressions[0],\n      blockSource.concat([ARG_EXPRESSION_ADDRESS_PART, 0]),\n      mbec\n    );\n    const lhs = Number.parseFloat(lhsStr);\n\n    const rhsStr = evalArgExpression(\n      block.args.expressions[1],\n      blockSource.concat([ARG_EXPRESSION_ADDRESS_PART, 1]),\n      mbec\n    );\n    const rhs = Number.parseFloat(rhsStr);\n\n    return String(lhs < rhs);\n  }\n\n  if (block.kind === BlockKind.Equal) {\n    const lhsStr = evalArgExpression(\n      block.args.expressions[0],\n      blockSource.concat([ARG_EXPRESSION_ADDRESS_PART, 0]),\n      mbec\n    );\n    const lhs = Number.parseFloat(lhsStr);\n\n    const rhsStr = evalArgExpression(\n      block.args.expressions[1],\n      blockSource.concat([ARG_EXPRESSION_ADDRESS_PART, 1]),\n      mbec\n    );\n    const rhs = Number.parseFloat(rhsStr);\n\n    return String(lhs === rhs);\n  }\n\n  if (block.kind === BlockKind.GreaterThan) {\n    const lhsStr = evalArgExpression(\n      block.args.expressions[0],\n      blockSource.concat([ARG_EXPRESSION_ADDRESS_PART, 0]),\n      mbec\n    );\n    const lhs = Number.parseFloat(lhsStr);\n\n    const rhsStr = evalArgExpression(\n      block.args.expressions[1],\n      blockSource.concat([ARG_EXPRESSION_ADDRESS_PART, 1]),\n      mbec\n    );\n    const rhs = Number.parseFloat(rhsStr);\n\n    return String(lhs > rhs);\n  }\n\n  if (doesBlockKindConsumeHeroTurn(block.kind)) {\n    const [eventsFromEnemyTurn, levelStateAfterEnemyTurn] =\n      getBattleEventsAndNewLevelStateAfterEnemyTurn(\n        levelState,\n        mbec,\n        canEnemiesSummon\n      );\n    events.push(...eventsFromEnemyTurn);\n    levelState = levelStateAfterEnemyTurn;\n  }\n\n  const hero = levelState.squares[getHeroIndex(levelState)];\n  if (hero.kind === SquareKind.Hero && hero.health <= 0) {\n    addFailLevelEventIfNotAlreadyPresent(events);\n    mbec.gas = 0;\n    mbec.levelState = levelState;\n    return \"\";\n  }\n\n  mbec.levelState = levelState;\n  return \"\";\n}\n\nfunction evalArgExpression(\n  expression: Literal | Block<BlockKind>,\n  address: NodeAddress,\n  mbec: MutableBlockExecutionContext\n): string {\n  if (expression.isLiteral) {\n    return expression.source;\n  }\n\n  mbec.stack.push({ block: expression, blockSource: address });\n  return evalAndPopTopStackBlock(mbec, true);\n}\n\nfunction getBattleEventsAndNewLevelStateAfterEnemyTurn(\n  initialLevelState: LevelState,\n  ibec: ImmutableBlockExecutionContext,\n  canEnemiesSummon: boolean\n): readonly [readonly BattleEvent[], LevelState] {\n  const events = [];\n  let levelState = initialLevelState;\n\n  if (\n    getHeroIndex(levelState) < levelState.squares.length - 1 &&\n    levelState.squares[getHeroIndex(levelState) + 1].kind === SquareKind.Goblin\n  ) {\n    const goblinAttack: BattleEvent = {\n      kind: BattleEventKind.Attack,\n      attackerIndex: getHeroIndex(levelState) + 1,\n      targetIndex: getHeroIndex(levelState),\n      damage: BATTLE_CONFIG.goblinDamage,\n      source: null,\n    };\n    events.push(goblinAttack);\n    levelState = applyBattleEventUnchecked(goblinAttack, levelState);\n  }\n\n  if (\n    getHeroIndex(levelState) < levelState.squares.length - 1 &&\n    levelState.squares[getHeroIndex(levelState) + 1].kind ===\n      SquareKind.GiantGoblin\n  ) {\n    const giantGoblinAttack: BattleEvent = {\n      kind: BattleEventKind.Attack,\n      attackerIndex: getHeroIndex(levelState) + 1,\n      targetIndex: getHeroIndex(levelState),\n      damage: BATTLE_CONFIG.giantGoblinDamage,\n      source: null,\n    };\n    events.push(giantGoblinAttack);\n    levelState = applyBattleEventUnchecked(giantGoblinAttack, levelState);\n  }\n\n  if (\n    getHeroIndex(levelState) < levelState.squares.length - 1 &&\n    getFrontAttackingWitchIndex(levelState) !== -1\n  ) {\n    const witchAttack: BattleEvent = {\n      kind: BattleEventKind.Attack,\n      attackerIndex: getFrontAttackingWitchIndex(levelState),\n      targetIndex: getHeroIndex(levelState),\n      damage: BATTLE_CONFIG.witchDamage,\n      source: null,\n    };\n\n    const attackingWitchIndex = getFrontAttackingWitchIndex(levelState);\n    const heroDistance = attackingWitchIndex - getHeroIndex(levelState);\n    if (\n      canEnemiesSummon &&\n      heroDistance > 1 &&\n      willHeroKillEnemyAtIndexAssumingEnemiesCannotSummon(\n        {\n          ...ibec,\n          levelState: applyBattleEventUnchecked(witchAttack, levelState),\n        },\n        attackingWitchIndex\n      ) &&\n      (levelState.squares[attackingWitchIndex] as WitchSquareState).health >\n        BATTLE_CONFIG.witchSummonGoblinHealthCost\n    ) {\n      const summon: BattleEvent = {\n        kind: BattleEventKind.Summon,\n        summonee: {\n          kind: SquareKind.Goblin,\n          health: 10,\n        },\n        summonerIndex: getFrontAttackingWitchIndex(levelState),\n        summonerHealthCost: BATTLE_CONFIG.witchSummonGoblinHealthCost,\n        targetIndex: getHeroIndex(levelState) + 1,\n        source: null,\n      };\n      events.push(summon);\n      levelState = applyBattleEventUnchecked(summon, levelState);\n    } else {\n      events.push(witchAttack);\n      levelState = applyBattleEventUnchecked(witchAttack, levelState);\n    }\n  }\n\n  return [events, levelState];\n}\n\nfunction getHeroIndex(levelState: LevelState): number {\n  return levelState.squares.findIndex((s) => s.kind === SquareKind.Hero);\n}\n\nfunction applyBattleEventUnchecked(\n  event: BattleEvent,\n  currentLevel: LevelState\n): LevelState {\n  if (\n    event.kind === BattleEventKind.FailHeroAction ||\n    event.kind === BattleEventKind.EvalBlock\n  ) {\n    return currentLevel;\n  }\n\n  const heroIndex = getHeroIndex(currentLevel);\n\n  if (event.kind === BattleEventKind.Advance) {\n    const newSquares: SquareState[] = currentLevel.squares.map(\n      (currentSquare, i): SquareState => {\n        if (i === heroIndex) {\n          return { kind: SquareKind.Empty };\n        }\n        if (i === heroIndex + 1 && currentSquare.kind === SquareKind.Empty) {\n          return currentLevel.squares[heroIndex];\n        }\n        return currentSquare;\n      }\n    );\n    return { squares: newSquares };\n  }\n\n  if (event.kind === BattleEventKind.Retreat) {\n    const newSquares: SquareState[] = currentLevel.squares.map(\n      (currentSquare, i): SquareState => {\n        if (i === heroIndex) {\n          return { kind: SquareKind.Empty };\n        }\n        if (i === heroIndex - 1 && currentSquare.kind === SquareKind.Empty) {\n          return currentLevel.squares[heroIndex];\n        }\n        return currentSquare;\n      }\n    );\n    return { squares: newSquares };\n  }\n\n  if (event.kind === BattleEventKind.Attack) {\n    const newSquares: SquareState[] = currentLevel.squares.map(\n      (currentSquare, i): SquareState => {\n        if (i !== event.targetIndex) {\n          return currentSquare;\n        }\n\n        if (currentSquare.kind === SquareKind.Goblin) {\n          const damagedGoblin: GoblinSquareState = {\n            ...currentSquare,\n            health: currentSquare.health - event.damage,\n          };\n          if (damagedGoblin.health <= 0) {\n            return { kind: SquareKind.Empty };\n          }\n          return damagedGoblin;\n        }\n\n        if (currentSquare.kind === SquareKind.GiantGoblin) {\n          const damagedGiantGoblin: GiantGoblinSquareState = {\n            ...currentSquare,\n            health: currentSquare.health - event.damage,\n          };\n          if (damagedGiantGoblin.health <= 0) {\n            return { kind: SquareKind.Empty };\n          }\n          return damagedGiantGoblin;\n        }\n\n        if (currentSquare.kind === SquareKind.Witch) {\n          const damagedWitch: WitchSquareState = {\n            ...currentSquare,\n            health: currentSquare.health - event.damage,\n          };\n          if (damagedWitch.health <= 0) {\n            return { kind: SquareKind.Empty };\n          }\n          return damagedWitch;\n        }\n\n        if (currentSquare.kind === SquareKind.Hero) {\n          return {\n            ...currentSquare,\n            health: currentSquare.health - event.damage,\n          };\n        }\n\n        return currentSquare;\n      }\n    );\n    return { squares: newSquares };\n  }\n\n  if (event.kind === BattleEventKind.Summon) {\n    const newSquares: SquareState[] = currentLevel.squares.map(\n      (currentSquare, i): SquareState => {\n        if (i === event.targetIndex) {\n          return event.summonee;\n        }\n\n        if (i !== event.summonerIndex) {\n          return currentSquare;\n        }\n\n        if (currentSquare.kind === SquareKind.Goblin) {\n          const damagedGoblin: GoblinSquareState = {\n            ...currentSquare,\n            health: currentSquare.health - event.summonerHealthCost,\n          };\n          if (damagedGoblin.health <= 0) {\n            return { kind: SquareKind.Empty };\n          }\n          return damagedGoblin;\n        }\n\n        if (currentSquare.kind === SquareKind.GiantGoblin) {\n          const damagedGiantGoblin: GiantGoblinSquareState = {\n            ...currentSquare,\n            health: currentSquare.health - event.summonerHealthCost,\n          };\n          if (damagedGiantGoblin.health <= 0) {\n            return { kind: SquareKind.Empty };\n          }\n          return damagedGiantGoblin;\n        }\n\n        if (currentSquare.kind === SquareKind.Witch) {\n          const damagedWitch: WitchSquareState = {\n            ...currentSquare,\n            health: currentSquare.health - event.summonerHealthCost,\n          };\n          if (damagedWitch.health <= 0) {\n            return { kind: SquareKind.Empty };\n          }\n          return damagedWitch;\n        }\n\n        if (currentSquare.kind === SquareKind.Hero) {\n          return {\n            ...currentSquare,\n            health: currentSquare.health - event.summonerHealthCost,\n          };\n        }\n\n        return currentSquare;\n      }\n    );\n    return { squares: newSquares };\n  }\n\n  if (event.kind === BattleEventKind.Heal) {\n    const newSquares: SquareState[] = currentLevel.squares.map(\n      (currentSquare, i): SquareState => {\n        if (i !== event.targetIndex) {\n          return currentSquare;\n        }\n\n        if (currentSquare.kind === SquareKind.Goblin) {\n          const healedGoblin: GoblinSquareState = {\n            ...currentSquare,\n            health: currentSquare.health + event.healAmount,\n          };\n          if (healedGoblin.health <= 0) {\n            return { kind: SquareKind.Empty };\n          }\n          return healedGoblin;\n        }\n\n        if (currentSquare.kind === SquareKind.GiantGoblin) {\n          const healedGiantGoblin: GiantGoblinSquareState = {\n            ...currentSquare,\n            health: currentSquare.health + event.healAmount,\n          };\n          if (healedGiantGoblin.health <= 0) {\n            return { kind: SquareKind.Empty };\n          }\n          return healedGiantGoblin;\n        }\n\n        if (currentSquare.kind === SquareKind.Hero) {\n          return {\n            ...currentSquare,\n            health: currentSquare.health + event.healAmount,\n          };\n        }\n\n        return currentSquare;\n      }\n    );\n    return { squares: newSquares };\n  }\n\n  if (\n    event.kind === BattleEventKind.ClimbStairs ||\n    event.kind === BattleEventKind.FailLevel\n  ) {\n    return currentLevel;\n  }\n\n  const exhaustivenessCheck: never = event;\n  return exhaustivenessCheck;\n}\n\nfunction getBattleAnimationData(\n  initialLevelState: LevelState,\n  events: readonly BattleEvent[],\n  elapsedSeconds: number\n): BattleAnimationData {\n  const INTER_EVENT_DELAY_SECONDS = 1;\n  const BATTLE_DELAY_SECONDS = 1;\n  const STAIR_CLIMB_OFFSET_X = 0.5;\n  const STAIR_CLIMB_DISTANCE = 3.5;\n  const SQUARE_WIDTH = 150;\n\n  const seed = 42;\n  const prng = prand.xoroshiro128plus(seed);\n\n  let levelState = initialLevelState;\n  let timeCursor = BATTLE_DELAY_SECONDS;\n  let inInterEventDelay = false;\n  let executedBlockAddress: null | NodeAddress = null;\n  let hasFailLevelEventBeenEmitted = false;\n\n  for (let eventIndex = 0; eventIndex < events.length; ++eventIndex) {\n    const event = events[eventIndex];\n    const eventDuration = getBattleEventDuration(event, levelState);\n    const remainingTime = elapsedSeconds - timeCursor;\n\n    if (timeCursor > elapsedSeconds) {\n      inInterEventDelay = true;\n      break;\n    }\n\n    if (event.kind === BattleEventKind.EvalBlock) {\n      executedBlockAddress = event.source;\n    }\n\n    if (event.kind === BattleEventKind.FailLevel) {\n      hasFailLevelEventBeenEmitted = true;\n    }\n\n    if (eventDuration <= remainingTime) {\n      levelState = applyBattleEventUnchecked(event, levelState);\n\n      timeCursor += eventDuration;\n\n      const nextEventIsClimbStairs =\n        eventIndex + 1 < events.length &&\n        events[eventIndex + 1].kind === BattleEventKind.ClimbStairs;\n      if (!nextEventIsClimbStairs && event.kind !== BattleEventKind.EvalBlock) {\n        timeCursor += INTER_EVENT_DELAY_SECONDS;\n      }\n\n      continue;\n    }\n\n    const completionFactor = remainingTime / eventDuration;\n    const characterDisplacements = levelState.squares.map((square, i): Vec2 => {\n      if (\n        square.kind === SquareKind.Hero &&\n        event.kind === BattleEventKind.Advance\n      ) {\n        return { x: SQUARE_WIDTH * completionFactor, y: 0 };\n      }\n\n      if (\n        square.kind === SquareKind.Hero &&\n        event.kind === BattleEventKind.Retreat\n      ) {\n        return { x: SQUARE_WIDTH * -completionFactor, y: 0 };\n      }\n\n      if (\n        square.kind === SquareKind.Hero &&\n        event.kind === BattleEventKind.FailHeroAction &&\n        event.failedActionKind === HeroActionKind.Advance\n      ) {\n        return {\n          x:\n            SQUARE_WIDTH *\n            evaluateSimpleClampedFunction(\n              {\n                kind: \"StepwiseLinearFunction\",\n                points: [\n                  { x: 0, y: 0 },\n                  { x: 0.15, y: 0.2 },\n                  { x: 0.85, y: 0.2 },\n                  { x: 1, y: 0 },\n                ],\n              },\n              completionFactor\n            ),\n          y: 0,\n        };\n      }\n\n      if (\n        square.kind === SquareKind.Hero &&\n        event.kind === BattleEventKind.FailHeroAction &&\n        event.failedActionKind === HeroActionKind.Retreat\n      ) {\n        return {\n          x:\n            SQUARE_WIDTH *\n            evaluateSimpleClampedFunction(\n              {\n                kind: \"StepwiseLinearFunction\",\n                points: [\n                  { x: 0, y: 0 },\n                  { x: 0.15, y: -0.2 },\n                  { x: 0.85, y: -0.2 },\n                  { x: 1, y: 0 },\n                ],\n              },\n              completionFactor\n            ),\n          y: 0,\n        };\n      }\n\n      if (\n        square.kind === SquareKind.Hero &&\n        ((event.kind === BattleEventKind.Attack && i === event.attackerIndex) ||\n          (event.kind === BattleEventKind.FailHeroAction &&\n            event.failedActionKind === HeroActionKind.Attack))\n      ) {\n        const attackCompletionFactor = Math.min(\n          remainingTime / ATTACK_DURATION_IN_SECONDS,\n          1\n        );\n        return {\n          x: SQUARE_WIDTH * 0.8 * Math.sin(Math.PI * attackCompletionFactor),\n          y: 0,\n        };\n      }\n\n      if (\n        square.kind === SquareKind.Hero &&\n        event.kind === BattleEventKind.ClimbStairs\n      ) {\n        const x =\n          SQUARE_WIDTH *\n          evaluateSimpleClampedFunction(\n            horizontallyStretchSimpleFunction(\n              {\n                kind: \"StepwiseLinearFunction\",\n                points: [\n                  { x: 0, y: 0 },\n                  { x: 0.15, y: STAIR_CLIMB_OFFSET_X },\n                  { x: 0.15 + 0.05, y: STAIR_CLIMB_OFFSET_X },\n                  { x: 1.25, y: STAIR_CLIMB_OFFSET_X + STAIR_CLIMB_DISTANCE },\n                ],\n              },\n              1 / 1.25\n            ),\n            completionFactor\n          );\n        const y =\n          SQUARE_WIDTH *\n          evaluateSimpleClampedFunction(\n            horizontallyStretchSimpleFunction(\n              {\n                kind: \"StepwiseLinearFunction\",\n                points: [\n                  { x: 0, y: 0 },\n                  { x: 0.15 + 0.05, y: 0 },\n                  { x: 1.25, y: -STAIR_CLIMB_DISTANCE },\n                ],\n              },\n              1 / 1.25\n            ),\n            completionFactor\n          );\n        return { x, y };\n      }\n\n      if (\n        square.kind === SquareKind.Goblin &&\n        event.kind === BattleEventKind.Attack &&\n        i === event.attackerIndex\n      ) {\n        return {\n          x: SQUARE_WIDTH * -0.8 * Math.sin(Math.PI * completionFactor),\n          y: 0,\n        };\n      }\n\n      if (\n        square.kind === SquareKind.GiantGoblin &&\n        event.kind === BattleEventKind.Attack &&\n        i === event.attackerIndex\n      ) {\n        return {\n          x: SQUARE_WIDTH * -0.4 * Math.sin(Math.PI * completionFactor),\n          y: 0,\n        };\n      }\n\n      return { x: 0, y: 0 };\n    });\n\n    const damageOverlayAlphas = levelState.squares.map(\n      (_square, squareIndex, squares): number => {\n        if (\n          !(\n            event.kind === BattleEventKind.Attack &&\n            event.targetIndex === squareIndex\n          )\n        ) {\n          return 0;\n        }\n\n        const attackerSquareKind = squares[event.attackerIndex].kind;\n        if (MELEE_ATTACKERS.includes(attackerSquareKind)) {\n          if (completionFactor < MELEE_DAMAGE_OVERLAY_FLASH_START_FACTOR) {\n            return 0;\n          }\n\n          const flashCompletionFactor = Math.min(\n            1,\n            (completionFactor - MELEE_DAMAGE_OVERLAY_FLASH_START_FACTOR) /\n              (MELEE_DAMAGE_OVERLAY_FLASH_END_FACTOR -\n                MELEE_DAMAGE_OVERLAY_FLASH_START_FACTOR)\n          );\n\n          return 0.5 * Math.sin(Math.PI * flashCompletionFactor);\n        }\n\n        if (attackerSquareKind === SquareKind.Witch) {\n          if (completionFactor < FIREBALL_DAMAGE_OVERLAY_FLASH_START_FACTOR) {\n            return 0;\n          }\n\n          const flashCompletionFactor = Math.min(\n            1,\n            (completionFactor - FIREBALL_DAMAGE_OVERLAY_FLASH_START_FACTOR) /\n              (FIREBALL_DAMAGE_OVERLAY_FLASH_END_FACTOR -\n                FIREBALL_DAMAGE_OVERLAY_FLASH_START_FACTOR)\n          );\n\n          return 0.5 * Math.sin(Math.PI * flashCompletionFactor);\n        }\n\n        return 0;\n      }\n    );\n\n    const battleStatus =\n      (levelState.squares[getHeroIndex(levelState)] as HeroSquareState)\n        .health <= 0\n        ? BattleStatus.Defeat\n        : BattleStatus.InProgress;\n\n    const displayHeroHealingAnimation =\n      (event.kind === BattleEventKind.Heal &&\n        event.targetIndex === getHeroIndex(levelState)) ||\n      (event.kind === BattleEventKind.FailHeroAction &&\n        event.failedActionKind === HeroActionKind.Heal &&\n        remainingTime <= HEAL_ANIMATION_DURATION_IN_SECONDS);\n\n    const errorAlertOpacityFactorFor1SecondAnimations = ((): number => {\n      const part1DurationFactor = 0.15 / 1;\n      const part2DurationFactor = 0.7 / 1;\n      if (completionFactor < part1DurationFactor) {\n        const partCompletionFactor = completionFactor / part1DurationFactor;\n        return Math.sin(partCompletionFactor * (Math.PI / 2));\n      }\n\n      const part2CumulativeFactor = part1DurationFactor + part2DurationFactor;\n      if (completionFactor < part2CumulativeFactor) {\n        return 1;\n      }\n\n      const partCompletionFactor =\n        (completionFactor - part2CumulativeFactor) /\n        (1 - part2CumulativeFactor);\n      return Math.sin((1 - partCompletionFactor) * (Math.PI / 2));\n    })();\n    const errorAlert =\n      event.kind === BattleEventKind.FailHeroAction &&\n      event.failedActionKind === HeroActionKind.Advance\n        ? {\n            message: UiTextKind.CannotAdvance,\n            index: getHeroIndex(levelState) + 0.5,\n            opacityFactor: errorAlertOpacityFactorFor1SecondAnimations,\n          }\n        : event.kind === BattleEventKind.FailHeroAction &&\n          event.failedActionKind === HeroActionKind.Retreat\n        ? {\n            message: UiTextKind.CannotRetreat,\n            index: getHeroIndex(levelState) + 0.5,\n            opacityFactor: errorAlertOpacityFactorFor1SecondAnimations,\n          }\n        : event.kind === BattleEventKind.FailHeroAction &&\n          event.failedActionKind === HeroActionKind.Attack\n        ? {\n            message: UiTextKind.CannotAttack,\n            index: getHeroIndex(levelState) + 1 + 0.5,\n            opacityFactor: errorAlertOpacityFactorFor1SecondAnimations,\n          }\n        : event.kind === BattleEventKind.FailHeroAction &&\n          event.failedActionKind === HeroActionKind.Heal\n        ? {\n            message: UiTextKind.CannotHeal,\n            index: getHeroIndex(levelState) + 0.5,\n            opacityFactor: errorAlertOpacityFactorFor1SecondAnimations,\n          }\n        : null;\n\n    const isWitchAttack =\n      event.kind === BattleEventKind.Attack &&\n      levelState.squares[event.attackerIndex].kind === SquareKind.Witch;\n    const isWitchSummon =\n      event.kind === BattleEventKind.Summon &&\n      levelState.squares[event.summonerIndex].kind === SquareKind.Witch;\n\n    const witchAnimationFrame =\n      isWitchAttack || isWitchSummon\n        ? Math.floor(\n            evaluateSimpleClampedFunction(\n              {\n                kind: \"StepwiseLinearFunction\",\n                points: [\n                  { x: 0, y: 0 },\n                  { x: 0.1, y: 1 },\n                  { x: 0.3, y: 2 },\n                  { x: 0.7, y: 3 },\n                ],\n              },\n              completionFactor\n            )\n          )\n        : 0;\n\n    const rawParticleSystemCompletionFactor = evaluateSimpleClampedFunction(\n      {\n        kind: \"StepwiseLinearFunction\",\n        points: [\n          { x: 0, y: 0 },\n          { x: 0.3, y: 0 },\n          { x: 0.5, y: 1 },\n          { x: 0.5 + 1000, y: 1 + (1000 * (1 - 0)) / (0.5 - 0.3) },\n        ],\n      },\n      completionFactor\n    );\n    const clampedParticleSystemCompletionFactor = Math.min(\n      rawParticleSystemCompletionFactor,\n      1\n    );\n\n    const timedParticles: (AnimationParticle & {\n      readonly birthTimeFactor: number;\n      readonly isExplosion: boolean;\n    })[] = [];\n    const spellCastingWitchIndex = isWitchAttack\n      ? event.attackerIndex\n      : isWitchSummon\n      ? event.summonerIndex\n      : -1;\n    const spellTargetIndex =\n      isWitchAttack || isWitchSummon ? event.targetIndex : -1;\n    if (spellCastingWitchIndex !== -1 && witchAnimationFrame === 2) {\n      const emitterStartPosition = {\n        x: SQUARE_WIDTH * spellCastingWitchIndex + 10,\n        y: 740,\n      };\n      const emitterEndPosition = addVec(emitterStartPosition, {\n        x:\n          SQUARE_WIDTH * (spellTargetIndex - spellCastingWitchIndex) +\n          0.65 * SQUARE_WIDTH,\n        y: 0,\n      });\n      const emitterFinalStepCount = 100;\n      for (\n        let stepCount = 0;\n        stepCount <\n        Math.floor(\n          emitterFinalStepCount * clampedParticleSystemCompletionFactor\n        );\n        ++stepCount\n      ) {\n        const emitterPosition = evaluateSimpleClampedFunction(\n          {\n            kind: \"StepwiseLinearFunction\",\n            points: [\n              { x: 0, y: emitterStartPosition },\n              { x: 1, y: emitterEndPosition },\n            ],\n          },\n          stepCount / emitterFinalStepCount,\n          VEC2_VSO\n        );\n        for (let particleIndex = 0; particleIndex < 10; ++particleIndex) {\n          const particle: AnimationParticle & {\n            readonly birthTimeFactor: number;\n            readonly isExplosion: boolean;\n          } = {\n            position: emitterPosition,\n            radius: prand.unsafeUniformIntDistribution(300, 500, prng) / 100,\n            color: parseColorHexString(\"#ff000033\"),\n            birthTimeFactor: stepCount / emitterFinalStepCount,\n            isExplosion: false,\n          };\n          timedParticles.push(particle);\n        }\n      }\n    }\n\n    if (\n      spellCastingWitchIndex !== -1 &&\n      (witchAnimationFrame === 2 || witchAnimationFrame === 3)\n    ) {\n      const emitterStartPosition = {\n        x: SQUARE_WIDTH * spellCastingWitchIndex + 10,\n        y: 740,\n      };\n      const emitterEndPosition = addVec(emitterStartPosition, {\n        x:\n          SQUARE_WIDTH * (spellTargetIndex - spellCastingWitchIndex) +\n          0.65 * SQUARE_WIDTH,\n        y: 0,\n      });\n      const emitterFinalStepCount = 100;\n\n      for (\n        let stepCount = 0;\n        stepCount <\n        Math.floor(\n          emitterFinalStepCount * clampedParticleSystemCompletionFactor\n        );\n        ++stepCount\n      ) {\n        for (let particleIndex = 0; particleIndex < 10; ++particleIndex) {\n          const particle: AnimationParticle & {\n            readonly birthTimeFactor: number;\n            readonly isExplosion: boolean;\n          } = {\n            position: emitterEndPosition,\n            radius:\n              (3 * prand.unsafeUniformIntDistribution(300, 500, prng)) / 100,\n            color: parseColorHexString(\"#ff000033\"),\n            birthTimeFactor: 1 + stepCount / emitterFinalStepCount,\n            isExplosion: true,\n          };\n          timedParticles.push(particle);\n        }\n      }\n    }\n\n    const transformedParticles = timedParticles.map(\n      (particle): AnimationParticle => {\n        const particleCompletionFactor = particle.isExplosion\n          ? 1.0 * (rawParticleSystemCompletionFactor - particle.birthTimeFactor)\n          : rawParticleSystemCompletionFactor - particle.birthTimeFactor;\n        if (particleCompletionFactor < 0) {\n          return { ...particle, color: TRANSPARENT };\n        }\n        const angle =\n          (prand.unsafeUniformIntDistribution(0, 360, prng) / 360) *\n          Math.PI *\n          2;\n        const unit = { x: Math.cos(angle), y: Math.sin(angle) };\n        const scaleFactor =\n          particle.isExplosion && isWitchAttack\n            ? 3\n            : particle.isExplosion && isWitchSummon\n            ? 6\n            : 1;\n        const speed =\n          (scaleFactor *\n            (SQUARE_WIDTH * prand.unsafeUniformIntDistribution(5, 15, prng))) /\n          100;\n        const position = addVec(\n          particle.position,\n          scaleVec(unit, speed * particleCompletionFactor)\n        );\n\n        const particleGrowthRate =\n          (scaleFactor * prand.unsafeUniformIntDistribution(300, 700, prng)) /\n          100;\n        const radius =\n          particle.radius + particleGrowthRate * particleCompletionFactor;\n\n        const color = applyElementwiseToColor32(\n          evaluateSimpleClampedFunction(\n            {\n              kind: \"StepwiseLinearFunction\",\n              points: isWitchAttack\n                ? [\n                    { x: 0, y: parseColorHexString(\"#ffffcc\") },\n                    { x: 0.2, y: parseColorHexString(\"#ffcc00\") },\n                    { x: 1, y: parseColorHexString(\"#a0000000\") },\n                  ]\n                : [\n                    { x: 0, y: parseColorHexString(\"#ffffcc\") },\n                    { x: 0.2, y: parseColorHexString(\"#ccff00\") },\n                    { x: 1, y: parseColorHexString(\"#00a00000\") },\n                  ],\n            },\n            particleCompletionFactor,\n            COLOR32_VSO\n          ),\n          Math.floor\n        );\n\n        return { position, radius, color };\n      }\n    );\n\n    const advanceHealthChanges = isWitchAttack\n      ? levelState.squares.map((_square, i) => {\n          if (i === event.targetIndex && completionFactor >= 0.5) {\n            return -event.damage;\n          }\n          return 0;\n        })\n      : isWitchSummon\n      ? levelState.squares.map((_square, i) => {\n          if (i === event.summonerIndex && witchAnimationFrame >= 2) {\n            return -event.summonerHealthCost;\n          }\n          return 0;\n        })\n      : levelState.squares.map((_square, squareIndex, squares) => {\n          if (\n            !(\n              event.kind === BattleEventKind.Attack &&\n              squareIndex === event.targetIndex &&\n              MELEE_ATTACKERS.includes(squares[event.attackerIndex].kind) &&\n              completionFactor >= MELEE_DAMAGE_OVERLAY_FLASH_START_FACTOR\n            )\n          ) {\n            return 0;\n          }\n\n          return -event.damage;\n        });\n\n    const advanceSummon: null | AdvanceSummon =\n      isWitchSummon && witchAnimationFrame === 3\n        ? {\n            summonee: event.summonee,\n            summoneeIndex: event.targetIndex,\n          }\n        : null;\n\n    const squareOccupantAlphas = levelState.squares.map(\n      (square, squareIndex, squares): number => {\n        if (\n          !(\n            event.kind === BattleEventKind.Attack &&\n            event.targetIndex === squareIndex &&\n            \"health\" in square &&\n            square.health + advanceHealthChanges[squareIndex] <= 0\n          )\n        ) {\n          return 1;\n        }\n\n        const attackerSquareKind = squares[event.attackerIndex].kind;\n        if (MELEE_ATTACKERS.includes(attackerSquareKind)) {\n          if (completionFactor < MELEE_DAMAGE_OVERLAY_FLASH_START_FACTOR) {\n            return 1;\n          }\n\n          const flashCompletionFactor = Math.min(\n            1,\n            (completionFactor - MELEE_DAMAGE_OVERLAY_FLASH_START_FACTOR) /\n              (MELEE_DAMAGE_OVERLAY_FLASH_END_FACTOR -\n                MELEE_DAMAGE_OVERLAY_FLASH_START_FACTOR)\n          );\n\n          if (flashCompletionFactor < 0.5) {\n            return 1;\n          }\n\n          return 0.5 * Math.sin(Math.PI * flashCompletionFactor);\n        }\n\n        if (attackerSquareKind === SquareKind.Witch) {\n          if (completionFactor < FIREBALL_DAMAGE_OVERLAY_FLASH_START_FACTOR) {\n            return 0;\n          }\n\n          const flashCompletionFactor = Math.min(\n            1,\n            (completionFactor - FIREBALL_DAMAGE_OVERLAY_FLASH_START_FACTOR) /\n              (FIREBALL_DAMAGE_OVERLAY_FLASH_END_FACTOR -\n                FIREBALL_DAMAGE_OVERLAY_FLASH_START_FACTOR)\n          );\n\n          if (flashCompletionFactor < 0.5) {\n            return 1;\n          }\n\n          return 0.5 * Math.sin(Math.PI * flashCompletionFactor);\n        }\n\n        return 1;\n      }\n    );\n\n    return {\n      levelState,\n      characterDisplacements,\n      advanceHealthChanges,\n      battleStatus,\n      displayHeroHealingAnimation,\n      errorAlert,\n      witchAnimationFrame,\n      particles: transformedParticles.filter((p) => p.color.a > 0),\n      executedBlockAddress,\n      advanceSummon,\n      didHeroDefeatAllEnemiesButForgetToMoveToStairs:\n        didHeroDefeatAllEnemiesButForgetToMoveToStairs(\n          levelState,\n          hasFailLevelEventBeenEmitted\n        ),\n      didHeroSurviveLevelButFailToReachStairs:\n        didHeroSurviveLevelButFailToReachStairs(\n          levelState,\n          hasFailLevelEventBeenEmitted\n        ),\n      damageOverlayAlphas,\n      squareOccupantAlphas,\n    };\n  }\n\n  const battleStatus =\n    (levelState.squares[getHeroIndex(levelState)] as HeroSquareState).health <=\n    0\n      ? BattleStatus.Defeat\n      : !inInterEventDelay &&\n        getHeroIndex(levelState) === levelState.squares.length - 1\n      ? BattleStatus.Victory\n      : BattleStatus.InProgress;\n  const characterDisplacements =\n    battleStatus === BattleStatus.Victory\n      ? levelState.squares.map((square, i): Vec2 => {\n          if (square.kind === SquareKind.Hero) {\n            return {\n              x: SQUARE_WIDTH * (STAIR_CLIMB_OFFSET_X + STAIR_CLIMB_DISTANCE),\n              y: SQUARE_WIDTH * -STAIR_CLIMB_DISTANCE,\n            };\n          }\n          return { x: 0, y: 0 };\n        })\n      : levelState.squares.map(() => ({ x: 0, y: 0 }));\n\n  return {\n    levelState,\n    characterDisplacements,\n    advanceHealthChanges: levelState.squares.map(() => 0),\n    battleStatus,\n    displayHeroHealingAnimation: false,\n    errorAlert: null,\n    witchAnimationFrame: 0,\n    particles: [],\n    executedBlockAddress,\n    advanceSummon: null,\n    didHeroDefeatAllEnemiesButForgetToMoveToStairs:\n      didHeroDefeatAllEnemiesButForgetToMoveToStairs(\n        levelState,\n        hasFailLevelEventBeenEmitted\n      ),\n    didHeroSurviveLevelButFailToReachStairs:\n      didHeroSurviveLevelButFailToReachStairs(\n        levelState,\n        hasFailLevelEventBeenEmitted\n      ),\n    damageOverlayAlphas: levelState.squares.map(() => 0),\n    squareOccupantAlphas: levelState.squares.map(() => 1),\n  };\n}\n\nfunction getBattleEventDuration(\n  event: BattleEvent,\n  levelState: LevelState\n): number {\n  if (event.kind === BattleEventKind.EvalBlock) {\n    return 0.25;\n  }\n\n  if (event.kind === BattleEventKind.Advance) {\n    return 0.15;\n  }\n\n  if (event.kind === BattleEventKind.Retreat) {\n    return 0.15;\n  }\n\n  const isWitchAttack =\n    event.kind === BattleEventKind.Attack &&\n    levelState.squares[event.attackerIndex].kind === SquareKind.Witch;\n  if (isWitchAttack) {\n    return 1.5;\n  }\n\n  if (event.kind === BattleEventKind.Summon) {\n    return 1.5;\n  }\n\n  if (event.kind === BattleEventKind.Attack) {\n    return ATTACK_DURATION_IN_SECONDS;\n  }\n\n  if (event.kind === BattleEventKind.Heal) {\n    return HEAL_ANIMATION_DURATION_IN_SECONDS;\n  }\n\n  if (event.kind === BattleEventKind.ClimbStairs) {\n    return 1.25;\n  }\n\n  if (event.kind === BattleEventKind.FailLevel) {\n    return 1;\n  }\n\n  if (event.kind === BattleEventKind.FailHeroAction) {\n    const { failedActionKind } = event;\n    if (\n      failedActionKind === HeroActionKind.Advance ||\n      failedActionKind === HeroActionKind.Retreat\n    ) {\n      return 1;\n    }\n\n    if (failedActionKind === HeroActionKind.Attack) {\n      return 1;\n    }\n\n    if (failedActionKind === HeroActionKind.Heal) {\n      return 1;\n    }\n\n    const exhaustivenessCheck: never = failedActionKind;\n    return exhaustivenessCheck;\n  }\n\n  const exhaustivenessCheck: never = event;\n  return exhaustivenessCheck;\n}\n\nfunction getInitialLevelState(level: Level): LevelState {\n  switch (level) {\n    case Level.Level1:\n      return getLevel1InitialState();\n    case Level.Level2:\n      return getLevel2InitialState();\n    case Level.Level3:\n      return getLevel3InitialState();\n    case Level.Level4:\n      return getLevel4InitialState();\n    case Level.Level5:\n      return getLevel5InitialState();\n    case Level.Level6:\n      return getLevel6InitialState();\n    case Level.Level7:\n      return getLevel7InitialState();\n    case Level.Level8:\n      return getLevel8InitialState();\n    case Level.Level9:\n      return getLevel9InitialState();\n    case Level.Level10:\n      return getLevel10InitialState();\n  }\n}\n\nfunction getLevel1InitialState(): LevelState {\n  const empty: SquareState = { kind: SquareKind.Empty };\n  const hero: SquareState = {\n    kind: SquareKind.Hero,\n    health: BATTLE_CONFIG.heroMaxHealth,\n  };\n  return {\n    squares: [empty, empty, empty, empty, hero, empty, empty],\n  };\n}\n\nfunction getLevel2InitialState(): LevelState {\n  const empty: SquareState = { kind: SquareKind.Empty };\n  const hero: SquareState = {\n    kind: SquareKind.Hero,\n    health: BATTLE_CONFIG.heroMaxHealth,\n  };\n  const goblin: SquareState = { kind: SquareKind.Goblin, health: 10 };\n  return {\n    squares: [empty, empty, empty, empty, empty, hero, goblin],\n  };\n}\n\nfunction getLevel3InitialState(): LevelState {\n  const empty: SquareState = { kind: SquareKind.Empty };\n  const hero: SquareState = {\n    kind: SquareKind.Hero,\n    health: BATTLE_CONFIG.heroMaxHealth,\n  };\n  const goblin: SquareState = { kind: SquareKind.Goblin, health: 10 };\n  return {\n    squares: [empty, empty, hero, goblin, empty, goblin, empty],\n  };\n}\n\nfunction getLevel4InitialState(): LevelState {\n  const empty: SquareState = { kind: SquareKind.Empty };\n  const hero: SquareState = {\n    kind: SquareKind.Hero,\n    health: BATTLE_CONFIG.heroMaxHealth,\n  };\n  const goblin: SquareState = { kind: SquareKind.Goblin, health: 10 };\n  return {\n    squares: [empty, empty, empty, hero, empty, goblin, goblin],\n  };\n}\n\nfunction getLevel5InitialState(): LevelState {\n  const empty: SquareState = { kind: SquareKind.Empty };\n  const hero: SquareState = {\n    kind: SquareKind.Hero,\n    health: BATTLE_CONFIG.heroMaxHealth,\n  };\n  const goblin: SquareState = { kind: SquareKind.Goblin, health: 10 };\n  return {\n    squares: [empty, hero, goblin, empty, goblin, empty, goblin],\n  };\n}\n\nfunction getLevel6InitialState(): LevelState {\n  const empty: SquareState = { kind: SquareKind.Empty };\n  const hero: SquareState = {\n    kind: SquareKind.Hero,\n    health: BATTLE_CONFIG.heroMaxHealth,\n  };\n  const giantGoblin: SquareState = { kind: SquareKind.GiantGoblin, health: 20 };\n  return {\n    squares: [empty, empty, empty, empty, hero, empty, giantGoblin],\n  };\n}\n\nfunction getLevel7InitialState(): LevelState {\n  const empty: SquareState = { kind: SquareKind.Empty };\n  const hero: SquareState = {\n    kind: SquareKind.Hero,\n    health: BATTLE_CONFIG.heroMaxHealth,\n  };\n  return {\n    squares: [hero, empty, empty, empty, empty, empty, empty],\n  };\n}\n\nfunction getLevel8InitialState(): LevelState {\n  const empty: SquareState = { kind: SquareKind.Empty };\n  const hero: SquareState = {\n    kind: SquareKind.Hero,\n    health: BATTLE_CONFIG.heroMaxHealth,\n  };\n  const goblin: SquareState = { kind: SquareKind.Goblin, health: 10 };\n  return {\n    squares: [hero, goblin, empty, empty, empty, goblin, empty],\n  };\n}\n\nfunction getLevel9InitialState(): LevelState {\n  const empty: SquareState = { kind: SquareKind.Empty };\n  const hero: SquareState = {\n    kind: SquareKind.Hero,\n    health: BATTLE_CONFIG.heroMaxHealth,\n  };\n  const goblin: SquareState = { kind: SquareKind.Goblin, health: 10 };\n  return {\n    squares: [hero, goblin, goblin, empty, goblin, goblin, empty],\n  };\n}\n\nfunction getLevel10InitialState(): LevelState {\n  const empty: SquareState = { kind: SquareKind.Empty };\n  const hero: SquareState = {\n    kind: SquareKind.Hero,\n    health: BATTLE_CONFIG.heroMaxHealth,\n  };\n  const witch: SquareState = { kind: SquareKind.Witch, health: 5 };\n  return {\n    squares: [hero, empty, empty, empty, witch, empty, empty],\n  };\n}\n\nfunction getNextLevel(level: Level): null | Level {\n  if (level < LAST_LEVEL) {\n    return level + 1;\n  }\n  return null;\n}\n\nfunction periodicColorSinInterp(\n  a: Color32,\n  b: Color32,\n  elapsedSeconds: number,\n  frequencyHertz: number\n): Color32 {\n  const f =\n    Math.cos(frequencyHertz * 2 * Math.PI * elapsedSeconds) * -0.5 + 0.5;\n  return {\n    r: Math.round(a.r + f * (b.r - a.r)),\n    g: Math.round(a.g + f * (b.g - a.g)),\n    b: Math.round(a.b + f * (b.b - a.b)),\n    a: Math.round(a.a + f * (b.a - a.a)),\n  };\n}\n\nfunction parseColorHexString(s: string): Color32 {\n  const withoutHash = s.charAt(0) === \"#\" ? s.slice(1) : s;\n\n  if (!(withoutHash.length === 6 || withoutHash.length === 8)) {\n    throw new Error(\"Invalid color hex string.\");\n  }\n\n  return {\n    r: parseInt(withoutHash.slice(0, 2), 16),\n    g: parseInt(withoutHash.slice(2, 4), 16),\n    b: parseInt(withoutHash.slice(4, 6), 16),\n    a: withoutHash.length === 8 ? parseInt(withoutHash.slice(6, 8), 16) : 255,\n  };\n}\n\nfunction getStartingBlockEditorStateForLevel(\n  level: Level\n): BlockEditorState<BlockKind> {\n  return {\n    palette: {\n      blockKinds: getPaletteBlockKinds(level),\n      scroll: { x: 0, y: 0 },\n      scrollInProgress: null,\n    },\n    uiTouch: null,\n    literalEditor: null,\n    dropdownMenu: null,\n    canvas: {\n      items: getStartingCanvasItemsForLevel(level),\n      scroll: { x: 0, y: 0 },\n      scrollInProgress: null,\n    },\n    cursor: \"default\",\n  };\n}\n\nfunction getStartingCanvasItemsForLevel(\n  level: Level\n): readonly CanvasItem<BlockKind>[] {\n  switch (level) {\n    case Level.Level1:\n    case Level.Level2:\n    case Level.Level3:\n    case Level.Level4:\n    case Level.Level5:\n    case Level.Level6:\n    case Level.Level10:\n      return [\n        {\n          position: {\n            x: SIZING.paletteWidth + SIZING.minPalettePadding,\n            y: SIZING.minPalettePadding,\n          },\n          content: [\n            {\n              isLiteral: false,\n              kind: BlockKind.WhenBattleStarts,\n              args: {\n                expressions: [],\n                dropdowns: [],\n                sequences: [],\n              },\n            },\n          ],\n        },\n      ];\n\n    case Level.Level7:\n      return [\n        {\n          position: {\n            x: SIZING.paletteWidth + SIZING.minPalettePadding,\n            y: SIZING.minPalettePadding,\n          },\n          content: [\n            {\n              isLiteral: false,\n              kind: BlockKind.WhenBattleStarts,\n              args: {\n                expressions: [],\n                dropdowns: [],\n                sequences: [],\n              },\n            },\n          ],\n        },\n        {\n          position: {\n            x: SIZING.paletteWidth + SIZING.minPalettePadding + 220,\n            y: SIZING.minPalettePadding,\n          },\n          content: [\n            {\n              isLiteral: false,\n              kind: BlockKind.MoveForward,\n              args: {\n                expressions: [],\n                dropdowns: [],\n                sequences: [],\n              },\n            },\n          ],\n        },\n      ];\n\n    case Level.Level8:\n      return [\n        {\n          position: {\n            x: SIZING.paletteWidth + SIZING.minPalettePadding,\n            y: SIZING.minPalettePadding,\n          },\n          content: [\n            {\n              isLiteral: false,\n              kind: BlockKind.WhenBattleStarts,\n              args: {\n                expressions: [],\n                dropdowns: [],\n                sequences: [],\n              },\n            },\n          ],\n        },\n        {\n          position: {\n            x: SIZING.paletteWidth + SIZING.minPalettePadding + 220,\n            y: SIZING.minPalettePadding,\n          },\n          content: [\n            {\n              isLiteral: false,\n              kind: BlockKind.MoveForward,\n              args: {\n                expressions: [],\n                dropdowns: [],\n                sequences: [],\n              },\n            },\n          ],\n        },\n        {\n          position: {\n            x: SIZING.paletteWidth + SIZING.minPalettePadding + 220,\n            y: SIZING.minPalettePadding + 100,\n          },\n          content: [\n            {\n              isLiteral: false,\n              kind: BlockKind.Attack,\n              args: {\n                expressions: [],\n                dropdowns: [],\n                sequences: [],\n              },\n            },\n          ],\n        },\n      ];\n\n    case Level.Level9:\n      return [\n        {\n          position: {\n            x: SIZING.paletteWidth + SIZING.minPalettePadding,\n            y: SIZING.minPalettePadding,\n          },\n          content: [\n            {\n              isLiteral: false,\n              kind: BlockKind.WhenBattleStarts,\n              args: {\n                expressions: [],\n                dropdowns: [],\n                sequences: [],\n              },\n            },\n          ],\n        },\n        {\n          position: {\n            x: SIZING.paletteWidth + SIZING.minPalettePadding + 320,\n            y: SIZING.minPalettePadding + 50,\n          },\n          content: [\n            {\n              isLiteral: false,\n              kind: BlockKind.MoveForward,\n              args: {\n                expressions: [],\n                dropdowns: [],\n                sequences: [],\n              },\n            },\n          ],\n        },\n        {\n          position: {\n            x: SIZING.paletteWidth + SIZING.minPalettePadding + 220,\n            y: SIZING.minPalettePadding,\n          },\n          content: [\n            {\n              isLiteral: false,\n              kind: BlockKind.Attack,\n              args: {\n                expressions: [],\n                dropdowns: [],\n                sequences: [],\n              },\n            },\n          ],\n        },\n\n        {\n          position: {\n            x: SIZING.paletteWidth + SIZING.minPalettePadding + 220,\n            y: SIZING.minPalettePadding + 100,\n          },\n          content: [\n            {\n              isLiteral: false,\n              kind: BlockKind.Heal,\n              args: {\n                expressions: [],\n                dropdowns: [],\n                sequences: [],\n              },\n            },\n          ],\n        },\n      ];\n  }\n}\n\nexport function stringifyColor(color: Color32): string {\n  if (!isValidColor(color)) {\n    throw new Error(\n      `Cannot stringify color because it is invalid. color: ${JSON.stringify(\n        color\n      )}.`\n    );\n  }\n\n  return (\n    \"#\" +\n    leftpadWithZero(color.r.toString(16), 2) +\n    leftpadWithZero(color.g.toString(16), 2) +\n    leftpadWithZero(color.b.toString(16), 2) +\n    leftpadWithZero(color.a.toString(16), 2)\n  );\n}\n\nfunction isValidColor(color: Color32): boolean {\n  const { r, g, b, a } = color;\n  return (\n    Number.isInteger(r) &&\n    0 <= r &&\n    r <= 255 &&\n    Number.isInteger(g) &&\n    0 <= g &&\n    g <= 255 &&\n    Number.isInteger(b) &&\n    0 <= b &&\n    b <= 255 &&\n    Number.isInteger(a) &&\n    0 <= a &&\n    a <= 255\n  );\n}\n\nfunction leftpadWithZero(s: string, desiredLength: number): string {\n  if (!Number.isInteger(desiredLength)) {\n    throw new Error(\n      `Cannot leftpad because desiredLength is not an integer. desiredLength: ${desiredLength}.`\n    );\n  }\n\n  if (s.length > desiredLength) {\n    throw new Error(\n      `Cannot leftpad because string is too long to pad. desiredLength: ${desiredLength}. Actual length: ${\n        s.length\n      }. String: ${JSON.stringify(s)}`\n    );\n  }\n\n  return \"0\".repeat(desiredLength - s.length) + s;\n}\n\nfunction getLocalizedBlockDefs(language: UiLanguage): BlockDefs<BlockKind> {\n  return BLOCK_DEFS[language];\n}\n\nfunction getLocalizedTutorialBlockDefs(\n  language: UiLanguage\n): BlockDefs<TutorialBlockKind> {\n  return getLocalizedBlockDefs(language) as BlockDefs<TutorialBlockKind>;\n}\n\nfunction parseBlockDefString(blockDefString: string): BlockDef<BlockKind> {\n  const flags = {\n    undeletable: blockDefString.includes(\"%%undeletable\"),\n    hermaphroditeCommand: blockDefString.includes(\"%%hermaphroditeCommand\"),\n    maleCommand: blockDefString.includes(\"%%maleCommand\"),\n    femaleCommand: blockDefString.includes(\"%%femaleCommand\"),\n    query: blockDefString.includes(\"%%query\"),\n    entryPoint: blockDefString.includes(\"%%entryPoint\"),\n  } as const;\n\n  let remaining = blockDefString\n    .replace(\n      /%%(?:undeletable|hermaphroditeCommand|maleCommand|femaleCommand|query|entryPoint)/g,\n      \"\"\n    )\n    .replace(/ {2,}/g, \" \");\n  const signature: CommandSignaturePart[] = [];\n  const dropdownDefaults: string[] = [];\n  const literalDefaults: string[] = [];\n\n  while (remaining.length > 0) {\n    const expressionMatch = remaining.match(/^\\([^)]*\\)/);\n    if (expressionMatch !== null) {\n      signature.push({\n        kind: BlockSignaturePartKind.Expression,\n      });\n\n      literalDefaults.push(expressionMatch[0].slice(1, -1).trim());\n\n      remaining = remaining.slice(expressionMatch[0].length);\n      continue;\n    }\n\n    const dropdownMatch = remaining.match(/^\\[[^\\]]*\\]/);\n    if (dropdownMatch !== null) {\n      const choices = dropdownMatch[0]\n        .slice(1, -1)\n        .split(\"||\")\n        .map((s) => s.trim());\n      signature.push({\n        kind: BlockSignaturePartKind.Dropdown,\n        choices,\n      });\n\n      dropdownDefaults.push(choices[0]);\n\n      remaining = remaining.slice(dropdownMatch[0].length);\n      continue;\n    }\n\n    const sequenceMatch = remaining.match(/^\\{\\}/);\n    if (sequenceMatch !== null) {\n      signature.push({\n        kind: BlockSignaturePartKind.CommandSequence,\n      });\n      remaining = remaining.slice(sequenceMatch[0].length);\n      continue;\n    }\n\n    const indexOfNextPart = remaining.search(/[([{]/);\n    const labelText = remaining.slice(\n      0,\n      indexOfNextPart === -1 ? remaining.length : indexOfNextPart\n    );\n    const trimmedLabelText = labelText.trim();\n    if (trimmedLabelText.length > 0) {\n      signature.push({\n        kind: BlockSignaturePartKind.Label,\n        text: trimmedLabelText,\n      });\n    }\n\n    remaining = remaining.slice(labelText.length);\n  }\n\n  const defaultArgs: BlockArgs<BlockKind> = {\n    expressions: literalDefaults.map((source) => ({\n      isLiteral: true,\n      source,\n    })),\n    dropdowns: dropdownDefaults,\n    sequences: signature\n      .filter((part) => part.kind === BlockSignaturePartKind.CommandSequence)\n      .map(() => []),\n  };\n\n  if (\n    flags.query &&\n    !flags.hermaphroditeCommand &&\n    !flags.maleCommand &&\n    !flags.femaleCommand &&\n    !flags.entryPoint\n  ) {\n    return {\n      kind: BlockDefKind.Query,\n      isDeletable: !flags.undeletable,\n      signature: signature.filter(\n        (\n          part\n        ): part is\n          | BlockSignatureLabel\n          | BlockSignatureDropdown\n          | BlockSignatureExpression => {\n          if (\n            part.kind === BlockSignaturePartKind.Label ||\n            part.kind === BlockSignaturePartKind.Dropdown ||\n            part.kind === BlockSignaturePartKind.Expression\n          ) {\n            return true;\n          }\n\n          throw new Error(\n            \"Illegal block def string: \" + JSON.stringify(blockDefString)\n          );\n        }\n      ),\n      defaultArgs,\n    };\n  }\n\n  if (\n    !flags.query &&\n    [flags.hermaphroditeCommand, flags.maleCommand, flags.femaleCommand].filter(\n      (x) => x\n    ).length === 1\n  ) {\n    return {\n      kind: BlockDefKind.Command,\n      isDeletable: !flags.undeletable,\n      isEntryPoint: flags.entryPoint,\n      hasFemaleSocket: flags.femaleCommand || flags.hermaphroditeCommand,\n      hasMaleSocket: flags.maleCommand || flags.hermaphroditeCommand,\n      signature,\n      defaultArgs,\n    };\n  }\n\n  throw new Error(\n    \"Illegal block def string: \" + JSON.stringify(blockDefString)\n  );\n}\n\nfunction getPaletteBlockKinds(level: Level): readonly BlockKind[] {\n  const dict: ReadonlyRecord<Level, readonly BlockKind[]> = {\n    [Level.Level1]: [BlockKind.MoveForward],\n    [Level.Level2]: [BlockKind.MoveForward, BlockKind.Attack],\n    [Level.Level3]: [BlockKind.MoveForward, BlockKind.Attack],\n    [Level.Level4]: [BlockKind.MoveForward, BlockKind.Attack, BlockKind.Heal],\n    [Level.Level5]: [BlockKind.MoveForward, BlockKind.Attack, BlockKind.Heal],\n    [Level.Level6]: [\n      BlockKind.MoveForward,\n      BlockKind.Attack,\n      BlockKind.Heal,\n      BlockKind.MoveBackward,\n    ],\n    [Level.Level7]: [BlockKind.Forever],\n    [Level.Level8]: [BlockKind.Forever, BlockKind.If, BlockKind.XInFront],\n    [Level.Level9]: [\n      BlockKind.Forever,\n      BlockKind.If,\n      BlockKind.XInFront,\n      BlockKind.Health,\n      BlockKind.LessThan,\n      BlockKind.Equal,\n      BlockKind.GreaterThan,\n      BlockKind.And,\n    ],\n    [Level.Level10]: [\n      BlockKind.MoveForward,\n      BlockKind.MoveBackward,\n      BlockKind.Attack,\n      BlockKind.Heal,\n      BlockKind.Forever,\n      BlockKind.If,\n      BlockKind.XInFront,\n      BlockKind.Health,\n      BlockKind.LessThan,\n      BlockKind.Equal,\n      BlockKind.GreaterThan,\n    ],\n  };\n  return dict[level];\n}\n\nfunction getFrontAttackingWitchIndex(levelState: LevelState): number {\n  const heroIndex = getHeroIndex(levelState);\n  if (heroIndex === -1) {\n    return -1;\n  }\n\n  const maxAttackerIndex = Math.min(\n    levelState.squares.length - 1,\n    heroIndex + BATTLE_CONFIG.witchAttackRange\n  );\n  for (let i = heroIndex + 1; i <= maxAttackerIndex; ++i) {\n    const square = levelState.squares[i];\n    if (square.kind === SquareKind.Witch) {\n      return i;\n    }\n\n    // A witch can't attack the hero if something is between the two.\n    if (square.kind !== SquareKind.Empty) {\n      return -1;\n    }\n  }\n\n  return -1;\n}\n\nfunction evaluateSimpleClampedFunction(\n  f: SimpleFunction<number>,\n  x: number\n): number;\nfunction evaluateSimpleClampedFunction<T>(\n  f: SimpleFunction<T>,\n  x: number,\n  vso: VectorSpaceOperations<T>\n): T;\nfunction evaluateSimpleClampedFunction<T>(\n  f: SimpleFunction<T>,\n  x: number,\n  optVso?: VectorSpaceOperations<T>\n): T {\n  const { points } = f;\n  if (points.length === 0) {\n    throw new Error(\n      \"Cannot evaluate a stepwise linear function with no points.\"\n    );\n  }\n\n  if (optVso === undefined && typeof points[0].y !== \"number\") {\n    throw new Error(\n      \"You must provide a VectorSpaceOperations argument for functions on non-number types.\"\n    );\n  }\n\n  const vso = optVso ?? (REAL_VSO as unknown as VectorSpaceOperations<T>);\n\n  if (points.length === 1) {\n    return points[0].y;\n  }\n\n  const firstPoint = points[0];\n  if (x <= firstPoint.x) {\n    return firstPoint.y;\n  }\n\n  const lastPoint = points[points.length - 1];\n  if (x >= lastPoint.x) {\n    return lastPoint.y;\n  }\n\n  for (let i = 1; i < points.length; ++i) {\n    const prevPoint = points[i - 1];\n    const nextPoint = points[i];\n    if (prevPoint.x <= x && x <= nextPoint.x) {\n      const t = (x - prevPoint.x) / (nextPoint.x - prevPoint.x);\n      return vso.add(\n        prevPoint.y,\n        vso.scale(vso.add(nextPoint.y, vso.scale(prevPoint.y, -1)), t)\n      );\n    }\n  }\n\n  throw new Error(\n    \"Malformed StepwiseLinearFunction. Points: \" + JSON.stringify(points)\n  );\n}\n\nfunction horizontallyStretchSimpleFunction<T, F extends SimpleFunction<T>>(\n  f: F,\n  stretchFactor: number\n): F;\nfunction horizontallyStretchSimpleFunction<T>(\n  f: SimpleFunction<T>,\n  stretchFactor: number\n): SimpleFunction<T> {\n  return {\n    kind: \"StepwiseLinearFunction\",\n    points: f.points.map((point) => ({\n      x: point.x * stretchFactor,\n      y: point.y,\n    })),\n  };\n}\n\nfunction applyElementwiseToColor32(\n  c: Color32,\n  f: (x: number) => number\n): Color32 {\n  return {\n    r: f(c.r),\n    g: f(c.g),\n    b: f(c.b),\n    a: f(c.a),\n  };\n}\n\n/** Returns `later - earlier` in seconds. */\nfunction getElapsedSeconds(later: Timestamp, earlier: Timestamp): number {\n  return (later.millisecondsSinceEpoch - earlier.millisecondsSinceEpoch) * 1e-3;\n}\n\nfunction isScreenShowingVictory(\n  screen: ScreenState,\n  getCurrentLevelBattleEvents: () => readonly BattleEvent[]\n): boolean {\n  if (\n    ![AnimationKind.PlayBattle, AnimationKind.PauseBattle].includes(\n      screen.animationKind\n    )\n  ) {\n    return false;\n  }\n\n  const elapsedSeconds = getElapsedSeconds(\n    screen.currentTimestamp,\n    screen.animationStartTime\n  );\n  const battleElapsedSeconds =\n    screen.animationKind === AnimationKind.PlayBattle\n      ? screen.battleAnimationOffsetSeconds + elapsedSeconds\n      : screen.animationKind === AnimationKind.PauseBattle\n      ? screen.battleAnimationOffsetSeconds\n      : 0;\n\n  if (battleElapsedSeconds === 0) {\n    return false;\n  }\n\n  const levelState = getInitialLevelState(screen.level);\n  const { battleStatus } = getBattleAnimationData(\n    levelState,\n    getCurrentLevelBattleEvents(),\n    battleElapsedSeconds\n  );\n  return battleStatus === BattleStatus.Victory;\n}\n\nfunction isScreenShowingDefeat(\n  screen: ScreenState,\n  getCurrentLevelBattleEvents: () => readonly BattleEvent[]\n): boolean {\n  if (\n    ![AnimationKind.PlayBattle, AnimationKind.PauseBattle].includes(\n      screen.animationKind\n    )\n  ) {\n    return false;\n  }\n\n  const elapsedSeconds = getElapsedSeconds(\n    screen.currentTimestamp,\n    screen.animationStartTime\n  );\n  const battleElapsedSeconds =\n    screen.animationKind === AnimationKind.PlayBattle\n      ? screen.battleAnimationOffsetSeconds + elapsedSeconds\n      : screen.animationKind === AnimationKind.PauseBattle\n      ? screen.battleAnimationOffsetSeconds\n      : 0;\n\n  if (battleElapsedSeconds === 0) {\n    return false;\n  }\n\n  const levelState = getInitialLevelState(screen.level);\n  const { battleStatus } = getBattleAnimationData(\n    levelState,\n    getCurrentLevelBattleEvents(),\n    battleElapsedSeconds\n  );\n  return battleStatus === BattleStatus.Defeat;\n}\n\nexport function typecheckedAssertNever(impossible: never): never {\n  return impossible;\n}\n\nfunction renderRect(rect: CanvasRect): CanvasElement {\n  // Based on https://github.com/jarek-foksa/path-data-polyfill/blob/master/path-data-polyfill.js\n  const { x, y, w, h } = rect;\n  const rx = Math.min(rect.rx ?? 0, w / 2);\n  const ry = Math.min(rect.ry ?? 0, h / 2);\n\n  const unfilteredPathData = [\n    { type: \"M\", values: [x + rx, y] },\n    { type: \"H\", values: [x + w - rx] },\n    { type: \"A\", values: [rx, ry, 0, 0, 1, x + w, y + ry] },\n    { type: \"V\", values: [y + h - ry] },\n    { type: \"A\", values: [rx, ry, 0, 0, 1, x + w - rx, y + h] },\n    { type: \"H\", values: [x + rx] },\n    { type: \"A\", values: [rx, ry, 0, 0, 1, x, y + h - ry] },\n    { type: \"V\", values: [y + ry] },\n    { type: \"A\", values: [rx, ry, 0, 0, 1, x + rx, y] },\n    { type: \"Z\", values: [] },\n  ];\n\n  // Get rid of redundant \"A\" segs when either rx or ry is 0\n  const pathData = unfilteredPathData.filter(function (s) {\n    return s.type === \"A\" && (s.values[0] === 0 || s.values[1] === 0)\n      ? false\n      : true;\n  });\n\n  const path = new Path2D(\n    pathData\n      .map((command) => command.type + command.values.join(\" \"))\n      .join(\"\\n\")\n  );\n\n  return {\n    kind: CanvasElementKind.Path,\n    path,\n    stroke: rect.stroke,\n    strokeWidth: rect.strokeWidth,\n    fill: rect.fill,\n  };\n}\n\nfunction renderCircle(circle: CanvasCircle): CanvasElement {\n  const { cx, cy, r } = circle;\n  return renderRect({\n    x: cx - r,\n    y: cy - r,\n    w: 2 * r,\n    h: 2 * r,\n    rx: r,\n    ry: r,\n    stroke: circle.stroke,\n    strokeWidth: circle.strokeWidth,\n    fill: circle.fill,\n  });\n}\n\nfunction getDummyBlockEditorState(): BlockEditorState<BlockKind> {\n  return getStartingBlockEditorStateForLevel(Level.Level1);\n}\n\nfunction noOp(): void {}\n\nfunction getButtonAt(\n  clientPosition: Vec2,\n  state: State,\n  resources: ButtonClickDetectorResources\n): null | ButtonKind {\n  const { screen } = state;\n\n  if (\n    screen.animationKind === AnimationKind.Edit &&\n    screen.blockEditor.literalEditor !== null\n  ) {\n    const elements = document.elementsFromPoint(\n      clientPosition.x,\n      clientPosition.y\n    );\n    if (\n      elements.some((elem) => elem.id === DOM_ELEMENT_IDS.blockLiteralEditor)\n    ) {\n      return null;\n    }\n  }\n\n  if (screen.animationKind === AnimationKind.StaticHome) {\n    return getButtonAtPositionAssumingHomeScreen(\n      clientPosition,\n      state,\n      resources\n    );\n  }\n\n  if (screen.animationKind === AnimationKind.StaticSettings) {\n    return getButtonAtPositionAssumingSettingsScreen(\n      clientPosition,\n      state,\n      resources\n    );\n  }\n\n  if (screen.animationKind === AnimationKind.StaticConfirmResetToLevelOne) {\n    return getButtonAtPositionAssumingConfirmResetToLevelOne(\n      clientPosition,\n      state,\n      resources\n    );\n  }\n\n  if (screen.animationKind === AnimationKind.Credits) {\n    return getButtonAtPositionAssumingCreditsScreen(\n      clientPosition,\n      state,\n      resources\n    );\n  }\n\n  if (\n    [\n      AnimationKind.Edit,\n      AnimationKind.PlayBattle,\n      AnimationKind.PauseBattle,\n    ].includes(screen.animationKind)\n  ) {\n    return getButtonAtPositionAssumingPuzzleScreen(\n      clientPosition,\n      state,\n      resources\n    );\n  }\n\n  return null;\n}\n\nfunction getButtonAtPositionAssumingHomeScreen(\n  clientPosition: Vec2,\n  state: State,\n  resources: ButtonClickDetectorResources\n): null | ButtonKind {\n  if (isWithinHomeScreenStartButton(clientPosition, state, resources)) {\n    return ButtonKind.HomeScreenStart;\n  }\n\n  if (isWithinHomeScreenSettingsButton(clientPosition, state, resources)) {\n    return ButtonKind.Settings;\n  }\n\n  return null;\n}\n\nfunction getButtonAtPositionAssumingSettingsScreen(\n  clientPosition: Vec2,\n  state: State,\n  resources: ButtonClickDetectorResources\n): null | ButtonKind {\n  if (isWithinSettingsScreenLanguageButton(clientPosition, state, resources)) {\n    return ButtonKind.Language;\n  }\n\n  if (isWithinSettingsScreenCreditsButton(clientPosition, state, resources)) {\n    return ButtonKind.Credits;\n  }\n\n  if (isWithinSettingsScreenResetButton(clientPosition, state, resources)) {\n    return ButtonKind.OpenConfirmResetToLevelOneScreen;\n  }\n\n  if (isWithinSettingsScreenCloseButton(clientPosition, state, resources)) {\n    return ButtonKind.SettingsScreenClose;\n  }\n\n  if (\n    isWithinSettingsScreenSecondaryCloseButton(clientPosition, state, resources)\n  ) {\n    return ButtonKind.SettingsScreenSecondaryClose;\n  }\n\n  return null;\n}\n\nfunction getButtonAtPositionAssumingConfirmResetToLevelOne(\n  clientPosition: Vec2,\n  state: State,\n  resources: ButtonClickDetectorResources\n): null | ButtonKind {\n  const hypotheticalButton = getButtonAtPositionAssumingSettingsScreen(\n    clientPosition,\n    state,\n    resources\n  );\n\n  if (hypotheticalButton === ButtonKind.Credits) {\n    return ButtonKind.ConfirmResetToLevelOne;\n  }\n\n  if (hypotheticalButton === ButtonKind.OpenConfirmResetToLevelOneScreen) {\n    return ButtonKind.CancelResetToLevelOne;\n  }\n\n  if (hypotheticalButton === ButtonKind.SettingsScreenClose) {\n    return ButtonKind.ConfirmResetToLevelOneScreenClose;\n  }\n\n  if (hypotheticalButton === ButtonKind.SettingsScreenSecondaryClose) {\n    return hypotheticalButton;\n  }\n\n  return null;\n}\n\nfunction getButtonAtPositionAssumingCreditsScreen(\n  clientPosition: Vec2,\n  state: State,\n  resources: ButtonClickDetectorResources\n): null | ButtonKind {\n  // If the user taps anywhere, we close the credits screen.\n  return ButtonKind.CreditsScreenClose;\n}\n\nfunction getButtonAtPositionAssumingPuzzleScreen(\n  clientPosition: Vec2,\n  state: State,\n  resources: ButtonClickDetectorResources\n): null | ButtonKind {\n  if (isWithinPuzzleScreenLeftButton(clientPosition, state, resources)) {\n    return ButtonKind.PuzzleScreenLeft;\n  }\n\n  if (isWithinPuzzleScreenMiddleButton(clientPosition, state, resources)) {\n    return ButtonKind.PuzzleScreenMiddle;\n  }\n\n  if (isWithinPuzzleScreenRightButton(clientPosition, state, resources)) {\n    return ButtonKind.PuzzleScreenRight;\n  }\n\n  if (\n    isScreenShowingVictory(\n      state.screen,\n      resources.getCurrentLevelBattleEvents\n    ) &&\n    isWithinNextLevelButton(clientPosition, state, resources)\n  ) {\n    return ButtonKind.NextLevel;\n  }\n\n  return null;\n}\n\nfunction isWithinHomeScreenStartButton(\n  clientPosition: Vec2,\n  state: State,\n  resources: ButtonClickDetectorResources\n): boolean {\n  return isWithinButtonWithNonextendedHomePosition(\n    clientPosition,\n    START_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.topLeft,\n    images.buttons.home.start,\n    state,\n    resources\n  );\n}\n\nfunction isWithinHomeScreenSettingsButton(\n  clientPosition: Vec2,\n  state: State,\n  resources: ButtonClickDetectorResources\n): boolean {\n  return isWithinButtonWithNonextendedHomePosition(\n    clientPosition,\n    SETTINGS_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.topLeft,\n    images.buttons.home.settings,\n    state,\n    resources\n  );\n}\n\nfunction isWithinSettingsScreenLanguageButton(\n  clientPosition: Vec2,\n  state: State,\n  resources: ButtonClickDetectorResources\n): boolean {\n  return isWithinButtonWithNonextendedHomePosition(\n    clientPosition,\n    LANGUAGE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.topLeft,\n    images.buttons.settings.language,\n    state,\n    resources\n  );\n}\n\nfunction isWithinSettingsScreenCreditsButton(\n  clientPosition: Vec2,\n  state: State,\n  resources: ButtonClickDetectorResources\n): boolean {\n  return isWithinButtonWithNonextendedHomePosition(\n    clientPosition,\n    CREDITS_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.topLeft,\n    images.buttons.settings.credits,\n    state,\n    resources\n  );\n}\n\nfunction isWithinSettingsScreenResetButton(\n  clientPosition: Vec2,\n  state: State,\n  resources: ButtonClickDetectorResources\n): boolean {\n  return isWithinButtonWithNonextendedHomePosition(\n    clientPosition,\n    RESET_TO_LEVEL_ONE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.topLeft,\n    images.buttons.settings.reset_to_level_one,\n    state,\n    resources\n  );\n}\n\nfunction isWithinSettingsScreenCloseButton(\n  clientPosition: Vec2,\n  state: State,\n  resources: ButtonClickDetectorResources\n): boolean {\n  return isWithinButtonWithNonextendedHomePosition(\n    clientPosition,\n    SETTINGS_SCREEN_CLOSE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS.topLeft,\n    images.buttons.settings.close,\n    state,\n    resources\n  );\n}\n\nfunction isWithinSettingsScreenSecondaryCloseButton(\n  clientPosition: Vec2,\n  state: State,\n  resources: ButtonClickDetectorResources\n): boolean {\n  // If the user clicks _outside_ the settings box,\n  // we consider that to be a click on the secondary close button.\n  return !isWithinButtonWithNonextendedHomePosition(\n    clientPosition,\n    SETTINGS_BOX_BBOX_IN_NONEXTENDED_HOME_COORDS.topLeft,\n    images.settings_box,\n    state,\n    resources\n  );\n}\n\nfunction isWithinButtonWithNonextendedHomePosition(\n  clientPosition: Vec2,\n  bboxInNonextendedHomeCoords: Vec2,\n  buttonImage: HTMLImageElement,\n  state: State,\n  resources: ButtonClickDetectorResources\n): boolean {\n  const MAIN_DIMENSIONS: Dimensions = {\n    width: 2039,\n    height: 1447,\n  };\n  const minimumHorizontalScale = state.appWidth / MAIN_DIMENSIONS.width;\n  const minimumVerticalScale = state.appHeight / MAIN_DIMENSIONS.height;\n  const scale = Math.min(minimumHorizontalScale, minimumVerticalScale);\n  const mainRbox: Rectangle = ((): Rectangle => {\n    const scaledWidth = MAIN_DIMENSIONS.width * scale;\n    const scaledHeight = MAIN_DIMENSIONS.height * scale;\n    const x = (state.appWidth - scaledWidth) / 2;\n    const y = (state.appHeight - scaledHeight) / 1;\n    return {\n      topLeft: { x, y },\n      dimensions: { width: scaledWidth, height: scaledHeight },\n    };\n  })();\n\n  const touchPositionInNonextendedHomeCoords = {\n    x: Math.floor((clientPosition.x - mainRbox.topLeft.x) / scale),\n    y: Math.floor((clientPosition.y - mainRbox.topLeft.y) / scale),\n  };\n  const touchPositionInImageCoords = subVec(\n    touchPositionInNonextendedHomeCoords,\n    bboxInNonextendedHomeCoords\n  );\n  const imageX = touchPositionInImageCoords.x;\n  const imageY = touchPositionInImageCoords.y;\n\n  if (buttonImage.naturalWidth === 0 || buttonImage.naturalHeight === 0) {\n    return false;\n  }\n\n  const ctx = resources.tempCanvasCtx;\n  ctx.canvas.width = NONEXTENDED_HOME_BACKGROUND_DIMENSIONS.width;\n  ctx.canvas.height = NONEXTENDED_HOME_BACKGROUND_DIMENSIONS.height;\n  ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  ctx.drawImage(buttonImage, imageX, imageY, 1, 1, imageX, imageY, 1, 1);\n  const imageData = ctx.getImageData(imageX, imageY, 1, 1).data;\n  return imageData[3] > 0;\n}\n\nfunction isWithinPuzzleScreenLeftButton(\n  clientPosition: Vec2,\n  state: State,\n  resources: ButtonClickDetectorResources\n): boolean {\n  const { appWidth, appHeight } = state;\n  const backgroundImageScale = appWidth / SIZING.castleInteriorImage.width;\n  const safeAreaInsets = state.safeAreaInsets.insets;\n\n  const buttonImage = images.buttons.puzzle.edit;\n  const button: CanvasElement = {\n    kind: CanvasElementKind.Image,\n    source: buttonImage,\n    dx: 945 * backgroundImageScale - safeAreaInsets.right,\n    dy: 5,\n    dw: 120 * backgroundImageScale,\n    dh:\n      120 *\n      backgroundImageScale *\n      (buttonImage.naturalHeight / buttonImage.naturalWidth),\n  };\n\n  const ctx = resources.tempCanvasCtx;\n  ctx.canvas.width = appWidth;\n  ctx.canvas.height = appHeight;\n  ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  paintCanvasElement(button, ctx);\n  const imageX = Math.floor(clientPosition.x);\n  const imageY = Math.floor(clientPosition.y);\n  const imageData = ctx.getImageData(imageX, imageY, 1, 1).data;\n  return imageData[3] > 0;\n}\n\nfunction isWithinPuzzleScreenMiddleButton(\n  clientPosition: Vec2,\n  state: State,\n  resources: ButtonClickDetectorResources\n): boolean {\n  const { appWidth, appHeight } = state;\n  const backgroundImageScale = appWidth / SIZING.castleInteriorImage.width;\n  const safeAreaInsets = state.safeAreaInsets.insets;\n\n  // The View, Play, and Pause buttons all have the same dimensions.\n  // So we arbitrarily choose to use View here,\n  // but this code will work correctly for all 3 buttons.\n  const buttonImage = images.buttons.puzzle.view;\n  const button: CanvasElement = {\n    kind: CanvasElementKind.Image,\n    source: buttonImage,\n    dx: 1075 * backgroundImageScale - safeAreaInsets.right,\n    dy: 5,\n    dw: 120 * backgroundImageScale,\n    dh:\n      120 *\n      backgroundImageScale *\n      (buttonImage.naturalHeight / buttonImage.naturalWidth),\n  };\n\n  const ctx = resources.tempCanvasCtx;\n  ctx.canvas.width = appWidth;\n  ctx.canvas.height = appHeight;\n  ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  paintCanvasElement(button, ctx);\n  const imageX = Math.floor(clientPosition.x);\n  const imageY = Math.floor(clientPosition.y);\n  const imageData = ctx.getImageData(imageX, imageY, 1, 1).data;\n  return imageData[3] > 0;\n}\n\nfunction isWithinPuzzleScreenRightButton(\n  clientPosition: Vec2,\n  state: State,\n  resources: ButtonClickDetectorResources\n): boolean {\n  const { appWidth, appHeight } = state;\n  const backgroundImageScale = appWidth / SIZING.castleInteriorImage.width;\n  const safeAreaInsets = state.safeAreaInsets.insets;\n\n  const buttonImage = images.buttons.puzzle.home;\n  const button: CanvasElement = {\n    kind: CanvasElementKind.Image,\n    source: buttonImage,\n    dx: 1205 * backgroundImageScale - safeAreaInsets.right,\n    dy: 5,\n    dw: 120 * backgroundImageScale,\n    dh:\n      120 *\n      backgroundImageScale *\n      (buttonImage.naturalHeight / buttonImage.naturalWidth),\n  };\n\n  const ctx = resources.tempCanvasCtx;\n  ctx.canvas.width = appWidth;\n  ctx.canvas.height = appHeight;\n  ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  paintCanvasElement(button, ctx);\n  const imageX = Math.floor(clientPosition.x);\n  const imageY = Math.floor(clientPosition.y);\n  const imageData = ctx.getImageData(imageX, imageY, 1, 1).data;\n  return imageData[3] > 0;\n}\n\nfunction isWithinNextLevelButton(\n  clientPosition: Vec2,\n  state: State,\n  resources: ButtonClickDetectorResources\n): boolean {\n  if (state.screen.level >= LAST_LEVEL) {\n    return false;\n  }\n\n  const { appWidth, appHeight, language } = state;\n\n  const backgroundImageScale = appWidth / SIZING.castleInteriorImage.width;\n  const battleOutcomeTextDimensions = resources.measureCanvasText({\n    text: getUiText(language, UiTextKind.LevelCleared),\n    fontSize: SIZING.unscaledBattleOutcomeTextSizePx * backgroundImageScale,\n    fontFamily: BATTLE_OUTCOME_TEXT_FONT_FAMILY,\n  });\n  const nextLevelButtonTextDimensions = resources.measureCanvasText({\n    text: getUiText(language, UiTextKind.NextLevel),\n    fontSize: SIZING.unscaledButtonTextSizePx * backgroundImageScale,\n    fontFamily: BUTTON_TEXT_FONT_FAMILY,\n  });\n  const nextLevelButtonPadding = nextLevelButtonTextDimensions.height;\n  const victoryButton = renderRect({\n    x:\n      state.appWidth / 2 -\n      (nextLevelButtonTextDimensions.width + 2 * nextLevelButtonPadding) / 2,\n    y:\n      0 +\n      0.5 * appHeight +\n      0.5 * battleOutcomeTextDimensions.height +\n      2 * battleOutcomeTextDimensions.height,\n    w: nextLevelButtonTextDimensions.width + 2 * nextLevelButtonPadding,\n    h: nextLevelButtonTextDimensions.height + 2 * nextLevelButtonPadding,\n    fill: COLOR_THEME.buttonBlue,\n    rx: 5,\n    ry: 5,\n  });\n\n  const ctx = resources.tempCanvasCtx;\n  ctx.canvas.width = appWidth;\n  ctx.canvas.height = appHeight;\n  ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  paintCanvasElement(victoryButton, ctx);\n  const imageX = Math.floor(clientPosition.x);\n  const imageY = Math.floor(clientPosition.y);\n  const imageData = ctx.getImageData(imageX, imageY, 1, 1).data;\n  return imageData[3] > 0;\n}\n\nfunction getDepressedButtonBBox(nondepressedBBox: Rectangle): Rectangle {\n  const nondepressedWidth = nondepressedBBox.dimensions.width;\n  const nondepressedHeight = nondepressedBBox.dimensions.height;\n  const width = nondepressedWidth * SIZING.depressedButtonScale;\n  const height = nondepressedHeight * SIZING.depressedButtonScale;\n  const topLeft = addVec(nondepressedBBox.topLeft, {\n    x: 0.5 * (nondepressedWidth - width),\n    y: 0.5 * (nondepressedHeight - height),\n  });\n  return {\n    topLeft,\n    dimensions: { width, height },\n  };\n}\n\nfunction areAnyBlocksReachable(screen: ScreenState): boolean {\n  return screen.blockEditor.canvas.items.some(\n    (item) =>\n      item.content[0].kind === BlockKind.WhenBattleStarts &&\n      item.content.length >= 2\n  );\n}\n\nfunction withAlpha(alpha: number, e: CanvasElement): CanvasElement {\n  return {\n    kind: CanvasElementKind.Group,\n    alpha,\n    children: [e],\n  };\n}\n\nfunction getSavedStateOrDefault(): Promise<SavableState> {\n  return loadData(LOCAL_STORAGE_STATE_KEY).then(\n    parseStringAsStateButReturnDefaultStateIfInvalid\n  );\n}\n\nfunction getStateSavedInLocalStorageOrDefault(): SavableState {\n  const savedStr = localStorage.getItem(LOCAL_STORAGE_STATE_KEY);\n  return parseStringAsStateButReturnDefaultStateIfInvalid(savedStr);\n}\n\nfunction parseStringAsStateButReturnDefaultStateIfInvalid(\n  s: null | string\n): SavableState {\n  if (s === null) {\n    return getDefaultSavableState();\n  }\n\n  try {\n    const parsed = JSON.parse(s);\n    if (parsed.version !== SETTINGS_VERSION) {\n      return getDefaultSavableState();\n    }\n\n    const { language, blockEditor, level } = parsed;\n    return { language, blockEditor, level };\n  } catch {\n    console.error(\"Failed to parse saved state: \" + JSON.stringify(s));\n    return getDefaultSavableState();\n  }\n}\n\nfunction getDefaultSavableState(): SavableState {\n  const level = Level.Level1;\n  const blockEditor = getStartingBlockEditorStateForLevel(level);\n  const navLang = navigator.language;\n  const language = navLang.startsWith(\"en\")\n    ? UiLanguage.English\n    : navLang.startsWith(\"ja\")\n    ? UiLanguage.Japanese\n    : DEFAULT_LANGUAGE;\n  return { language, blockEditor, level };\n}\n\nfunction saveState(\n  state: State,\n  getCurrentLevelBattleEvents: () => readonly BattleEvent[]\n): void {\n  const { language, screen } = state;\n  const unsafeNextLevel = screen.level + 1;\n  const { blockEditor, level } =\n    isScreenShowingVictory(screen, getCurrentLevelBattleEvents) &&\n    screen.level < LAST_LEVEL\n      ? {\n          blockEditor: getStartingBlockEditorStateForLevel(unsafeNextLevel),\n          level: unsafeNextLevel,\n        }\n      : screen;\n  const savableState = {\n    version: SETTINGS_VERSION,\n    language,\n    blockEditor,\n    level,\n  };\n  const stateString = JSON.stringify(savableState);\n  saveData(LOCAL_STORAGE_STATE_KEY, stateString);\n}\n\nfunction typesafeCast<T>(x: T): T {\n  return x;\n}\n\nfunction getLaterTimestamp(a: Timestamp, b: Timestamp): Timestamp {\n  return {\n    millisecondsSinceEpoch: Math.max(\n      a.millisecondsSinceEpoch,\n      b.millisecondsSinceEpoch\n    ),\n  };\n}\n\nfunction areAnyTrue(bools: readonly boolean[]): boolean {\n  return bools.some(identity);\n}\n\nfunction identity<T>(x: T): T {\n  return x;\n}\n\nfunction applyActiveFilterToTriplet(triplet: ColorTriplet): ColorTriplet {\n  const s = 1.5;\n  return {\n    primary: saturate(s, triplet.primary),\n    secondary: saturate(s, triplet.secondary),\n    tertiary: saturate(s, triplet.tertiary),\n  };\n}\n\nfunction applyInactiveFilterToTriplet(triplet: ColorTriplet): ColorTriplet {\n  const s = 0.5;\n  const a = 100;\n  return {\n    primary: { ...saturate(s, triplet.primary), a },\n    secondary: { ...saturate(s, triplet.secondary), a },\n    tertiary: { ...saturate(s, triplet.tertiary), a },\n  };\n}\n\nfunction flagBlockSequenceAsInactiveExcept(\n  activeBlockAddress: NodeAddress,\n  sequence: BlockSequence<MinimapBlockKind>,\n  sequenceAddress: NodeAddress\n): BlockSequence<MinimapBlockKind> {\n  return sequence.map((block, i) =>\n    flagBlockAsInactiveExcept(\n      activeBlockAddress,\n      block,\n      sequenceAddress.concat([i])\n    )\n  );\n}\n\nfunction flagBlockAsInactiveExcept(\n  activeBlockAddress: NodeAddress,\n  block: Block<MinimapBlockKind>,\n  blockAddress: NodeAddress\n): Block<MinimapBlockKind> {\n  return {\n    kind: areNodeAddressesEqual(activeBlockAddress, blockAddress)\n      ? getActiveVersionOfBlockKind(block.kind)\n      : getInactiveVersionOfBlockKind(block.kind),\n    isLiteral: block.isLiteral,\n    args: {\n      expressions: block.args.expressions.map((expression, expressionIndex) =>\n        expression.isLiteral\n          ? expression\n          : flagBlockAsInactiveExcept(\n              activeBlockAddress,\n              expression,\n              blockAddress.concat([\n                ARG_EXPRESSION_ADDRESS_PART,\n                expressionIndex,\n              ])\n            )\n      ),\n      dropdowns: block.args.dropdowns,\n      sequences: block.args.sequences.map((sequence, sequenceIndex) =>\n        flagBlockSequenceAsInactiveExcept(\n          activeBlockAddress,\n          sequence,\n          blockAddress.concat([\n            ARG_COMMAND_SEQUENCE_ADDRESS_PART,\n            sequenceIndex,\n          ])\n        )\n      ),\n    },\n  };\n}\n\nfunction getActiveVersionOfBlockKind(kind: MinimapBlockKind): BlockKind {\n  const halfDict: ReadonlyRecord<BlockKind, BlockKind> = mapBlockKindRecord(\n    BLOCK_DEF_STRINGS,\n    (_val, kind) => kind\n  );\n  const dict: ReadonlyRecord<MinimapBlockKind, BlockKind> = {\n    ...halfDict,\n    ...mapBlockKindRecordToInactiveBlockKindRecord(halfDict, identity),\n  };\n  return dict[kind];\n}\n\nfunction getInactiveVersionOfBlockKind(\n  kind: MinimapBlockKind\n): MinimapBlockKind {\n  const halfDict: ReadonlyRecord<BlockKind, InactiveBlockKind> = {\n    [BlockKind.WhenBattleStarts]: InactiveBlockKind.WhenBattleStarts,\n    [BlockKind.MoveForward]: InactiveBlockKind.MoveForward,\n    [BlockKind.Attack]: InactiveBlockKind.Attack,\n    [BlockKind.Heal]: InactiveBlockKind.Heal,\n    [BlockKind.MoveBackward]: InactiveBlockKind.MoveBackward,\n    [BlockKind.Forever]: InactiveBlockKind.Forever,\n    [BlockKind.If]: InactiveBlockKind.If,\n    [BlockKind.XInFront]: InactiveBlockKind.XInFront,\n    [BlockKind.And]: InactiveBlockKind.And,\n    [BlockKind.Or]: InactiveBlockKind.Or,\n    [BlockKind.Not]: InactiveBlockKind.Not,\n    [BlockKind.Health]: InactiveBlockKind.Health,\n    [BlockKind.LessThan]: InactiveBlockKind.LessThan,\n    [BlockKind.Equal]: InactiveBlockKind.Equal,\n    [BlockKind.GreaterThan]: InactiveBlockKind.GreaterThan,\n  };\n  const dict: ReadonlyRecord<MinimapBlockKind, InactiveBlockKind> = {\n    ...halfDict,\n    ...mapBlockKindRecordToInactiveBlockKindRecord(halfDict, identity),\n  };\n  return dict[kind];\n}\n\nfunction saturate(s: number, original: Color32): Color32 {\n  const r = original.r / 255;\n  const g = original.g / 255;\n  const b = original.b / 255;\n\n  const newR =\n    r * (0.213 + 0.787 * s) + g * (0.715 - 0.715 * s) + b * (0.072 - 0.072 * s);\n  const newG =\n    r * (0.213 - 0.213 * s) + g * (0.715 + 0.285 * s) + b * (0.072 - 0.072 * s);\n  const newB =\n    r * (0.213 - 0.213 * s) + g * (0.715 - 0.715 * s) + b * (0.072 + 0.928 * s);\n\n  return {\n    r: toU8(255 * newR),\n    g: toU8(255 * newG),\n    b: toU8(255 * newB),\n    a: original.a,\n  };\n}\n\nfunction toU8(n: number): number {\n  const out = Math.min(255, Math.max(0, Math.round(n)));\n\n  if (!Number.isInteger(out)) {\n    return 0;\n  }\n\n  return out;\n}\n\nfunction getRboxAtAddressFromBlockSequence(\n  targetAddress: NodeAddress,\n  spec: BlockSequenceRenderSpec<any>\n): null | Rectangle {\n  if (areNodeAddressesEqual(targetAddress, spec.address)) {\n    return spec.rbox;\n  }\n\n  for (const blockSpec of spec.blockSpecs) {\n    const subRbox = getRboxAtAddressFromBlock(targetAddress, blockSpec);\n    if (subRbox !== null) {\n      return subRbox;\n    }\n  }\n\n  return null;\n}\n\nfunction getRboxAtAddressFromBlock(\n  targetAddress: NodeAddress,\n  spec: BlockRenderSpec<any>\n): null | Rectangle {\n  if (areNodeAddressesEqual(targetAddress, spec.address)) {\n    return spec.rbox;\n  }\n\n  for (const expressionSpec of spec.subexpressionSpecs) {\n    if (expressionSpec.kind === RenderSpecKind.Literal) {\n      continue;\n    }\n\n    const subRbox = getRboxAtAddressFromBlock(targetAddress, expressionSpec);\n    if (subRbox !== null) {\n      return subRbox;\n    }\n  }\n\n  for (const sequenceSpec of spec.subsequenceSpecs) {\n    const subRbox = getRboxAtAddressFromBlockSequence(\n      targetAddress,\n      sequenceSpec\n    );\n    if (subRbox !== null) {\n      return subRbox;\n    }\n  }\n\n  return null;\n}\n\nfunction mapBlockKindRecord<T, U>(\n  src: ReadonlyRecord<BlockKind, T>,\n  f: (val: T, kind: BlockKind) => U\n): ReadonlyRecord<BlockKind, U> {\n  return {\n    [BlockKind.MoveForward]: f(\n      src[BlockKind.MoveForward],\n      BlockKind.MoveForward\n    ),\n    [BlockKind.Attack]: f(src[BlockKind.Attack], BlockKind.Attack),\n    [BlockKind.WhenBattleStarts]: f(\n      src[BlockKind.WhenBattleStarts],\n      BlockKind.WhenBattleStarts\n    ),\n    [BlockKind.Heal]: f(src[BlockKind.Heal], BlockKind.Heal),\n    [BlockKind.Forever]: f(src[BlockKind.Forever], BlockKind.Forever),\n    [BlockKind.MoveBackward]: f(\n      src[BlockKind.MoveBackward],\n      BlockKind.MoveBackward\n    ),\n    [BlockKind.If]: f(src[BlockKind.If], BlockKind.If),\n    [BlockKind.XInFront]: f(src[BlockKind.XInFront], BlockKind.XInFront),\n    [BlockKind.And]: f(src[BlockKind.And], BlockKind.And),\n    [BlockKind.Or]: f(src[BlockKind.Or], BlockKind.Or),\n    [BlockKind.Not]: f(src[BlockKind.Not], BlockKind.Not),\n    [BlockKind.Health]: f(src[BlockKind.Health], BlockKind.Health),\n    [BlockKind.LessThan]: f(src[BlockKind.LessThan], BlockKind.LessThan),\n    [BlockKind.Equal]: f(src[BlockKind.Equal], BlockKind.Equal),\n    [BlockKind.GreaterThan]: f(\n      src[BlockKind.GreaterThan],\n      BlockKind.GreaterThan\n    ),\n  };\n}\n\nfunction mapBlockKindRecordToInactiveBlockKindRecord<T, U>(\n  src: ReadonlyRecord<BlockKind, T>,\n  f: (val: T, kind: BlockKind) => U\n): ReadonlyRecord<InactiveBlockKind, U> {\n  return {\n    [InactiveBlockKind.MoveForward]: f(\n      src[BlockKind.MoveForward],\n      BlockKind.MoveForward\n    ),\n    [InactiveBlockKind.Attack]: f(src[BlockKind.Attack], BlockKind.Attack),\n    [InactiveBlockKind.WhenBattleStarts]: f(\n      src[BlockKind.WhenBattleStarts],\n      BlockKind.WhenBattleStarts\n    ),\n    [InactiveBlockKind.Heal]: f(src[BlockKind.Heal], BlockKind.Heal),\n    [InactiveBlockKind.Forever]: f(src[BlockKind.Forever], BlockKind.Forever),\n    [InactiveBlockKind.MoveBackward]: f(\n      src[BlockKind.MoveBackward],\n      BlockKind.MoveBackward\n    ),\n    [InactiveBlockKind.If]: f(src[BlockKind.If], BlockKind.If),\n    [InactiveBlockKind.XInFront]: f(\n      src[BlockKind.XInFront],\n      BlockKind.XInFront\n    ),\n    [InactiveBlockKind.And]: f(src[BlockKind.And], BlockKind.And),\n    [InactiveBlockKind.Or]: f(src[BlockKind.Or], BlockKind.Or),\n    [InactiveBlockKind.Not]: f(src[BlockKind.Not], BlockKind.Not),\n    [InactiveBlockKind.Health]: f(src[BlockKind.Health], BlockKind.Health),\n    [InactiveBlockKind.LessThan]: f(\n      src[BlockKind.LessThan],\n      BlockKind.LessThan\n    ),\n    [InactiveBlockKind.Equal]: f(src[BlockKind.Equal], BlockKind.Equal),\n    [InactiveBlockKind.GreaterThan]: f(\n      src[BlockKind.GreaterThan],\n      BlockKind.GreaterThan\n    ),\n  };\n}\n\nfunction disableBlockDeletionBasedOnLevel(\n  original: BlockDefs<BlockKind>,\n  level: Level\n): BlockDefs<BlockKind> {\n  switch (level) {\n    case Level.Level1:\n    case Level.Level2:\n    case Level.Level3:\n    case Level.Level4:\n    case Level.Level5:\n    case Level.Level6:\n    case Level.Level10:\n      return original;\n\n    case Level.Level7: {\n      const NORMALLY_DELETABLE_BLOCK_KINDS_THAT_ARE_UNDELETABLE = [\n        BlockKind.MoveForward,\n      ];\n      return mapBlockKindRecord(original, (originalDef, kind) =>\n        NORMALLY_DELETABLE_BLOCK_KINDS_THAT_ARE_UNDELETABLE.includes(kind)\n          ? { ...originalDef, isDeletable: false }\n          : originalDef\n      );\n    }\n\n    case Level.Level8: {\n      const NORMALLY_DELETABLE_BLOCK_KINDS_THAT_ARE_UNDELETABLE = [\n        BlockKind.MoveForward,\n        BlockKind.Attack,\n      ];\n      return mapBlockKindRecord(original, (originalDef, kind) =>\n        NORMALLY_DELETABLE_BLOCK_KINDS_THAT_ARE_UNDELETABLE.includes(kind)\n          ? { ...originalDef, isDeletable: false }\n          : originalDef\n      );\n    }\n\n    case Level.Level9: {\n      const NORMALLY_DELETABLE_BLOCK_KINDS_THAT_ARE_UNDELETABLE = [\n        BlockKind.MoveForward,\n        BlockKind.Attack,\n        BlockKind.Heal,\n      ];\n      return mapBlockKindRecord(original, (originalDef, kind) =>\n        NORMALLY_DELETABLE_BLOCK_KINDS_THAT_ARE_UNDELETABLE.includes(kind)\n          ? { ...originalDef, isDeletable: false }\n          : originalDef\n      );\n    }\n  }\n}\n\nfunction doesBlockKindConsumeHeroTurn(kind: BlockKind): boolean {\n  switch (kind) {\n    case BlockKind.MoveForward:\n    case BlockKind.MoveBackward:\n    case BlockKind.Attack:\n    case BlockKind.Heal:\n      return true;\n\n    // Control structures do not consume a turn.\n    case BlockKind.WhenBattleStarts:\n    case BlockKind.Forever:\n    case BlockKind.If:\n      return false;\n\n    // Queries do not consume a turn.\n    case BlockKind.XInFront:\n    case BlockKind.And:\n    case BlockKind.Or:\n    case BlockKind.Not:\n    case BlockKind.Health:\n    case BlockKind.LessThan:\n    case BlockKind.Equal:\n    case BlockKind.GreaterThan:\n      return false;\n  }\n}\n\nfunction doesBlockSequenceContainNonEmptyLiteral(\n  sequence: BlockSequence<unknown>\n): boolean {\n  return sequence.some(doesBlockContainNonEmptyLiteral);\n}\n\nfunction doesBlockContainNonEmptyLiteral(block: Block<unknown>): boolean {\n  return (\n    block.args.expressions.some((expr) =>\n      expr.isLiteral\n        ? expr.source.length > 0\n        : doesBlockContainNonEmptyLiteral(expr)\n    ) || block.args.sequences.some(doesBlockSequenceContainNonEmptyLiteral)\n  );\n}\n\nfunction getBlockSpecFromBlockSequenceSpecSatisfying<\n  K extends string | number | symbol\n>(\n  seqSpec: BlockSequenceRenderSpec<K>,\n  predicate: (blockSpec: BlockRenderSpec<K>) => boolean\n): null | BlockRenderSpec<K> {\n  for (const blockSpec of seqSpec.blockSpecs) {\n    if (predicate(blockSpec)) {\n      return blockSpec;\n    }\n  }\n\n  for (const blockSpec of seqSpec.blockSpecs) {\n    const subBlockSpec = getSubBlockSpecFromBlockSpecSatisfying(\n      blockSpec,\n      predicate\n    );\n    if (subBlockSpec !== null) {\n      return subBlockSpec;\n    }\n  }\n\n  return null;\n}\n\nfunction getSubBlockSpecFromBlockSpecSatisfying<\n  K extends string | number | symbol\n>(\n  blockSpec: BlockRenderSpec<K>,\n  predicate: (blockSpec: BlockRenderSpec<K>) => boolean\n): null | BlockRenderSpec<K> {\n  for (const subBlockSpec of blockSpec.subexpressionSpecs) {\n    if (subBlockSpec.kind === RenderSpecKind.Literal) {\n      continue;\n    }\n\n    if (predicate(subBlockSpec)) {\n      return subBlockSpec;\n    }\n  }\n\n  for (const subSeqSpec of blockSpec.subsequenceSpecs) {\n    const subBlockSpec = getBlockSpecFromBlockSequenceSpecSatisfying(\n      subSeqSpec,\n      predicate\n    );\n    if (subBlockSpec !== null) {\n      return subBlockSpec;\n    }\n  }\n\n  return null;\n}\n\nfunction tripletWithAlpha(a: number, original: ColorTriplet): ColorTriplet {\n  return {\n    primary: { ...original.primary, a },\n    secondary: { ...original.secondary, a },\n    tertiary: { ...original.tertiary, a },\n  };\n}\n\nfunction mapTriplet(\n  src: ColorTriplet,\n  f: (preim: Color32) => Color32\n): ColorTriplet {\n  return {\n    primary: f(src.primary),\n    secondary: f(src.secondary),\n    tertiary: f(src.tertiary),\n  };\n}\n\nfunction compositeColor32(foreground: Color32, background: Color32): Color32 {\n  const fgAlpha = foreground.a / 255;\n  const bgAlpha = background.a / 255;\n  const outAlpha = fgAlpha + bgAlpha * (1.0 - fgAlpha);\n\n  const unrounded = {\n    r:\n      (foreground.r * fgAlpha + background.r * bgAlpha * (1.0 - fgAlpha)) /\n      outAlpha,\n    g:\n      (foreground.g * fgAlpha + background.g * bgAlpha * (1.0 - fgAlpha)) /\n      outAlpha,\n    b:\n      (foreground.b * fgAlpha + background.b * bgAlpha * (1.0 - fgAlpha)) /\n      outAlpha,\n    a: 255 * outAlpha,\n  };\n\n  return {\n    r: toU8(unrounded.r),\n    g: toU8(unrounded.g),\n    b: toU8(unrounded.b),\n    a: toU8(unrounded.a),\n  };\n}\n\nfunction getSvgTextDimensionCacheKey(\n  text: string,\n  fontFamily: string,\n  fontSizePx: number\n): string {\n  if (text.includes(SVG_TEXT_DIMENSION_CACHE_KEY_SEPARATOR)) {\n    throw new Error(\n      \"Text cannot include SVG_TEXT_DIMENSION_CACHE_KEY_SEPARATOR. Text: \" +\n        JSON.stringify(text)\n    );\n  }\n\n  return `${fontSizePx} ${text}${SVG_TEXT_DIMENSION_CACHE_KEY_SEPARATOR}${fontFamily}`;\n}\n\nfunction willHeroKillEnemyAtIndexAssumingEnemiesCannotSummon(\n  ibec: ImmutableBlockExecutionContext,\n  enemyIndex: number\n): boolean {\n  const enemyKind = ibec.levelState.squares[enemyIndex].kind;\n\n  if (enemyKind === SquareKind.Empty || enemyKind === SquareKind.Hero) {\n    throw new Error(\n      `Illegal enemyIndex passed to willHeroKillEnemyAtIndexAssumingEnemiesCannotSummon: ${enemyIndex}. The square at ${enemyIndex} contains ${enemyKind}.`\n    );\n  }\n\n  const mbec = cloneBlockExecutionContext(ibec);\n\n  while (\n    mbec.gas > 0 &&\n    mbec.stack.length > 0 &&\n    isBattleStillOngoing(mbec.levelState)\n  ) {\n    evalAndPopTopStackBlock(mbec, false);\n\n    if (mbec.levelState.squares[enemyIndex].kind !== enemyKind) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction cloneBlockExecutionContext(\n  ibec: ImmutableBlockExecutionContext\n): MutableBlockExecutionContext {\n  return {\n    gas: ibec.gas,\n    stack: ibec.stack.slice(),\n    levelState: ibec.levelState,\n    events: ibec.events.slice(),\n  };\n}\n\nfunction isBattleStillOngoing(levelState: LevelState): boolean {\n  const heroIndex = getHeroIndex(levelState);\n\n  if (heroIndex === -1) {\n    return false;\n  }\n\n  if ((levelState.squares[heroIndex] as HeroSquareState).health <= 0) {\n    return false;\n  }\n\n  if (heroIndex === levelState.squares.length - 1) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction addFailLevelEventIfNotAlreadyPresent(events: BattleEvent[]): void {\n  if (events.some((e) => e.kind === BattleEventKind.FailLevel)) {\n    return;\n  }\n\n  events.push({ kind: BattleEventKind.FailLevel });\n}\n\nfunction renderCastleSquareOccupant({\n  square,\n  squareIndex,\n  backgroundImageTop,\n  backgroundImageScale,\n  elapsedSeconds,\n  battleAnimationData,\n}: {\n  readonly square: SquareState;\n  readonly squareIndex: number;\n  readonly backgroundImageTop: number;\n  readonly backgroundImageScale: number;\n  readonly elapsedSeconds: number;\n  readonly battleAnimationData: BattleAnimationData;\n}): CanvasElement {\n  const {\n    advanceHealthChanges,\n    characterDisplacements,\n    displayHeroHealingAnimation,\n    witchAnimationFrame,\n    battleStatus,\n    damageOverlayAlphas,\n    squareOccupantAlphas,\n  } = battleAnimationData;\n\n  if (square.kind === SquareKind.Empty) {\n    return NULL_CANVAS_ELEMENT;\n  }\n\n  if (square.kind === SquareKind.Hero) {\n    if (square.health <= 0 || battleStatus !== BattleStatus.InProgress) {\n      return NULL_CANVAS_ELEMENT;\n    }\n\n    const healthTextSizePx =\n      SIZING.unscaledHealthTextSizePx * backgroundImageScale;\n\n    return {\n      kind: CanvasElementKind.Group,\n      alpha: squareOccupantAlphas[squareIndex],\n      children: [\n        {\n          kind: CanvasElementKind.Image,\n          source: images.heart_mark,\n          dx:\n            (110 + squareIndex * 150 + characterDisplacements[squareIndex].x) *\n            backgroundImageScale,\n          dy:\n            backgroundImageTop +\n            (552 + characterDisplacements[squareIndex].y) *\n              backgroundImageScale,\n          dw: 60 * backgroundImageScale,\n          dh:\n            60 *\n            backgroundImageScale *\n            (images.heart_mark.naturalHeight / images.heart_mark.naturalWidth),\n        },\n\n        {\n          kind: CanvasElementKind.Text,\n          text: String(\n            Math.max(0, square.health + advanceHealthChanges[squareIndex])\n          ),\n          x:\n            (118 + squareIndex * 150 + characterDisplacements[squareIndex].x) *\n            backgroundImageScale,\n          y:\n            backgroundImageTop +\n            (591 + characterDisplacements[squareIndex].y) *\n              backgroundImageScale,\n          fill: displayHeroHealingAnimation\n            ? periodicColorSinInterp(\n                { r: 128, g: 0, b: 0, a: 255 },\n                { r: 255, g: 128, b: 128, a: 255 },\n                elapsedSeconds,\n                3\n              )\n            : COLOR_THEME.heartMarkRed,\n          fontWeight: 900,\n          fontSize: healthTextSizePx,\n          fontFamily: HEALTH_TEXT_FONT_FAMILY,\n          textBaseline: \"middle\",\n          textAlign: \"right\",\n        },\n\n        {\n          kind: CanvasElementKind.Image,\n          source: images.hero,\n          dx:\n            (40 + squareIndex * 150 + characterDisplacements[squareIndex].x) *\n            backgroundImageScale,\n          dy:\n            backgroundImageTop +\n            (615 + characterDisplacements[squareIndex].y) *\n              backgroundImageScale,\n          dw: 150 * backgroundImageScale,\n          dh:\n            150 *\n            backgroundImageScale *\n            (images.hero.naturalHeight / images.hero.naturalWidth),\n        },\n\n        {\n          kind: CanvasElementKind.Group,\n          alpha: damageOverlayAlphas[squareIndex],\n          children: [\n            {\n              kind: CanvasElementKind.Image,\n              source: damageOverlays.heart_mark,\n              dx:\n                (110 +\n                  squareIndex * 150 +\n                  characterDisplacements[squareIndex].x) *\n                backgroundImageScale,\n              dy:\n                backgroundImageTop +\n                (552 + characterDisplacements[squareIndex].y) *\n                  backgroundImageScale,\n              dw: 60 * backgroundImageScale,\n              dh:\n                60 *\n                backgroundImageScale *\n                (images.heart_mark.naturalHeight /\n                  images.heart_mark.naturalWidth),\n            },\n\n            {\n              kind: CanvasElementKind.Text,\n              text: String(\n                Math.max(0, square.health + advanceHealthChanges[squareIndex])\n              ),\n              x:\n                (118 +\n                  squareIndex * 150 +\n                  characterDisplacements[squareIndex].x) *\n                backgroundImageScale,\n              y:\n                backgroundImageTop +\n                (591 + characterDisplacements[squareIndex].y) *\n                  backgroundImageScale,\n              fill: displayHeroHealingAnimation\n                ? periodicColorSinInterp(\n                    { r: 128, g: 0, b: 0, a: 255 },\n                    { r: 255, g: 128, b: 128, a: 255 },\n                    elapsedSeconds,\n                    3\n                  )\n                : BLACK,\n              fontWeight: 900,\n              fontSize: healthTextSizePx,\n              fontFamily: HEALTH_TEXT_FONT_FAMILY,\n              textBaseline: \"middle\",\n              textAlign: \"right\",\n            },\n\n            {\n              kind: CanvasElementKind.Image,\n              source: damageOverlays.hero,\n              dx:\n                (40 +\n                  squareIndex * 150 +\n                  characterDisplacements[squareIndex].x) *\n                backgroundImageScale,\n              dy:\n                backgroundImageTop +\n                (615 + characterDisplacements[squareIndex].y) *\n                  backgroundImageScale,\n              dw: 150 * backgroundImageScale,\n              dh:\n                150 *\n                backgroundImageScale *\n                (images.hero.naturalHeight / images.hero.naturalWidth),\n            },\n          ],\n        },\n      ],\n    };\n  }\n\n  if (square.kind === SquareKind.Goblin) {\n    const healthTextSizePx =\n      SIZING.unscaledHealthTextSizePx * backgroundImageScale;\n    return {\n      kind: CanvasElementKind.Group,\n      alpha: squareOccupantAlphas[squareIndex],\n      children: [\n        {\n          kind: CanvasElementKind.Image,\n          source: images.heart_mark,\n          dx:\n            (110 + squareIndex * 150 + characterDisplacements[squareIndex].x) *\n            backgroundImageScale,\n          dy: backgroundImageTop + 552 * backgroundImageScale,\n          dw: 60 * backgroundImageScale,\n          dh:\n            60 *\n            backgroundImageScale *\n            (images.heart_mark.naturalHeight / images.heart_mark.naturalWidth),\n        },\n\n        {\n          kind: CanvasElementKind.Text,\n          text: String(\n            Math.max(0, square.health + advanceHealthChanges[squareIndex])\n          ),\n          x:\n            (118 + squareIndex * 150 + characterDisplacements[squareIndex].x) *\n            backgroundImageScale,\n          y: backgroundImageTop + 591 * backgroundImageScale,\n          fill: COLOR_THEME.heartMarkRed,\n          fontWeight: 900,\n          fontSize: healthTextSizePx,\n          fontFamily: HEALTH_TEXT_FONT_FAMILY,\n          textBaseline: \"middle\",\n          textAlign: \"right\",\n        },\n\n        {\n          kind: CanvasElementKind.Image,\n          source: images.goblin,\n          dx:\n            (40 + squareIndex * 150 + characterDisplacements[squareIndex].x) *\n            backgroundImageScale,\n          dy: backgroundImageTop + 615 * backgroundImageScale,\n          dw: 150 * backgroundImageScale,\n          dh:\n            150 *\n            backgroundImageScale *\n            (images.goblin.naturalHeight / images.goblin.naturalWidth),\n        },\n\n        {\n          kind: CanvasElementKind.Group,\n          alpha: damageOverlayAlphas[squareIndex],\n          children: [\n            {\n              kind: CanvasElementKind.Image,\n              source: damageOverlays.heart_mark,\n              dx:\n                (110 +\n                  squareIndex * 150 +\n                  characterDisplacements[squareIndex].x) *\n                backgroundImageScale,\n              dy: backgroundImageTop + 552 * backgroundImageScale,\n              dw: 60 * backgroundImageScale,\n              dh:\n                60 *\n                backgroundImageScale *\n                (images.heart_mark.naturalHeight /\n                  images.heart_mark.naturalWidth),\n            },\n            {\n              kind: CanvasElementKind.Text,\n              text: String(\n                Math.max(0, square.health + advanceHealthChanges[squareIndex])\n              ),\n              x:\n                (118 +\n                  squareIndex * 150 +\n                  characterDisplacements[squareIndex].x) *\n                backgroundImageScale,\n              y: backgroundImageTop + 591 * backgroundImageScale,\n              fill: BLACK,\n              fontWeight: 900,\n              fontSize: healthTextSizePx,\n              fontFamily: HEALTH_TEXT_FONT_FAMILY,\n              textBaseline: \"middle\",\n              textAlign: \"right\",\n            },\n            {\n              kind: CanvasElementKind.Image,\n              source: damageOverlays.goblin,\n              dx:\n                (40 +\n                  squareIndex * 150 +\n                  characterDisplacements[squareIndex].x) *\n                backgroundImageScale,\n              dy: backgroundImageTop + 615 * backgroundImageScale,\n              dw: 150 * backgroundImageScale,\n              dh:\n                150 *\n                backgroundImageScale *\n                (images.goblin.naturalHeight / images.goblin.naturalWidth),\n            },\n          ],\n        },\n      ],\n    };\n  }\n\n  if (square.kind === SquareKind.GiantGoblin) {\n    const healthTextSizePx =\n      SIZING.unscaledHealthTextSizePx * backgroundImageScale;\n    return {\n      kind: CanvasElementKind.Group,\n      alpha: squareOccupantAlphas[squareIndex],\n      children: [\n        {\n          kind: CanvasElementKind.Image,\n          source: images.heart_mark,\n          dx:\n            (110 + squareIndex * 150 + characterDisplacements[squareIndex].x) *\n            backgroundImageScale,\n          dy: backgroundImageTop + 452 * backgroundImageScale,\n          dw: 60 * backgroundImageScale,\n          dh:\n            60 *\n            backgroundImageScale *\n            (images.heart_mark.naturalHeight / images.heart_mark.naturalWidth),\n        },\n\n        {\n          kind: CanvasElementKind.Text,\n          text: String(\n            Math.max(0, square.health + advanceHealthChanges[squareIndex])\n          ),\n          x:\n            (118 + squareIndex * 150 + characterDisplacements[squareIndex].x) *\n            backgroundImageScale,\n          y: backgroundImageTop + 491 * backgroundImageScale,\n          fill: COLOR_THEME.heartMarkRed,\n          fontWeight: 900,\n          fontSize: healthTextSizePx,\n          fontFamily: HEALTH_TEXT_FONT_FAMILY,\n          textBaseline: \"middle\",\n          textAlign: \"right\",\n        },\n\n        {\n          kind: CanvasElementKind.Image,\n          source: images.goblin,\n          dx:\n            (0 + squareIndex * 150 + characterDisplacements[squareIndex].x) *\n            backgroundImageScale,\n          dy: backgroundImageTop + 500 * backgroundImageScale,\n          dw: 250 * backgroundImageScale,\n          dh:\n            250 *\n            backgroundImageScale *\n            (images.goblin.naturalHeight / images.goblin.naturalWidth),\n        },\n\n        {\n          kind: CanvasElementKind.Group,\n          alpha: damageOverlayAlphas[squareIndex],\n          children: [\n            {\n              kind: CanvasElementKind.Image,\n              source: damageOverlays.heart_mark,\n              dx:\n                (110 +\n                  squareIndex * 150 +\n                  characterDisplacements[squareIndex].x) *\n                backgroundImageScale,\n              dy: backgroundImageTop + 452 * backgroundImageScale,\n              dw: 60 * backgroundImageScale,\n              dh:\n                60 *\n                backgroundImageScale *\n                (images.heart_mark.naturalHeight /\n                  images.heart_mark.naturalWidth),\n            },\n            {\n              kind: CanvasElementKind.Text,\n              text: String(\n                Math.max(0, square.health + advanceHealthChanges[squareIndex])\n              ),\n              x:\n                (118 +\n                  squareIndex * 150 +\n                  characterDisplacements[squareIndex].x) *\n                backgroundImageScale,\n              y: backgroundImageTop + 491 * backgroundImageScale,\n              fill: BLACK,\n              fontWeight: 900,\n              fontSize: healthTextSizePx,\n              fontFamily: HEALTH_TEXT_FONT_FAMILY,\n              textBaseline: \"middle\",\n              textAlign: \"right\",\n            },\n            {\n              kind: CanvasElementKind.Image,\n              source: damageOverlays.goblin,\n              dx:\n                (0 +\n                  squareIndex * 150 +\n                  characterDisplacements[squareIndex].x) *\n                backgroundImageScale,\n              dy: backgroundImageTop + 500 * backgroundImageScale,\n              dw: 250 * backgroundImageScale,\n              dh:\n                250 *\n                backgroundImageScale *\n                (images.goblin.naturalHeight / images.goblin.naturalWidth),\n            },\n          ],\n        },\n      ],\n    };\n  }\n\n  if (square.kind === SquareKind.Witch) {\n    const healthTextSizePx =\n      SIZING.unscaledHealthTextSizePx * backgroundImageScale;\n\n    const witchImage: HTMLImageElement = [\n      images.witch_idle,\n      images.witch_wand_raised,\n      images.witch_wand_lowered,\n      images.witch_idle,\n    ][witchAnimationFrame];\n\n    return {\n      kind: CanvasElementKind.Group,\n      alpha: squareOccupantAlphas[squareIndex],\n      children: [\n        {\n          kind: CanvasElementKind.Image,\n          source: images.heart_mark,\n          dx:\n            (110 + squareIndex * 150 + characterDisplacements[squareIndex].x) *\n            backgroundImageScale,\n          dy: backgroundImageTop + 552 * backgroundImageScale,\n          dw: 60 * backgroundImageScale,\n          dh:\n            60 *\n            backgroundImageScale *\n            (images.heart_mark.naturalHeight / images.heart_mark.naturalWidth),\n        },\n\n        {\n          kind: CanvasElementKind.Text,\n          text: String(\n            Math.max(0, square.health + advanceHealthChanges[squareIndex])\n          ),\n          x:\n            (118 + squareIndex * 150 + characterDisplacements[squareIndex].x) *\n            backgroundImageScale,\n          y: backgroundImageTop + 591 * backgroundImageScale,\n          fill: COLOR_THEME.heartMarkRed,\n          fontWeight: 900,\n          fontSize: healthTextSizePx,\n          fontFamily: HEALTH_TEXT_FONT_FAMILY,\n          textBaseline: \"middle\",\n          textAlign: \"right\",\n        },\n\n        {\n          kind: CanvasElementKind.Image,\n          source: witchImage,\n          dx:\n            (40 + squareIndex * 150 + characterDisplacements[squareIndex].x) *\n            backgroundImageScale,\n          dy: backgroundImageTop + 615 * backgroundImageScale,\n          dw: 150 * backgroundImageScale,\n          dh:\n            150 *\n            backgroundImageScale *\n            (witchImage.naturalHeight / witchImage.naturalWidth),\n        },\n\n        witchImage !== images.witch_idle\n          ? NULL_CANVAS_ELEMENT\n          : {\n              kind: CanvasElementKind.Group,\n              alpha: damageOverlayAlphas[squareIndex],\n              children: [\n                {\n                  kind: CanvasElementKind.Image,\n                  source: damageOverlays.heart_mark,\n                  dx:\n                    (110 +\n                      squareIndex * 150 +\n                      characterDisplacements[squareIndex].x) *\n                    backgroundImageScale,\n                  dy: backgroundImageTop + 552 * backgroundImageScale,\n                  dw: 60 * backgroundImageScale,\n                  dh:\n                    60 *\n                    backgroundImageScale *\n                    (images.heart_mark.naturalHeight /\n                      images.heart_mark.naturalWidth),\n                },\n                {\n                  kind: CanvasElementKind.Text,\n                  text: String(\n                    Math.max(\n                      0,\n                      square.health + advanceHealthChanges[squareIndex]\n                    )\n                  ),\n                  x:\n                    (118 +\n                      squareIndex * 150 +\n                      characterDisplacements[squareIndex].x) *\n                    backgroundImageScale,\n                  y: backgroundImageTop + 591 * backgroundImageScale,\n                  fill: BLACK,\n                  fontWeight: 900,\n                  fontSize: healthTextSizePx,\n                  fontFamily: HEALTH_TEXT_FONT_FAMILY,\n                  textBaseline: \"middle\",\n                  textAlign: \"right\",\n                },\n                {\n                  kind: CanvasElementKind.Image,\n                  source: damageOverlays.witch_idle,\n                  dx:\n                    (40 +\n                      squareIndex * 150 +\n                      characterDisplacements[squareIndex].x) *\n                    backgroundImageScale,\n                  dy: backgroundImageTop + 615 * backgroundImageScale,\n                  dw: 150 * backgroundImageScale,\n                  dh:\n                    150 *\n                    backgroundImageScale *\n                    (witchImage.naturalHeight / witchImage.naturalWidth),\n                },\n              ],\n            },\n      ],\n    };\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const exhaustivenessCheck: never = square;\n  return exhaustivenessCheck;\n}\n\nfunction sum(nums: readonly number[]): number {\n  let total = 0;\n  for (const n of nums) {\n    total += n;\n  }\n  return total;\n}\n\nfunction getRectCenter(r: Rectangle): Vec2 {\n  return {\n    x: r.topLeft.x + 0.5 * r.dimensions.width,\n    y: r.topLeft.y + 0.5 * r.dimensions.height,\n  };\n}\n\nfunction didHeroDefeatAllEnemiesButForgetToMoveToStairs(\n  levelState: LevelState,\n  hasFailLevelEventBeenEmitted: boolean\n): boolean {\n  const heroIndex = getHeroIndex(levelState);\n  if (heroIndex === -1) {\n    return false;\n  }\n\n  const { squares } = levelState;\n\n  return (\n    (squares[heroIndex] as HeroSquareState).health > 0 &&\n    squares\n      .slice(heroIndex + 1)\n      .every((square) => square.kind === SquareKind.Empty) &&\n    hasFailLevelEventBeenEmitted\n  );\n}\n\nfunction didHeroSurviveLevelButFailToReachStairs(\n  levelState: LevelState,\n  hasFailLevelEventBeenEmitted: boolean\n): boolean {\n  const heroIndex = getHeroIndex(levelState);\n  if (heroIndex === -1) {\n    return false;\n  }\n\n  const { squares } = levelState;\n\n  return (\n    (squares[heroIndex] as HeroSquareState).health > 0 &&\n    hasFailLevelEventBeenEmitted\n  );\n}\n\nfunction containsEnemy(square: SquareState): boolean {\n  return [SquareKind.Goblin, SquareKind.GiantGoblin, SquareKind.Witch].includes(\n    square.kind\n  );\n}\n\nfunction getEnemyCombinationKindOfEnemiesInitiallyBlockingHeroFromStairs(\n  level: Level\n): \"NoEnemies\" | EnemyCombinationKind {\n  const initialLevelState = getInitialLevelState(level);\n  const enemiesInitiallyBetweenHeroAndStairs = initialLevelState.squares\n    .slice(getHeroIndex(initialLevelState) + 1)\n    .filter(containsEnemy);\n\n  if (enemiesInitiallyBetweenHeroAndStairs.length === 0) {\n    return \"NoEnemies\";\n  }\n\n  const everyInitialEnemyWasGoblinOrGiantGoblin =\n    enemiesInitiallyBetweenHeroAndStairs.every((square) =>\n      [SquareKind.Goblin, SquareKind.GiantGoblin].includes(square.kind)\n    );\n  const everyInitialEnemyWasWitch = enemiesInitiallyBetweenHeroAndStairs.every(\n    (square) => [SquareKind.Witch].includes(square.kind)\n  );\n\n  if (\n    everyInitialEnemyWasGoblinOrGiantGoblin &&\n    enemiesInitiallyBetweenHeroAndStairs.length === 1\n  ) {\n    return EnemyCombinationKind.SingleGoblin;\n  }\n\n  if (\n    everyInitialEnemyWasGoblinOrGiantGoblin &&\n    enemiesInitiallyBetweenHeroAndStairs.length >= 2\n  ) {\n    return EnemyCombinationKind.MultipleGoblins;\n  }\n\n  if (\n    everyInitialEnemyWasWitch &&\n    enemiesInitiallyBetweenHeroAndStairs.length === 1\n  ) {\n    return EnemyCombinationKind.SingleWitch;\n  }\n\n  throw new Error(\"Impossible enemy combination kind for level \" + level);\n}\n\nfunction performPreflightSanityCheckIfNotAlreadyPerformed(): void {\n  if (hasPerformedPreflightSanityCheck) {\n    return;\n  }\n\n  performPreflightSanityCheck();\n\n  console.log(\"Finished preflight sanity check.\");\n  hasPerformedPreflightSanityCheck = true;\n}\n\nfunction performPreflightSanityCheck(): void {\n  performEnemyCombinationSanityCheckOnAllLevels();\n}\n\nfunction performEnemyCombinationSanityCheckOnAllLevels(): void {\n  for (let level = Level.Level1; level <= LAST_LEVEL; ++level) {\n    // This will throw if the level has a supposedly impossible enemy combination.\n    getEnemyCombinationKindOfEnemiesInitiallyBlockingHeroFromStairs(level);\n  }\n}\n","import { Preferences } from \"@capacitor/preferences\";\n\nexport function saveData(key: string, value: string): Promise<void> {\n  localStorage.setItem(key, value);\n  return Preferences.set({ key, value });\n}\n\nexport function loadData(key: string): Promise<null | string> {\n  return Preferences.get({ key }).then((res) => res.value);\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config): void {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://cra.link/PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config): void {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = (): void => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = (): void => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller !== null) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://cra.link/PWA.\"\n              );\n\n              // Execute callback\n              if (config !== undefined && config.onUpdate !== undefined) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config !== undefined && config.onSuccess !== undefined) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config): void {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister(): void {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler): void => {\n  if (onPerfEntry !== undefined && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport { App } from \"./App\";\nimport * as serviceWorkerRegistration from \"./serviceWorkerRegistration\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { GAME_VERSION } from \"./GAME_VERSION\";\n\nconst root = ReactDOM.createRoot(\n  document.getElementById(\"Root\") as HTMLElement\n);\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\nconsole.log(`Castle Coders v${GAME_VERSION}`);\n"],"names":["CapacitorPlatforms","win","defaultPlatformMap","Map","set","name","capPlatforms","currentPlatform","platforms","addPlatform","platform","setPlatform","has","get","createCapacitorPlatforms","initPlatforms","globalThis","self","window","global","ExceptionCode","CapacitorException","Error","constructor","message","code","data","super","this","createCapacitor","_a","_b","_c","_d","_e","capCustomPlatform","CapacitorCustomPlatform","cap","Capacitor","Plugins","getPlatform","defaultGetPlatform","androidBridge","webkit","messageHandlers","bridge","getPlatformId","isNativePlatform","defaultIsNativePlatform","isPluginAvailable","pluginName","plugin","registeredPlugins","getPluginHeader","PluginHeaders","find","h","registerPlugin","jsImplementations","arguments","length","undefined","registeredPlugin","console","warn","concat","proxy","pluginHeader","jsImplementation","createPluginMethodWrapper","prop","remove","wrapper","_len","args","Array","_key","p","async","loadPluginImplementation","then","impl","fn","createPluginMethod","bind","Unimplemented","methodHeader","methods","m","rtype","options","nativePromise","toString","callback","nativeCallback","Object","defineProperty","value","writable","configurable","addListener","removeListener","addListenerNative","eventName","call","callbackId","Promise","resolve","Proxy","_","Set","keys","convertFileSrc","filePath","handleError","err","error","pluginMethodNoop","_target","reject","Exception","DEBUG","isLoggingEnabled","isNative","initCapacitorGlobal","WebPlugin","config","listeners","retainedEventArguments","windowListeners","listenerFunc","firstListener","push","windowListener","registered","addWindowListener","sendRetainedArgumentsForEvent","removeAllListeners","listener","removeWindowListener","notifyListeners","retainUntilConsumed","forEach","hasListeners","registerWindowListener","windowEventName","pluginEventName","handler","event","unimplemented","msg","unavailable","Unavailable","index","indexOf","splice","handle","addEventListener","removeEventListener","arg","encode","str","encodeURIComponent","replace","decodeURIComponent","escape","decode","CapacitorCookiesPluginWeb","getCookies","cookies","document","cookie","cookieMap","split","key","trim","setCookie","encodedKey","encodedValue","expires","path","domain","url","deleteCookie","clearCookies","Date","toUTCString","clearAllCookies","web","buildRequestInit","extra","output","assign","method","headers","originalKeys","map","k","toLocaleLowerCase","reduce","acc","normalizeHttpHeaders","type","body","includes","params","URLSearchParams","entries","FormData","form","append","Headers","delete","JSON","stringify","CapacitorHttpPluginWeb","request","requestInit","webFetchExtra","urlParams","shouldEncode","accumulator","entry","item","isArray","slice","substr","buildUrlParams","shouldEncodeUrlParams","response","fetch","contentType","blob","responseType","ok","reader","FileReader","onload","base64String","result","onerror","readAsDataURL","readBlobAsBase64","json","text","status","post","put","patch","HowlerGlobal","init","prototype","Howler","_counter","_html5AudioPool","html5PoolSize","_codecs","_howls","_muted","_volume","_canPlayEvent","_navigator","navigator","masterGain","noAudio","usingWebAudio","autoSuspend","ctx","autoUnlock","_setup","volume","vol","parseFloat","setupAudioContext","gain","setValueAtTime","currentTime","i","_webAudio","ids","_getSoundIds","j","sound","_soundById","_node","mute","muted","stop","unload","close","codecs","ext","state","_autoSuspend","Audio","oncanplaythrough","e","_setupCodecs","audioTest","canPlayType","mpegTest","ua","userAgent","checkOpera","match","isOldOpera","parseInt","checkSafari","safariVersion","isOldSafari","mp3","mpeg","opus","ogg","oga","wav","aac","caf","m4a","m4b","mp4","weba","webm","dolby","flac","_unlockAudio","_audioUnlocked","_mobileUnloaded","sampleRate","_scratchBuffer","createBuffer","unlock","audioNode","_unlocked","_releaseHtml5Audio","load","_autoResume","source","createBufferSource","buffer","connect","destination","start","noteOn","resume","onended","disconnect","_emit","_obtainHtml5Audio","pop","testPlay","play","catch","audio","suspend","_sounds","_paused","_suspendTimer","clearTimeout","setTimeout","handleSuspension","_resumeAfterSuspend","Howl","o","src","_autoplay","autoplay","_format","format","_html5","html5","_loop","loop","_pool","pool","_preload","preload","_rate","rate","_sprite","sprite","_src","_xhr","xhr","withCredentials","_duration","_state","_endTimers","_queue","_playLock","_onend","onend","_onfade","onfade","_onload","_onloaderror","onloaderror","_onplayerror","onplayerror","_onpause","onpause","_onplay","onplay","_onstop","onstop","_onmute","onmute","_onvolume","onvolume","_onrate","onrate","_onseek","onseek","_onunlock","onunlock","_onresume","action","exec","toLowerCase","location","protocol","Sound","loadBuffer","internal","id","num","_ended","_id","_inactiveSound","soundId","_loadQueue","seek","Math","max","_seek","duration","timeout","abs","setParams","_start","_stop","node","playWebAudio","_refreshBuffer","_playStart","bufferSource","noteGrainOn","Infinity","once","_clearTimer","playHtml5","playbackRate","paused","loadedNoReadyState","ejecta","readyState","isCocoonJS","pause","_rateSeek","_stopFade","noteOff","_cleanBuffer","isNaN","_clearSound","_interval","apply","fade","from","to","len","min","end","linearRampToValueAtTime","_startFadeInterval","isGroup","diff","steps","stepLen","lastTick","now","_fadeTo","setInterval","tick","round","clearInterval","cancelScheduledValues","loopStart","loopEnd","playing","realTime","rateSeek","seekAndEmit","emitSeek","sounds","_errorFn","_loadFn","_endFn","remCache","cache","on","events","off","isId","task","shift","ended","_drain","reset","limit","cnt","_panner","isIOS","vendor","test","howl","_parent","parent","create","createGain","createGainNode","_errorListener","_loadListener","_endListener","ceil","__default","loadSound","atob","dataView","Uint8Array","charCodeAt","decodeAudioData","XMLHttpRequest","open","setRequestHeader","safeXhrSend","send","arraybuffer","success","AudioContext","webkitAudioContext","iOS","appVersion","version","safari","exports","_super","_pos","_orientation","stereo","pan","pos","x","y","z","positionX","setTargetAtTime","positionY","positionZ","setPosition","orientation","xUp","yUp","zUp","or","forwardX","forwardY","forwardZ","upX","upY","upZ","setOrientation","_stereo","_pannerAttr","coneInnerAngle","coneOuterAngle","coneOuterGain","distanceModel","maxDistance","panningModel","refDistance","rolloffFactor","_onstereo","onstereo","_onpos","onpos","_onorientation","onorientation","pannerType","createStereoPanner","setupPanner","orientationX","orientationY","orientationZ","pannerAttr","_coneInnerAngle","_coneOuterAngle","_coneOuterGain","_distanceModel","_maxDistance","_refDistance","_rolloffFactor","_panningModel","pa","panner","createPanner","aa","require","ca","a","b","c","da","ea","fa","ha","add","ia","createElement","ja","hasOwnProperty","ka","la","ma","v","d","f","g","acceptsBooleans","attributeName","attributeNamespace","mustUseProperty","propertyName","sanitizeURL","removeEmptyString","ra","sa","toUpperCase","ta","qa","oa","removeAttribute","setAttribute","setAttributeNS","xlinkHref","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","va","Symbol","for","wa","ya","za","Aa","Ba","Ca","Da","Ea","Fa","Ga","Ha","Ia","Ja","iterator","Ka","La","A","Ma","stack","Na","Oa","prepareStackTrace","Reflect","construct","l","displayName","Pa","tag","render","Qa","$$typeof","_context","_payload","_init","Ra","Sa","Ta","nodeName","Va","_valueTracker","getOwnPropertyDescriptor","enumerable","getValue","setValue","stopTracking","Ua","Wa","checked","Xa","activeElement","Ya","defaultChecked","defaultValue","_wrapperState","initialChecked","Za","initialValue","controlled","ab","bb","cb","db","ownerDocument","eb","fb","selected","defaultSelected","disabled","gb","dangerouslySetInnerHTML","children","hb","ib","jb","textContent","kb","lb","mb","nb","namespaceURI","innerHTML","valueOf","firstChild","removeChild","appendChild","MSApp","execUnsafeLocalFunction","ob","lastChild","nodeType","nodeValue","pb","animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","qb","rb","sb","style","setProperty","charAt","substring","tb","menuitem","area","base","br","col","embed","hr","img","input","keygen","link","meta","param","track","wbr","ub","vb","is","wb","xb","target","srcElement","correspondingUseElement","parentNode","yb","zb","Ab","Bb","Cb","stateNode","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","Nb","onError","Ob","Pb","Qb","Rb","Sb","Tb","Vb","alternate","return","flags","Wb","memoizedState","dehydrated","Xb","Zb","child","sibling","current","Yb","$b","ac","unstable_scheduleCallback","bc","unstable_cancelCallback","cc","unstable_shouldYield","dc","unstable_requestPaint","B","unstable_now","ec","unstable_getCurrentPriorityLevel","fc","unstable_ImmediatePriority","gc","unstable_UserBlockingPriority","hc","unstable_NormalPriority","ic","unstable_LowPriority","jc","unstable_IdlePriority","kc","lc","oc","clz32","pc","qc","log","LN2","rc","sc","tc","uc","pendingLanes","suspendedLanes","pingedLanes","entangledLanes","entanglements","vc","xc","yc","zc","Ac","eventTimes","Cc","C","Dc","Ec","Fc","Gc","Hc","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Pc","Qc","Rc","Sc","pointerId","Tc","nativeEvent","blockedOn","domEventName","eventSystemFlags","targetContainers","Vc","Wc","priority","isDehydrated","containerInfo","Xc","Yc","dispatchEvent","Zc","$c","ad","bd","cd","ReactCurrentBatchConfig","dd","ed","transition","fd","gd","hd","Uc","stopPropagation","jd","kd","ld","md","nd","od","keyCode","charCode","pd","qd","rd","_reactName","_targetInst","currentTarget","isDefaultPrevented","defaultPrevented","returnValue","isPropagationStopped","preventDefault","cancelBubble","persist","isPersistent","wd","xd","yd","sd","eventPhase","bubbles","cancelable","timeStamp","isTrusted","td","ud","view","detail","vd","Ad","screenX","screenY","clientX","clientY","pageX","pageY","ctrlKey","shiftKey","altKey","metaKey","getModifierState","zd","button","buttons","relatedTarget","fromElement","toElement","movementX","movementY","Bd","Dd","dataTransfer","Fd","Hd","animationName","elapsedTime","pseudoElement","Id","clipboardData","Jd","Ld","Md","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","Nd","Od","Alt","Control","Meta","Shift","Pd","Qd","String","fromCharCode","repeat","locale","which","Rd","Td","width","height","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","Vd","touches","targetTouches","changedTouches","Xd","Yd","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","Zd","$d","ae","be","documentMode","ce","de","ee","fe","ge","he","ie","le","color","date","datetime","email","month","number","password","range","search","tel","time","week","me","ne","oe","pe","qe","re","se","te","ue","ve","we","xe","ye","ze","oninput","Ae","detachEvent","Be","Ce","attachEvent","De","Ee","Fe","He","Ie","Je","Ke","offset","nextSibling","Le","contains","compareDocumentPosition","Me","HTMLIFrameElement","contentWindow","href","Ne","contentEditable","Oe","focusedElem","selectionRange","documentElement","selectionStart","selectionEnd","defaultView","getSelection","extend","rangeCount","anchorNode","anchorOffset","focusNode","focusOffset","createRange","setStart","removeAllRanges","addRange","setEnd","element","left","scrollLeft","top","scrollTop","focus","Pe","Qe","Re","Se","Te","Ue","Ve","We","animationend","animationiteration","animationstart","transitionend","Xe","Ye","Ze","animation","$e","af","bf","cf","df","ef","ff","gf","hf","lf","mf","nf","Ub","instance","D","of","pf","qf","rf","random","sf","capture","passive","n","t","J","u","w","F","tf","uf","parentWindow","vf","wf","na","xa","$a","ba","je","char","ke","unshift","xf","yf","zf","Af","Bf","Cf","Df","Ef","__html","Ff","Gf","Hf","Jf","queueMicrotask","If","Kf","Lf","Mf","previousSibling","Nf","Of","Pf","Qf","Rf","Sf","Tf","Uf","E","G","Vf","H","Wf","Xf","Yf","contextTypes","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","Zf","childContextTypes","$f","ag","bg","getChildContext","cg","__reactInternalMemoizedMergedChildContext","dg","eg","fg","gg","hg","jg","kg","lg","mg","ng","og","pg","qg","rg","sg","tg","ug","vg","wg","xg","yg","I","zg","Ag","Bg","elementType","deletions","Cg","pendingProps","overflow","treeContext","retryLane","Dg","mode","Eg","Fg","Gg","memoizedProps","Hg","Ig","Jg","Kg","Lg","defaultProps","Mg","Ng","Og","Pg","Qg","Rg","_currentValue","Sg","childLanes","Tg","dependencies","firstContext","lanes","Ug","Vg","context","memoizedValue","next","Wg","Xg","Yg","interleaved","Zg","$g","ah","updateQueue","baseState","firstBaseUpdate","lastBaseUpdate","shared","pending","effects","bh","ch","eventTime","lane","payload","dh","K","eh","fh","gh","q","r","hh","ih","jh","Component","refs","kh","nh","isMounted","_reactInternals","enqueueSetState","L","lh","mh","enqueueReplaceState","enqueueForceUpdate","oh","shouldComponentUpdate","isPureReactComponent","ph","contextType","updater","qh","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","rh","props","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","sh","ref","_owner","_stringRef","th","join","uh","vh","wh","xh","yh","implementation","zh","Ah","done","Bh","Ch","Dh","Eh","Fh","Gh","Hh","Ih","tagName","Jh","Kh","Lh","M","Mh","revealOrder","Nh","Oh","_workInProgressVersionPrimary","Ph","ReactCurrentDispatcher","Qh","Rh","N","O","P","Sh","Th","Uh","Vh","Q","Wh","Xh","Yh","Zh","$h","ai","bi","ci","baseQueue","queue","di","ei","fi","lastRenderedReducer","hasEagerState","eagerState","lastRenderedState","dispatch","gi","hi","ii","ji","ki","getSnapshot","li","mi","R","ni","lastEffect","stores","oi","pi","qi","ri","destroy","deps","si","ti","ui","vi","wi","xi","yi","zi","Ai","Bi","Ci","Di","Ei","Fi","Gi","Hi","Ii","Ji","readContext","useCallback","useContext","useEffect","useImperativeHandle","useInsertionEffect","useLayoutEffect","useMemo","useReducer","useRef","useState","useDebugValue","useDeferredValue","useTransition","useMutableSource","useSyncExternalStore","useId","unstable_isNewReconciler","identifierPrefix","Ki","digest","Li","Mi","Ni","WeakMap","Oi","Pi","Qi","Ri","getDerivedStateFromError","componentDidCatch","Si","componentStack","Ti","pingCache","Ui","Vi","Wi","Xi","ReactCurrentOwner","Yi","Zi","$i","aj","bj","compare","cj","dj","ej","baseLanes","cachePool","transitions","fj","gj","hj","ij","jj","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","kj","lj","pendingContext","mj","Aj","Bj","Cj","Dj","nj","oj","pj","fallback","qj","rj","tj","dataset","dgst","uj","vj","_reactRetry","sj","subtreeFlags","wj","xj","isBackwards","rendering","renderingStartTime","last","tail","tailMode","yj","Ej","S","Fj","Gj","wasMultiple","multiple","suppressHydrationWarning","onClick","onclick","size","createElementNS","autoFocus","createTextNode","T","Hj","Ij","Jj","Kj","U","Lj","WeakSet","V","Mj","W","Nj","Oj","Qj","Rj","Sj","Tj","Uj","Vj","Wj","insertBefore","_reactRootContainer","Xj","X","Yj","Zj","ak","onCommitFiberUnmount","componentWillUnmount","bk","ck","dk","ek","fk","isHidden","gk","hk","display","ik","jk","kk","lk","__reactInternalSnapshotBeforeUpdate","Wk","mk","nk","pk","Y","Z","qk","rk","sk","tk","uk","vk","wk","xk","yk","zk","Ak","Bk","Ck","Dk","Ek","callbackNode","expirationTimes","expiredLanes","wc","callbackPriority","ig","Fk","Gk","Hk","Ik","Jk","Kk","Lk","Mk","Nk","Ok","Pk","finishedWork","finishedLanes","Qk","timeoutHandle","Rk","Sk","Tk","Uk","Vk","mutableReadLanes","Bc","Pj","onCommitFiberRoot","mc","onRecoverableError","Xk","onPostCommitFiberRoot","Yk","Zk","al","isReactComponent","pendingChildren","bl","mutableSourceEagerHydrationData","cl","pendingSuspenseBoundaries","el","fl","gl","hl","il","jl","zj","$k","ll","reportError","ml","_internalRoot","nl","ol","pl","ql","sl","rl","unmount","unstable_scheduleHydration","querySelectorAll","tl","usingClientEntryPoint","Events","ul","findFiberByHostInstance","bundleType","rendererPackageName","vl","rendererConfig","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","setErrorHandler","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","reconcilerVersion","__REACT_DEVTOOLS_GLOBAL_HOOK__","wl","isDisabled","supportsFiber","inject","createPortal","dl","createRoot","unstable_strictMode","findDOMNode","flushSync","hydrate","hydrateRoot","hydratedSources","_getVersion","_source","unmountComponentAtNode","unstable_batchedUpdates","unstable_renderSubtreeIntoContainer","checkDCE","module","__self","__source","Fragment","jsx","jsxs","setState","forceUpdate","_status","_result","default","Children","count","toArray","only","Profiler","PureComponent","StrictMode","Suspense","cloneElement","createContext","_currentValue2","_threadCount","Provider","Consumer","_defaultValue","_globalName","createFactory","createRef","forwardRef","isValidElement","lazy","memo","startTransition","unstable_act","sortIndex","performance","setImmediate","startTime","expirationTime","priorityLevel","scheduling","isInputPending","MessageChannel","port2","port1","onmessage","postMessage","unstable_Profiling","unstable_continueExecution","unstable_forceFrameRate","floor","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","unstable_runWithPriority","delay","unstable_wrapCallback","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","chunkId","all","promises","miniCssF","Function","obj","inProgress","dataWebpackPrefix","script","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","nc","onScriptComplete","prev","doneFns","head","toStringTag","installedChunks","installedChunkData","promise","errorType","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","runtime","some","chunkLoadingGlobal","unsafeGenerateN","rng","out","idx","unsafeNext","generateN","nextRng","clone","unsafeSkipN","skipN","computeNextSeed","seed","computeValueFromNextSeed","nextseed","LinearCongruential32","s1","v1","s2","v2","getState","congruential32","fromState","__read","ar","__spreadArray","pack","MersenneTwister","states","mt","y_1","MASK_UPPER","MASK_LOWER","y_2","seeded","xored","imul","pow","XorShift128Plus","s01","s00","s11","s10","a0","a1","b0","b1","jump","unsafeJump","ns01","ns00","ns11","ns10","mask","xorshift128plus","XoroShiro128Plus","xoroshiro128plus","addArrayIntToNew","arrayIntA","arrayIntB","sign","substractArrayIntToNew","reminder","dataA","dataB","indexA","indexB","reverse","maxLength","vA","vB","isStrictlySmaller","trimArrayIntInplace","arrayInt","firstNonZero","fromNumberToArrayInt64","posN","unsafeUniformIntDistributionInternal","rangeSize","MaxAllowed","deltaV","unsafeUniformArrayIntDistributionInternal","rangeLength","currentInRange","unsafeUniformArrayIntDistribution","addOneToPositiveArrayInt","uniformArrayIntDistribution","SBigInt","BigInt","unsafeUniformBigIntDistribution","MinRng","NumValues","FinalNumValues","NumIterations","MaxAcceptedRandom","uniformBigIntDistribution","safeNumberMaxSafeInteger","Number","MAX_SAFE_INTEGER","sharedA","sharedB","sharedC","sharedData","unsafeUniformIntDistribution","rangeSizeArrayIntValue","lowA","highA","signA","lowB","highB","signB","low_1","high","lowFirst","highFirst","lowSecond","highSecond","reminderLow","low","substractArrayInt64","uniformLargeIntInternal","uniformIntDistribution","__type","__version","__commitHash","images","castle_interior","loadImage","goblin","hero","heart_mark","witch_idle","witch_wand_raised","witch_wand_lowered","extended_home_background","settings_box","language_dropdown_arrow","loading_screen_castle_coders_text","home","home_screen_start_button","shop","home_screen_shop_button","settings","home_screen_settings_button","puzzle","edit","puzzle_screen_edit_button","puzzle_screen_view_button","puzzle_screen_play_button","puzzle_screen_pause_button","puzzle_screen_home_button","language","language_button","credits","credits_button","reset_to_level_one","reset_to_level_one_button","settings_screen_close_button","tutorial","finger","short_instructions_box","tall_instructions_box","buttonOverlays","whiteOverlay","all_purpose","damageOverlays","redOverlay","loadingImg","getOverlay","NONEXTENDED_HOME_BACKGROUND_DIMENSIONS","MAIN_AREA_DIMENSIONS_IN_EXTENDED_HOME_COORDS","START_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS","topLeft","dimensions","SETTINGS_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS","JAPANESE_TEXT_BBOX_IN_EXTENDED_HOME_COORDS","SETTINGS_BOX_BBOX_IN_NONEXTENDED_HOME_COORDS","LANGUAGE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS","CREDITS_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS","RESET_TO_LEVEL_ONE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS","SETTINGS_SCREEN_CLOSE_BUTTON_BBOX_IN_NONEXTENDED_HOME_COORDS","LOADING_SCREEN_CASTLE_CODERS_TEXT_BBOX_IN_EXTENDED_HOME_COORDS","convertRectangleFromExtendedHomeCoordsToNonextendedHomeCoords","extended","Image","hasLoaded","ready","canvas","getContext","naturalWidth","naturalHeight","drawImage","imgData","getImageData","bytes","clearRect","putImageData","fonts","checkpoint","waitForFont","lato","notoSans","twemojiCountryFlags","fontFamily","pollForFont","fontSet","targetFont","values","font","family","loaded","requestAnimationFrame","addVec","subVec","invertY","scaleVec","cornerTangentDistance","sqrt","sideLength","legTangentOffsetY","legTangentOffsetX","DROPDOWN_ARROW","radius","TRASH_CAN","BlockDefKind","BlockSignaturePartKind","RenderSpecKind","UiTouchStateKind","BlockPartKind","CANVAS_ADDRESS_PART","PALETTE_ADDRESS_PART","DRAGGEE_ADDRESS_PART","ARG_DROPDOWN_ADDRESS_PART","ARG_EXPRESSION_ADDRESS_PART","ARG_COMMAND_SEQUENCE_ADDRESS_PART","INSERTION_MARK_ADDRESS_PART","NODE_ADDRESS_PART_STRINGS","COMMAND_INSERTION_MARK_SENTINEL","MINIMAL_LOREM_IPSUM_TEXT_FOR_FONT_MEASUREMENT","DATA_TOUCH_ROLES","canvasBackground","paletteBackground","blockAddressPrefix","dropdownAddressPrefix","literalAddressPrefix","dropdownChoicePrefix","DOM_ID_SUFFIXES","root","editorClipPath","backgroundDotPattern","paletteClipPath","dropdownMenuClipPath","TRANSPARENT","BlockEditor","React","generateComponentInstanceUid","bindMethods","onEditorOverlayTouchStart","onEditorOverlayMouseDown","onWindowTouchMove","onWindowMouseMove","onWindowTouchEnd","onWindowMouseUp","addEventListeners","removeEventListeners","colors","sizing","componentInstanceUid","dropdownMenu","uiTouch","totalScroll","scrollInProgress","scroll","currentClientPosition","startClientPosition","draggeeSpec","getDraggeeSpecOrNull","showTrashCan","kind","BlockDrag","hasPositionChangedSinceDragStart","isPointInBlockCanvasDomElement","trashCanScale","paletteBounds","paletteTrashCanHorizontalMargin","paletteTrashCanVerticalMargin","trashCanOffset","trashCanPosition","trashCan","_jsx","transform","fill","stringifyColor","paletteTrashCan","_jsxs","cursor","userSelect","patternUnits","cx","cy","backgroundDotRadius","backgroundDot","editorBounds","clipPath","background","canvasBounds","getCanvasItemRenderSpecs","spec","BlockSequenceView","editor","address","stringifyNodeAddressPart","getPaletteBlockRenderSpecs","BlockView","dividers","divider","dividerIndex","DropdownMenu","menu","editorProps","onTouchStart","onMouseDown","onEditorOverlayPointerDown","pointerClientPosition","touchRole","getTouchRoleAtClientPosition","onBlockCanvasBackgroundPointerDown","onBlockPaletteBackgroundPointerDown","blockAddress","role","startsWith","parsed","parseNodeAddressPart","part","getBlockAddressFromDataTouchRole","onBlockPointerDown","literalAddress","getLiteralAddressFromDataTouchRole","onLiteralPointerDown","dropdownAddress","getDropdownAddressFromDataTouchRole","onDropdownPointerDown","dropdownChoiceIndex","withoutPrefix","isInteger","getDropdownChoiceIndexFromDataTouchRole","onDropdownMenuChoicePointerDown","onWindowPointerMove","oldState","palette","blockKinds","defs","paletteSpecs","scrollDisplacement","paletteSpecMaxWidth","rbox","minScrollX","paletteLeftPadding","paletteRightPadding","lastPaletteSpec","lastPaletteSpecDef","block","maleSocketBonusHeight","Command","hasMaleSocket","commandSocket","paletteSpecTotalHeight","minScrollY","paletteTopPadding","paletteBottomPadding","startClientPositionAdjustment","hypotheticalCanvasItemSpecsAssumingDragPositionMovedSinceDragStart","getDraggeeSpec","isDisplacementZero","areVectorsEqual","insertionMarkAddress","getInsertionMarkAddressBasedOnDraggee","draggeeOriginalAddress","Literal","Dropdown","dropdownOrLiteralParentBlockAddress","hypotheticalPropsAssumingDragPositionMovedSinceDragStart","hypotheticalDraggeeSpec","DropdownMenuScroll","DropdownMenuChoice","dropdownMenuSpec","getDropdownMenuRenderSpec","displacement","choiceSpecs","choiceSpec","blockDropdownMenuBorder","choiceTotalHeight","getBlockEditorCursorBasedOnMousePosition","onWindowPointerUp","items","applyDragToCanvasItems","canvasItems","insertionAddress","literalParentBlock","subexpressionAddress","getLongestPossibleSubsequenceSpecFromSequenceSpecStartingAtLocalAddress","expectNumericAddressPart","blockSpecs","getSubexpressionParentBlockSpec","literalIndex","literal","expressions","isLiteral","literalEditor","literalSource","dropdownParentBlock","getDropdownParentBlockSpec","dropdownIndex","dropdownValue","dropdowns","dropdownChoices","signature","filter","choices","choiceIndex","updateDropdownValueInCanvas","updateCanvasToMatchLiteralEditor","itemIndex","position","content","updateBlockSequenceToMatchLiteralEditor","sequence","blockIndex","updateBlockToMatchLiteralEditor","expression","expressionIndex","expressionAddress","areNodeAddressesEqual","sequences","sequenceIndex","isValidColor","leftpadWithZero","desiredLength","_ref","blockColorTriplet","primary","commandInsertionMark","secondary","tertiary","isUnreachable","unreachableBlocks","blocks","blockBody","CommandBlockBody","teeth","editorSizing","outerColor","innerColor","QueryBlockBody","labelViews","labelSpecs","labelSpec","fontSize","blockLabelTextSizePx","blockLabelFont","dominantBaseline","blockLabelText","dropdownViews","dropdownSpecs","dropdownSpec","DropdownView","_Fragment","subexpressionSpecs","subSpec","Block","LiteralView","subsequenceSpecs","subsequenceSpec","_ref2","outerPath","innerRadius","blockBorderRadius","outerRadius","blockBorder","toothIndex","get_blockTLe_to_omTLe_path","get_omTLe_to_firstToothBlockTLe_path","get_omTLe_to_nextToothBlockTLe_assumingSequenceArgIndent_path","getCommandBlockOuterBodyPath","innerPath","borderWidth","get_blockTLe_to_imTLe_path","get_imTLe_to_firstToothBlockTLe_path","get_imTLe_to_nextToothBlockTLe_assumingSequenceArgIndent_path","getCommandBlockInnerBodyPath","tooth","hasFemaleSocket","toothX","toothY","points","getCommandBlockFemaleSocketPathPoints","femaleSocketIndent","commandSequenceArgIndent","ofTLs","ofTLe","ofBLs","ofBLe","ofBRs","ofBRe","ofTRs","ofTRe","get_blockTLe_to_ofTRe_path","toothWidth","toothHeight","get_ofTRe_to_blockBRe_path","maleOffsetY","maleSocketIndent","ifTRe","ifTRs","ifBRe","ifBRs","ifBLe","ifBLs","ifTLe","ifTLs","get_blockBRe_to_omTLe_path","get_blockTLe_to_ifTRe_path","get_ifTRe_to_blockBRe_path","get_blockBRe_to_imTLe_path","firstTooth","firstToothX","firstToothY","nextToothY","_ref3","getLandscapePillOuterAndInnerPathsFromBoundingBox","bbox","getLandscapePillPathFromBoundingBox","_ref4","dropdownDimensions","parentBlockKind","blockDropdownBorder","borderRadius","naiveTextDimensions","measureText","blockDropdownFont","blockDropdownTextSizePx","minimumTextDimensions","textDimensions","arrowScale","blockDropdownArrowWidth","haloBody","queryInsertionMarkHaloRadius","hasPendingEditMark","queryInsertionMarkHalo","blockDropdownHorizontalPadding","blockDropdownText","blockDropdownArrowLeftMargin","_ref5","literalDimensions","literalBody","blockLiteralBorder","hasQueryInsertionMark","blockLiteralBackground","blockLiteralHorizontalPadding","blockLiteralTextSizePx","blockLiteralFont","blockLiteralText","_ref6","blockSpec","getCanvasItemRenderSpec","_ref7","insertionMark","hasDragPositionChangedSinceDragStart","dropdownMenuDropdownAddress","getBlockSequenceRenderSpec","isFirstCommandEntryPoint","_ref8","rawPosition","localDraggeeAddress","commandsAfterRemovingDraggee","localInsertionMarkAddress","adjustedPosition","getDefaultCommandBlockHeight","commandlikes","nonInsertionMarkIndex","commandlike","getBlockRenderSpec","getInsertionMarkCommand","draggee","getMinimumCommandBlockHeight","command","BlockSequence","_ref9","blockDef","getCommandBlockRenderSpec","_ref11","parts","getBlockParts","currentY","rboxDimensions","blockParts","queryAddress","partDimensions","Label","getDropdownDimensions","getLiteralDimensions","dummyAddress","dummyInsertionMark","dummyIsUnreachable","CommandSequence","totalWidth","arr","rboxHeight","queryBlockVerticalPadding","totalInterBlockPartHorizontalMargin","interBlockPartHorizontalMargin","leftPadding","rightPadding","getQueryRboxDimensionsFromParts","queryRadius","currentX","misplacedButCorrectlySizedSpec","getQueryBlockRenderSpec","_ref10","blockDefs","minimumNonLabelNonSequencePartX","toothPartLists","currentToothParts","groupBlockPartsByTooth","previousSequence","toothParts","toothDimensions","getCommandToothDimensionsFromParts","isLastTooth","originalSequenceIndex","lastTooth","lastToothBottom","maxToothWidth","teethWithAdjustedWidth","commandAddress","totalExpressionsInPreviousTeeth","commandBlockHorizontalPadding","maxHeight","partIndex","leftMargin","minToothWidth","indent","commandBlockVerticalPadding","textDimensionsWithPadding","blockDropdownVerticalPadding","arrowDimensions","arrowDimensionsWithMargin","blockDropdownArrowVerticalMargin","blockLiteralVerticalPadding","signaturePart","Expression","border","bmin","minorBase","bmaj","majorBase","halfDiff","theta","atan","ro","fTLc","cos","sin","ofTLt","ofBLt","ofBLf","fBLc","ofBRt","fBRc","ofTRt","fTRc","commands","def","isEntryPoint","prefix","list","topCommand","topDef","translateBlockSpec","translateLabelSpec","translateDropdownSpec","translateLiteralSpec","translateExpressionSpec","translateBlockSequenceSpec","readdressBlockSpecAndMarkAsReachableAndRemovePendingEditMark","newAddress","readdressDropdownSpecAndMarkAsReachableAndRemovePendingEditMark","readdressLiteralSpecAndMarkAsReachableAndRemovePendingEditMark","readdressExpressionSpecAndMarkAsReachableAndRemovePendingEditMark","readdressBlockSequenceSpecAndMarkAsReachableAndRemovePendingEditMark","localAddress","commandIndex","getLongestPossibleSubsequenceSpecFromBlockSpecStartingAtLocalAddress","dragIndex","slicedSpecs","lastSlicedSpec","dummySequenceAddress","subexpressionIndex","subexpression","subsequenceIndex","isNodeAddressPartString","asNumber","Boolean","clientPosition","editorComponentInstanceUid","getElementById","elements","elementsFromPoint","getTouchRoleOrNearestAncestorTouchRole","parentElement","nodeTouch","drag","dragDisplacement","totalDisplacement","translatedSpec","getDraggeeFromBlockSequenceUsingLocalAddress","specs","blockKind","defaultArgs","paletteInterblockMargin","canvasItemSpecs","dragCurrentClientPosition","Query","snapHorizontalRange","snapVerticalRange","candidates","flatMap","getQueryInsertionMarkCandidatesFromBlockSequenceSpec","closest","minSquareDistance","candidate","getDisplacementBetweenQueryBodyLeftCircleCenters","squareDistance","getQueryInsertionMarkAddressBasedOnDraggeeAssumingDragIsInBlockCanvas","naiveAddress","getCommandInsertionMarkAddressBasedOnDraggeeWithinBlocklikeSpec","getCommandInsertionMarkAddressBasedOnDraggeeIgnoringSocketFit","afterInsertion","getCanvasItemFromSpec","firstCommand","doBlockSubsequencesContainMaleOrNonFinalFemaleSocket","firstCommandDef","commandIndexMinusOne","isMale","isNonFinalFemaleSocket","doCanvasItemsContainIllegalSocketMatches","translatedCanvasBounds","aLeft","aRight","aTop","aBottom","bLeft","bRight","bTop","bBottom","doRectanglesOverlap","getCommandInsertionMarkAddressBasedOnDraggeeAssumingDragIsInBlockCanvas","getQueryInsertionMarkCandidatesFromBlockSpec","literalSpec","aRadius","aCenterX","aCenterY","bRadius","_ref12","originalCanvasItems","afterRemoval","removalAddress","originalItem","updatedContent","removeNodeAtLocalAddressFromBlockSequence","doesBlockSequenceContainUndeletableBlock","afterInsertionOrDisplacement","insertNodeAtLocalAddressIntoBlockSequence","applyInsertionToCanvasItems","removeNodeAtLocalAddressFromBlock","removalIndex","original","insertNodeAtLocalAddressIntoBlock","insertionIndex","doesBlockSequenceContainMaleOrNonFinalFemaleSocket","canvasItemRenderSpecs","sortedCandidates","getCommandInsertionMarkCandidatesFromBlockSequenceSpec","sort","draggeeLeft","draggeeTop","draggeeBottom","topCandidate","topCandidateLeft","topCandidateTop","xDistanceFromTopCandidate","topAddress","bottomCandidate","bottomCandidateLeft","bottomCandidateTop","bottomCandidateBottom","xDistanceFromBottomCandidate","bottomAddress","currentIndex","currentLeft","currentTop","previous","previousLeft","previousTop","xDistance","sequenceSpec","commandSpec","draggeeeSpec","canvasItemContents","getToothTopAddress","getToothBottomAddress","getCommandInsertionMarkCandidatesFromBlockSpec","sequenceAboveThisToothAddress","specForSequenceAboveThisTooth","getBlockSequenceSpecFromAncestorBlockSequenceSpecAndLocalAddress","getBlockSequenceSpecFromAncestorBlockSpecAndLocalAddress","lastPart","isBlockOrAnyDescendantUndeletable","isDeletable","_ref13","dropdownParentBlockSpec","menuSpec","rx","blockDropdownMenuBorderRadius","ry","textRbox","blockDropdownMenuFont","blockDropdownMenuTextSizePx","blockDropdownMenuInterChoiceDividerHeight","_ref14","totalCanvasScroll","dropdownSvgCoords","dropdownSvgCenter","canvasCenter","totalMenuScroll","choiceSpecsWithUnadjustedRboxes","choiceText","blockDropdownMenuHorizontalPadding","blockDropdownMenuChoiceVerticalMargin","maxChoiceSpecWidth","lastUnadjustedRbox","menuHeight","blockDropdownMenuDimensions","menuY","menuOuterRbox","newDropdownValue","updateDropdownValueInBlockSequenceUsingLocalAddress","localDropdownAddress","updateDropdownValueInBlockUsingLocalAddress","targetId","touchRoleAtClientPosition","CanvasElementKind","PathInstructionKind","TransformKind","NULL_CANVAS_ELEMENT","Group","paintCanvasElement","save","_element$transform","_element$alpha","transforms","applyTransform","applyTransforms","globalAlpha","alpha","beginPath","instruction","executePathInstruction","closePath","clip","applyGroupModifications","restore","dx","dy","dw","Text","applyFont","fillStyle","fillText","maxWidth","Path","Path2D","stroke","strokeStyle","lineWidth","Clear","_font$fontWeight","_font$textBaseline","_font$textAlign","textBaseline","textAlign","Translate","translate","Rotate","rotate","angle","Scale","scale","inst","MoveTo","moveTo","LineTo","lineTo","ArcTo","arcTo","x1","y1","x2","y2","GAME_VERSION","UiLanguage","SETTINGS_VERSION","SafeArea","SafeAreaWeb","getSafeAreaInsets","Preferences","PreferencesWeb","SplashScreen","SplashScreenWeb","audioUrls","button_pop","UiTextKind","BlockKind","InactiveBlockKind","BattleEventKind","SquareKind","AnimationKind","Level","LAST_LEVEL","UI_TEXT_FONT_FAMILY","ERROR_ALERT_TEXT_FONT_FAMILY","BATTLE_OUTCOME_TEXT_FONT_FAMILY","BUTTON_TEXT_FONT_FAMILY","HEALTH_TEXT_FONT_FAMILY","BLOCK_TEXT_FONT_FAMILY","TEXT_SENTINELS","ALL_PUZZLE_SCREEN_BUTTON_ICON_SENTINELS","PUZZLE_SCREEN_BUTTON_ICON_SENTINEL_IMAGES","ALL_FONT_CHANGE_SENTINELS","FONT_CHANGE_SENTINEL_FONT_FAMILIES","LOCALIZED_UI_TEXT","English","PleaseSwitchToLandscape","EditCode","ViewMap","StartBattle","LevelCleared","LevelFailed","NextLevel","CannotAdvance","CannotRetreat","CannotAttack","CannotHeal","CloseLiteralEditor","Home","StartPuzzleFromBeginning","StartPuzzleFromLastSaved","Settings","FlagAndCurrentLanguage","Credits","ResetToLevelOne","CreditScreenTitle","CreditScreenNames","CreditScreenGameInfo","Stage2ComingSoon","LoadingDotDotDot","TutorialLevel1Part1_MoveTheHero","TutorialLevel1Part2_DragBlueBlock","TutorialLevel1Part3_DragAnotherBlock","TutorialLevel1Part4_PressView","TutorialLevel1Part5_PressPlay","TutorialLevel2Part1_MoveTheHero","TutorialLevel9Part1_ScrollDown","TutorialLevel9Part2_ScrollUp","TutorialLevel9Part3_DragLessThan","TutorialLevel9Part4_DragHealth","TutorialLevel9Part5_Type20","AreYouSureYouWantToResetToLevelOne","ConfirmReset","CancelReset","Japanese","EnemyCombinationKind","LOCALIZED_DEFEATED_ENEMIES_BUT_FORGOT_TO_MOVE_HERO_TO_STAIRS_MESSAGE_TEXT","SingleGoblin","MultipleGoblins","SingleWitch","LOCALIZED_USE_CODE_TO_DEFEAT_ENEMIES_AND_MOVE_HERO_TO_STAIRS_MESSAGE_TEXT","BattleStatus","HeroActionKind","ButtonKind","COLOR_THEME","white","parseColorHexString","gray","unreachableBlockGray","backgroundDotGray","errorAlertRed","paletteBackgroundWhite","dividerGray","buttonBlue","red","fire","orange","yellow","lime","emerald","cyan","blue","purple","magenta","pink","insertionMarkTransparentBlack","textWhite","textBrown","squareRed","heartMarkRed","heartMarkBorderPink","SIZING","paletteWidth","blockPadding","minPalettePadding","battleOutcomeAlertWidthFactor","blockTextSizePx","unscaledErrorAlertTextSizePx","unscaledHealthTextSizePx","unscaledBattleOutcomeTextSizePx","unscaledButtonTextSizePx","castleInteriorImage","interCommandPartMargin","healthTextBorder","depressedButtonScale","BATTLE_CONFIG","heroDamage","goblinDamage","giantGoblinDamage","witchDamage","witchAttackRange","witchSummonGoblinHealthCost","heroMaxHealth","heroHeal","MAIN_BLOCK_EDITOR_BLOCK_COLORS","MoveForward","Attack","WhenBattleStarts","Heal","MoveBackward","Forever","XInFront","And","Or","Not","Health","LessThan","Equal","GreaterThan","MAIN_BLOCK_EDITOR_STATIC_CONFIG","sizingWithoutWindowDependentProperties","mapBlockKindRecord","TRANSPARENT_TRIPLET","BLACK","TUTORIAL_BLOCK_EDITOR_STATIC_CONFIG","tripletWithAlpha","MINIMAP_BLOCK_EDITOR_STATIC_CONFIG","triplet","saturate","mapBlockKindRecordToInactiveBlockKindRecord","X_IN_FRONT_DROPDOWN_VALUES","Empty","Goblin","GiantGoblin","Witch","BLOCK_DEF_STRINGS","BLOCK_DEFS","dict","parseBlockDefString","DOM_ELEMENT_IDS","SCREEN_TRANSITION_ANIMATION_SECONDS","REAL_VSO","VEC2_VSO","COLOR32_VSO","LOCAL_STORAGE_STATE_KEY","DEFAULT_LANGUAGE","LEVEL_1_TUTORIAL_DRAG_CYCLE","totalDurationInSeconds","movingPhaseDurationInSeconds","insertionMarkTimeInSeconds","blockReleaseTimeInSeconds","firstDragEnd","secondDragEnd","LEVEL_9_TUTORIAL_ANIMATION_CYCLE","paletteScroll","fingerDownTimeInSeconds","dragStartTimeInSeconds","dragEndTimeInSeconds","fingerUpTimeInSeconds","paletteToCanvasDrag","healthBlockIntoLessThanBlockInsertionMarkTimeInSeconds","lessThanBlockDragEnd","literalTap","fingerFlashPeriod","ATTACK_DURATION_IN_SECONDS","HEAL_ANIMATION_DURATION_IN_SECONDS","MELEE_ATTACKERS","Hero","MELEE_DAMAGE_OVERLAY_FLASH_START_FACTOR","MELEE_DAMAGE_OVERLAY_FLASH_END_FACTOR","FIREBALL_DAMAGE_OVERLAY_FLASH_START_FACTOR","FIREBALL_DAMAGE_OVERLAY_FLASH_END_FACTOR","X_IN_FRONT_DROPDOWN_VALUES_TO_EXPECTED_SQUARE_KIND_DICT","fromEntries","squareKind","string","svgTextDimensionCache","SVG_TEXT_DIMENSION_CACHE_KEY_SEPARATOR","UI_FONT_SIZE","ONE_SECOND_AFTER_FILE_LOAD","hasPerformedPreflightSanityCheck","App","mainBlockEditorComponentInstanceUid","tutorialBlockEditorComponentInstanceUid","minimapBlockEditorComponentInstanceUid","ghostSvg","tempCanvasCtx","frontCanvasCtx","blockLiteralEditor","blockLiteralEditorForm","blockLiteralEditorInput","blockLiteralEditorCloseButton","initialSavedStateOrDefault","buttonPopSound","lastBlockEditorSetStateCallTime","currentLevelBattleEventsCache","prevLevelBattleEventsCache","__debug__pause","level","Level1","getEnemyCombinationKindOfEnemiesInitiallyBlockingHeroFromStairs","performEnemyCombinationSanityCheckOnAllLevels","performPreflightSanityCheckIfNotAlreadyPerformed","tempCanvas","willReadFrequently","frontCanvas","res","parseStringAsStateButReturnDefaultStateIfInvalid","getSavedStateOrDefault","getCurrentTimestamp","timeCached","millisecondsSinceEpoch","blockEditor","localStorage","getItem","appWidth","innerWidth","appHeight","innerHeight","orientationType","screen","animationKind","Loading","animationStartTime","currentTimestamp","battleAnimationOffsetSeconds","prevLevelBlockEditor","getDummyBlockEditorState","mostRecentTutorialBlockEditorUpdateTime","onlyTouchStartButton","onlyTouchDepressedButton","mouseClientPosition","safeAreaInsets","insets","right","bottom","onResize","onWindowTouchStart","onWindowMouseDown","onEditBlocksButtonClick","onViewMapButtonClick","onResumeBattleButtonClick","onPauseBattleButtonClick","onNextLevelButtonClick","onLiteralEditorFormSubmit","onLiteralEditorInputChange","onCloseLiteralEditorButtonClick","onReturnHomeButtonClick","measureCanvasText","measureSvgText","setBlockEditorState","updateCanvas","getCurrentLevelBattleEvents","startLoadingBarProgressAnimation","removeProperty","prevState","hide","app","skipToLevel","getStartingBlockEditorStateForLevel","reload","getLoadingScreenAnimationUpdater","removeSafeAreaChangeListener","unsafeNextLevel","isScreenShowingVictory","savableState","stateString","setItem","saveState","getButtonAt","getButtonClickDetectorResources","updateBlockLiteralEditor","dualRender","reactElement","shouldShowEditor","Edit","classList","toggle","innerText","getUiText","dualRenderAssumingLandscapeOrientation","dualRenderAssumingPortraitOrientation","dualRenderLoadingScreen","StaticHome","dualRenderHomeScreen","dualRenderEditScreen","StaticSettings","dualRenderSettingsScreen","StaticConfirmResetToLevelOne","dualRenderConfirmResetToLevelOneScreen","HomeToView","dualRenderHomeToViewAnimation","EditToView","dualRenderEditToViewAnimation","ViewToEdit","dualRenderViewToEditAnimation","ViewToHome","dualRenderViewToHomeAnimation","EditToHome","dualRenderEditToHomeAnimation","PlayBattle","PauseBattle","dualRenderBattleScreen","dualRenderNextLevelAnimation","OpenSettings","dualRenderOpenSettingsAnimation","CloseSettings","dualRenderCloseSettingsAnimation","dualRenderCreditsAnimation","className","canvasElement","renderLoadingScreenCanvasElement","minimumHorizontalScale","minimumVerticalScale","loadCompletionFactor","getLoadCompletionFactor","castleCodersTextBBox","scaledWidth","scaledHeight","SCALED_CASTLE_CODERS_TEXT_BOTTOM_MARGIN","loadingText","loadingTextDimensions","loadingTextBottom","SCALED_LOADING_TEXT_BOTTOM_MARGIN","SCALED_LOADING_BAR_DEPTH_ILLUSION_OFFSET","renderHomeScreenBackgroundCanvasElement","renderRect","renderHomeScreenCanvasElement","renderHomeScreenButtonsCanvasElement","extendedHomeBackgroundBBox","nonextendedHomeBackgroundBBox","nondepressedStartButtonBBox","startButtonBBox","HomeScreenStart","getDepressedButtonBBox","nonDepressedSettingsButtonBBox","settingsButtonBBox","nondepressedStartButtonTextBBox","startButtonTextBBox","nondepressedSettingsTextBBox","settingsTextBBox","getRectCenter","blockEditorProps","getMainBlockEditorConfig","noBlockEditorUiAction","tutorialBlockEditorProps","getTutorialBlockEditorConfig","getTutorialBlockEditorState","noOp","puzzleButtonsCanvasElement","blockEditorDragBlocker","dualRenderPuzzleScreenButtons","Level9","pointerEvents","renderTutorialCanvasElement","dualRenderSettingsBoxOverHomeScreen","settingsScreenDy","renderSettingsBoxCanvasElement","settingsBoxBBox","nondepressedCloseButtonBBox","closeButtonBBox","SettingsScreenClose","nondepressedLanguageButtonBBox","languageButtonBBox","Language","nondepressedCreditsButtonBBox","creditsButtonBBox","nondepressedResetButtonBBox","resetButtonBBox","OpenConfirmResetToLevelOneScreen","withAlpha","renderConfirmResetTOLevelOneBoxCanvasElement","ConfirmResetToLevelOneScreenClose","ConfirmResetToLevelOne","CancelResetToLevelOne","elapsedSeconds","getElapsedSeconds","homeScreenDy","battleEvents","battleElapsedSeconds","battleAnimationData","getBattleAnimationData","getInitialLevelState","renderBattleAndOutcomeScreenCanvasElement","blockEditorDy","renderPuzzleScreenButtonsCanvasElement","protectedAreaScalePoint","protectedAreaScale","getBattleScreenProtectedAreaScalePointAndScaleFactor","minimapBBox","getMinimapBBox","minimapBlockEditorProps","getMinimapBlockEditorConfig","getMinimapBlockEditorState","renderTutorial","renderKilledEnemiesButForgotToMoveHeroToStairsHintIfNeeded","prevBattleEvents","getPrevLevelBattleEvents","prevBattleElapsedSeconds","prevBattleAnimationData","creditTextDy","textElements","getUntransformedCreditScreenTextElementsAndFinalYCursor","title","titleFont","titleTextDimensions","titleElement","sectionBottomMargin","bodyFont","lineBottomMargin","names","gameInfoLines","infoLine","getCreditRollDurationInSeconds","untransformedYCursor","_options$renderTutori","backgroundImageScale","backgroundImageTop","protectedAreaTransform","levelState","currentLevelState","battleStatus","errorAlert","particles","advanceSummon","battleOutcomeTextDimensions","Victory","Defeat","nondepressedNextLevelButtonTextDimensions","nondepressedNextLevelButtonPadding","nondepressedNextLevelButtonBBox","nextLevelButtonBBox","nextLevelButtonFontSize","victoryElements","periodicColorSinInterp","defeatElements","renderMinimapHoleCanvasElement","squares","_square","square","squareIndex","renderCastleSquareOccupant","summonee","summoneeIndex","particle","circle","renderCircle","textElement","rectWidth","opacityFactor","renderStage2ComingSoonCanvasElement","protectedAreaLeft","lastSquareBBoxBottomRight","protectedAreaWidth","areAnyBlocksReachable_","areAnyBlocksReachable","isBattleFinished","isScreenShowingDefeat","blockEditorCanvasItems","isLevelOneAndNotReadyToExecuteCode","isLevelOneAndReadyToExecuteCode","isBlockCanvasIsInInitialState","nondepressedLeftButtonBBox","leftButtonBBox","PuzzleScreenLeft","editButton","disabledEditButton","flashingEditButton","leftButton","getCurrentLevelBattleAnimationData","didHeroSurviveLevelButFailToReachStairs","leftButtonOverlay","nondepressedMiddleButtonBBox","middleButtonBBox","PuzzleScreenMiddle","viewButtonSpec","disabledViewButtonSpec","flashingViewButtonSpec","flashing","playButtonSpec","disabledPlayButtonSpec","flashingPlayButtonSpec","pauseButtonSpec","disabledPauseButtonSpec","ENTER_VIEW_SCREEN_ANIMATIONS","middleButtonSpec","middleButton","middleButtonDepressionOverlay","middleButtonFlashOverlay","nondepressedRightButtonBBox","rightButtonBBox","PuzzleScreenRight","rightButton","rightButtonOverlay","comingSoonTextLines","bodyLines","renderLevel1TutorialCanvasElementAssumingNoBlockEditorUiAction","Level2","renderLevel2TutorialCanvasElementAssumingNoBlockEditorUiAction","renderLevel9TutorialCanvasElementAssumingNoBlockEditorUiAction","renderDefaultMissionMessageCanvasElementAssumingNoBlockEditorUiAction","isReadyToExecuteCode","bBoxOfTallInstructionsBoxForCastleBackground","bBoxOfShortInstructionsBoxForBlockEditor","bBoxOfShortInstructionsBoxForCastleBackground","instructionBoxBBox","instructionsText","renderTextAndIconsAroundCenter","fingerHeight","paletteMoveForwardBlockRbox","fingerStart","instructionsBoxBBox","fingerEnd","secondsIntoDragCycle","getLaterTimestamp","fingerPosition","isAnimationInDragPhase","isBlockCanvasInInitialState","instructionsBoxSource","instructionsBoxCanvasElement","enemyCombinationKind","hasUserEditedLiteral","doesBlockSequenceContainNonEmptyLiteral","instructionsWidth","instructionsHeight","fingerWidth","paletteLessThanBlockRbox","paletteLessThanBlockRboxTop","paletteLessThanBlockRboxBottom","PADDING","MAX_RBOX_RIGHT","requiredPaletteScrollYForLessThanBlock","onScreenEmptyLessThanBlockSpec","isOnScreenEmptyLessThanBlockSpec","translatedTopLeft","isOnScreen","isEmpty","every","expr","seqSpec","getBlockSpecFromBlockSequenceSpecSatisfying","onScreenLessThanWithHealthLhsAndEmptyRhsBlockSpec","isOnScreenLessThanWithHealthLhsAndEmptyRhsBlockSpec","lhs","isLhsHealthBlock","rhs","isRhsEmptyLiteral","unpaddedExclusionZones","CANDIDATE_STEP","highestDragStartYCandidate","zone","lowestDragStartYCandidate","dragStart","dragEnd","completionFactor","paletteHealthBlockRbox","paletteHealthBlockRboxTop","paletteHealthBlockRboxBottom","requiredPaletteScrollYForHealthBlock","secondsElapsedAfterLastEdit","PI","didHeroDefeatAllEnemiesButForgetToMoveToStairs","getLevel9DragStatus","needsHealthBlockDrag","unreachableBlockColor","foreground","fgAlpha","bgAlpha","outAlpha","unrounded","toU8","compositeColor32","getLocalizedBlockDefs","getTutorialBlockEditorStateAssumingLevel1","getTutorialBlockEditorStateAssumingLevel9","entryPoint","showInsertionMark","isDragging","offscreenBlockPosition","startDisplacement","endDisplacement","offscreenMoveForward","onscreenWhenBattleStarts","onscreenWhenBattleStartsMoveForward","onscreenWhenBattleStartsMoveForwardTwice","unsafeUiTouch","EMPTY_BLOCK_EDITOR_STATE","readonlyMainBlockEditorProps","needsLessThanBlockDrag","offscreenLessThan","offscreenHealth","onscreenEmptyLessThan","hypotheticalOnscreenEmptyLessThan","hypotheticalOnscreenFilledLessThan","mainConfig","identity","_getBattleAnimationDa","executedBlockAddress","activeCanvasItemPosition","activeCanvasItem","flagBlockSequenceAsInactiveExcept","withoutCanvasScroll","getRboxAtAddressFromBlockSequence","requestContent","segmentText","devicePixelRatio","resetTransform","onOnlyPointerDown","touchedButton","onOnlyPointerMove","onOnlyPointerUp","SettingsScreenSecondaryClose","CreditsScreenClose","onHomeScreenStartButtonClick","onHomeScreenSettingsButtonClick","onPuzzleScreenLeftButtonClick","onPuzzleScreenMiddleButtonClick","onPuzzleScreenRightButtonClick","onLanguageButtonClick","onCreditsButtonClick","onOpenConfirmResetToLevelOneScreenButtonClick","onSettingsScreenCloseButtonClick","onCreditsScreenCloseButtonClick","onConfirmResetToLevelOneButtonClick","onCancelResetToLevelOneButtonClick","updateAnimationTimeIfAnimationIsStillInProgress","currentState","areTimestampsEqual","getEditScreenAnimationUpdaterIfOnTutorialLevel","getViewScreenEnterAnimationUpdater","getPauseScreenAnimationUpdater","nextLevel","getNextLevel","closeLiteralEditor","newLiteralSource","newLiteralEditorState","fontSizePx","getSvgTextDimensionCacheKey","cached","measureSvgTextIgnoringCache","svgRect","getBoundingClientRect","getBBox","actualBoundingBoxAscent","actualBoundingBoxDescent","disableBlockDeletionBasedOnLevel","updateBlockEditorState","optionalCallback","newBlockEditorState","oldBlockEditorState","isDraggingWhenBattleStartsBlock","isScrollingCanvas","isLevel1AndShouldResetMostRecentTutorialBlockEditorUpdateTime","areAnyTrue","isLevel9AndShouldResetMostRecentTutorialBlockEditorUpdateTime","oldItem","newItem","shouldResetMostRecentTutorialBlockEditorUpdateTime","startViewToHomeAnimation","startEditToHomeAnimation","currentScreen","getHomeScreenEnterAnimationUpdater","levelUpOnHomeScreen","newLevelAndBlockEditorState","battleEventsCache","newCache","getBattleEvents","evaluateSimpleClampedFunction","center","puzzleButtonIconDimensions","puzzleButtonIconHorizontalMargin","minLineHeight","textColor","getInstructionsBoxRenderInfo","lines","rawLine","currentText","sentinel","allPartWidths","line","fontFamilyOverride","lineHeights","sum","lineIndex","partWidths","partWidth","buttonIconWidth","initialLevelState","canvasItem","mbec","gas","blockIndexMinusOne","blockSource","isBattleStillOngoing","evalAndPopTopStackBlock","eventsFromEnemyTurn","levelStateAfterEnemyTurn","getBattleEventsAndNewLevelStateAfterEnemyTurn","getHeroIndex","addFailLevelEventIfNotAlreadyPresent","canEnemiesSummon","EvalBlock","advanceAttempt","Advance","FailHeroAction","failedActionKind","applyBattleEventUnchecked","ClimbStairs","retreatAttempt","Retreat","attackAttempt","attackerIndex","targetIndex","damage","healAttempt","health","healAmount","sequenceBlock","sequenceBlockIndex","evalArgExpression","operand","expected","heroIndex","inspectedIndex","lhsStr","rhsStr","doesBlockKindConsumeHeroTurn","ibec","goblinAttack","giantGoblinAttack","getFrontAttackingWitchIndex","witchAttack","attackingWitchIndex","heroDistance","enemyIndex","enemyKind","cloneBlockExecutionContext","willHeroKillEnemyAtIndexAssumingEnemiesCannotSummon","summon","Summon","summonerIndex","summonerHealthCost","findIndex","currentLevel","currentSquare","damagedGoblin","damagedGiantGoblin","damagedWitch","healedGoblin","healedGiantGoblin","FailLevel","STAIR_CLIMB_OFFSET_X","SQUARE_WIDTH","prng","prand","timeCursor","inInterEventDelay","hasFailLevelEventBeenEmitted","eventIndex","eventDuration","getBattleEventDuration","remainingTime","characterDisplacements","attackCompletionFactor","horizontallyStretchSimpleFunction","damageOverlayAlphas","attackerSquareKind","flashCompletionFactor","InProgress","displayHeroHealingAnimation","errorAlertOpacityFactorFor1SecondAnimations","part1DurationFactor","partCompletionFactor","part2CumulativeFactor","isWitchAttack","isWitchSummon","witchAnimationFrame","rawParticleSystemCompletionFactor","clampedParticleSystemCompletionFactor","timedParticles","spellCastingWitchIndex","spellTargetIndex","emitterStartPosition","emitterEndPosition","emitterFinalStepCount","stepCount","emitterPosition","particleIndex","birthTimeFactor","isExplosion","transformedParticles","particleCompletionFactor","unit","scaleFactor","speed","particleGrowthRate","advanceHealthChanges","squareOccupantAlphas","empty","getLevel1InitialState","getLevel2InitialState","Level3","getLevel3InitialState","Level4","getLevel4InitialState","Level5","getLevel5InitialState","Level6","giantGoblin","getLevel6InitialState","Level7","getLevel7InitialState","Level8","getLevel8InitialState","getLevel9InitialState","Level10","witch","getLevel10InitialState","frequencyHertz","withoutHash","getPaletteBlockKinds","getStartingCanvasItemsForLevel","blockDefString","undeletable","hermaphroditeCommand","maleCommand","femaleCommand","query","remaining","dropdownDefaults","literalDefaults","expressionMatch","dropdownMatch","sequenceMatch","indexOfNextPart","labelText","trimmedLabelText","maxAttackerIndex","optVso","vso","firstPoint","lastPoint","prevPoint","nextPoint","stretchFactor","point","later","earlier","rect","_rect$rx","_rect$ry","pathData","resources","elem","isWithinButtonWithNonextendedHomePosition","isWithinHomeScreenStartButton","isWithinHomeScreenSettingsButton","getButtonAtPositionAssumingHomeScreen","getButtonAtPositionAssumingSettingsScreen","hypotheticalButton","getButtonAtPositionAssumingConfirmResetToLevelOne","buttonImage","imageX","imageY","isWithinPuzzleScreenLeftButton","isWithinPuzzleScreenMiddleButton","isWithinPuzzleScreenRightButton","nextLevelButtonTextDimensions","nextLevelButtonPadding","victoryButton","isWithinNextLevelButton","getButtonAtPositionAssumingPuzzleScreen","isWithinSettingsScreenLanguageButton","isWithinSettingsScreenCreditsButton","isWithinSettingsScreenResetButton","isWithinSettingsScreenCloseButton","isWithinSettingsScreenSecondaryCloseButton","bboxInNonextendedHomeCoords","MAIN_DIMENSIONS","mainRbox","touchPositionInImageCoords","nondepressedBBox","nondepressedWidth","nondepressedHeight","getDefaultSavableState","parse","navLang","bools","activeBlockAddress","sequenceAddress","flagBlockAsInactiveExcept","getActiveVersionOfBlockKind","getInactiveVersionOfBlockKind","halfDict","_val","newG","newB","targetAddress","subRbox","getRboxAtAddressFromBlock","expressionSpec","NORMALLY_DELETABLE_BLOCK_KINDS_THAT_ARE_UNDELETABLE","originalDef","doesBlockContainNonEmptyLiteral","predicate","subBlockSpec","getSubBlockSpecFromBlockSpecSatisfying","subSeqSpec","healthTextSizePx","witchImage","nums","total","containsEnemy","enemiesInitiallyBetweenHeroAndStairs","everyInitialEnemyWasGoblinOrGiantGoblin","everyInitialEnemyWasWitch","isLocalhost","hostname","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","URL","process","origin","unregister","checkValidServiceWorker","serviceWorkerRegistration","reportWebVitals"],"sourceRoot":""}